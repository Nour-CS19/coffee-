(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function V0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var km={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function DR(){if(EE)return uu;EE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:u}}return uu.Fragment=e,uu.jsx=n,uu.jsxs=n,uu}var TE;function NR(){return TE||(TE=1,km.exports=DR()),km.exports}var R=NR(),zm={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function OR(){if(bE)return Be;bE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,U={};function Z(V,re,ce){this.props=V,this.context=re,this.refs=U,this.updater=ce||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=Z.prototype;function te(V,re,ce){this.props=V,this.context=re,this.refs=U,this.updater=ce||k}var de=te.prototype=new ee;de.constructor=te,G(de,Z.prototype),de.isPureReactComponent=!0;var me=Array.isArray;function H(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(V,re,ce){var ge=ce.ref;return{$$typeof:r,type:V,key:re,ref:ge!==void 0?ge:null,props:ce}}function P(V,re){return C(V.type,re,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function j(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return re[ce]})}var N=/\/+/g;function Ve(V,re){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):re.toString(36)}function it(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(H,H):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,re,ce,ge,Ne){var Pe=typeof V;(Pe==="undefined"||Pe==="boolean")&&(V=null);var $e=!1;if(V===null)$e=!0;else switch(Pe){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(V.$$typeof){case r:case e:$e=!0;break;case v:return $e=V._init,Y($e(V._payload),re,ce,ge,Ne)}}if($e)return Ne=Ne(V),$e=ge===""?"."+Ve(V,0):ge,me(Ne)?(ce="",$e!=null&&(ce=$e.replace(N,"$&/")+"/"),Y(Ne,re,ce,"",function(Rt){return Rt})):Ne!=null&&(M(Ne)&&(Ne=P(Ne,ce+(Ne.key==null||V&&V.key===Ne.key?"":(""+Ne.key).replace(N,"$&/")+"/")+$e)),re.push(Ne)),1;$e=0;var qt=ge===""?".":ge+":";if(me(V))for(var Et=0;Et<V.length;Et++)ge=V[Et],Pe=qt+Ve(ge,Et),$e+=Y(ge,re,ce,Pe,Ne);else if(Et=I(V),typeof Et=="function")for(V=Et.call(V),Et=0;!(ge=V.next()).done;)ge=ge.value,Pe=qt+Ve(ge,Et++),$e+=Y(ge,re,ce,Pe,Ne);else if(Pe==="object"){if(typeof V.then=="function")return Y(it(V),re,ce,ge,Ne);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return $e}function ue(V,re,ce){if(V==null)return V;var ge=[],Ne=0;return Y(V,ge,"","",function(Pe){return re.call(ce,Pe,Ne++)}),ge}function ve(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var Le=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ke={map:ue,forEach:function(V,re,ce){ue(V,function(){re.apply(this,arguments)},ce)},count:function(V){var re=0;return ue(V,function(){re++}),re},toArray:function(V){return ue(V,function(re){return re})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Be.Activity=T,Be.Children=ke,Be.Component=Z,Be.Fragment=n,Be.Profiler=o,Be.PureComponent=te,Be.StrictMode=a,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Be.cache=function(V){return function(){return V.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(V,re,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ge=G({},V.props),Ne=V.key;if(re!=null)for(Pe in re.key!==void 0&&(Ne=""+re.key),re)!A.call(re,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&re.ref===void 0||(ge[Pe]=re[Pe]);var Pe=arguments.length-2;if(Pe===1)ge.children=ce;else if(1<Pe){for(var $e=Array(Pe),qt=0;qt<Pe;qt++)$e[qt]=arguments[qt+2];ge.children=$e}return C(V.type,Ne,ge)},Be.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Be.createElement=function(V,re,ce){var ge,Ne={},Pe=null;if(re!=null)for(ge in re.key!==void 0&&(Pe=""+re.key),re)A.call(re,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ne[ge]=re[ge]);var $e=arguments.length-2;if($e===1)Ne.children=ce;else if(1<$e){for(var qt=Array($e),Et=0;Et<$e;Et++)qt[Et]=arguments[Et+2];Ne.children=qt}if(V&&V.defaultProps)for(ge in $e=V.defaultProps,$e)Ne[ge]===void 0&&(Ne[ge]=$e[ge]);return C(V,Pe,Ne)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(V){return{$$typeof:m,render:V}},Be.isValidElement=M,Be.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ve}},Be.memo=function(V,re){return{$$typeof:g,type:V,compare:re===void 0?null:re}},Be.startTransition=function(V){var re=D.T,ce={};D.T=ce;try{var ge=V(),Ne=D.S;Ne!==null&&Ne(ce,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(H,Le)}catch(Pe){Le(Pe)}finally{re!==null&&ce.types!==null&&(re.types=ce.types),D.T=re}},Be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Be.use=function(V){return D.H.use(V)},Be.useActionState=function(V,re,ce){return D.H.useActionState(V,re,ce)},Be.useCallback=function(V,re){return D.H.useCallback(V,re)},Be.useContext=function(V){return D.H.useContext(V)},Be.useDebugValue=function(){},Be.useDeferredValue=function(V,re){return D.H.useDeferredValue(V,re)},Be.useEffect=function(V,re){return D.H.useEffect(V,re)},Be.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Be.useId=function(){return D.H.useId()},Be.useImperativeHandle=function(V,re,ce){return D.H.useImperativeHandle(V,re,ce)},Be.useInsertionEffect=function(V,re){return D.H.useInsertionEffect(V,re)},Be.useLayoutEffect=function(V,re){return D.H.useLayoutEffect(V,re)},Be.useMemo=function(V,re){return D.H.useMemo(V,re)},Be.useOptimistic=function(V,re){return D.H.useOptimistic(V,re)},Be.useReducer=function(V,re,ce){return D.H.useReducer(V,re,ce)},Be.useRef=function(V){return D.H.useRef(V)},Be.useState=function(V){return D.H.useState(V)},Be.useSyncExternalStore=function(V,re,ce){return D.H.useSyncExternalStore(V,re,ce)},Be.useTransition=function(){return D.H.useTransition()},Be.version="19.2.0",Be}var SE;function jp(){return SE||(SE=1,zm.exports=OR()),zm.exports}var z=jp();const xR=V0(z);var jm={exports:{}},cu={},Bm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function MR(){return wE||(wE=1,(function(r){function e(Y,ue){var ve=Y.length;Y.push(ue);e:for(;0<ve;){var Le=ve-1>>>1,ke=Y[Le];if(0<o(ke,ue))Y[Le]=ue,Y[ve]=ke,ve=Le;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var ue=Y[0],ve=Y.pop();if(ve!==ue){Y[0]=ve;e:for(var Le=0,ke=Y.length,V=ke>>>1;Le<V;){var re=2*(Le+1)-1,ce=Y[re],ge=re+1,Ne=Y[ge];if(0>o(ce,ve))ge<ke&&0>o(Ne,ce)?(Y[Le]=Ne,Y[ge]=ve,Le=ge):(Y[Le]=ce,Y[re]=ve,Le=re);else if(ge<ke&&0>o(Ne,ve))Y[Le]=Ne,Y[ge]=ve,Le=ge;else break e}}return ue}function o(Y,ue){var ve=Y.sortIndex-ue.sortIndex;return ve!==0?ve:Y.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,T=null,S=3,I=!1,k=!1,G=!1,U=!1,Z=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function de(Y){for(var ue=n(g);ue!==null;){if(ue.callback===null)a(g);else if(ue.startTime<=Y)a(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function me(Y){if(G=!1,de(Y),!k)if(n(p)!==null)k=!0,H||(H=!0,j());else{var ue=n(g);ue!==null&&it(me,ue.startTime-Y)}}var H=!1,D=-1,A=5,C=-1;function P(){return U?!0:!(r.unstable_now()-C<A)}function M(){if(U=!1,H){var Y=r.unstable_now();C=Y;var ue=!0;try{e:{k=!1,G&&(G=!1,ee(D),D=-1),I=!0;var ve=S;try{t:{for(de(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&P());){var Le=T.callback;if(typeof Le=="function"){T.callback=null,S=T.priorityLevel;var ke=Le(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof ke=="function"){T.callback=ke,de(Y),ue=!0;break t}T===n(p)&&a(p),de(Y)}else a(p);T=n(p)}if(T!==null)ue=!0;else{var V=n(g);V!==null&&it(me,V.startTime-Y),ue=!1}}break e}finally{T=null,S=ve,I=!1}ue=void 0}}finally{ue?j():H=!1}}}var j;if(typeof te=="function")j=function(){te(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ve=N.port2;N.port1.onmessage=M,j=function(){Ve.postMessage(null)}}else j=function(){Z(M,0)};function it(Y,ue){D=Z(function(){Y(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var ve=S;S=ue;try{return Y()}finally{S=ve}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=S;S=Y;try{return ue()}finally{S=ve}},r.unstable_scheduleCallback=function(Y,ue,ve){var Le=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Le+ve:Le):ve=Le,Y){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ve+ke,Y={id:v++,callback:ue,priorityLevel:Y,startTime:ve,expirationTime:ke,sortIndex:-1},ve>Le?(Y.sortIndex=ve,e(g,Y),n(p)===null&&Y===n(g)&&(G?(ee(D),D=-1):G=!0,it(me,ve-Le))):(Y.sortIndex=ke,e(p,Y),k||I||(k=!0,H||(H=!0,j()))),Y},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Y){var ue=S;return function(){var ve=S;S=ue;try{return Y.apply(this,arguments)}finally{S=ve}}}})(Hm)),Hm}var AE;function VR(){return AE||(AE=1,Bm.exports=MR()),Bm.exports}var qm={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function PR(){if(RE)return Rn;RE=1;var r=jp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Rn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Rn.flushSync=function(p){var g=c.T,v=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=v,a.d.f()}},Rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Rn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:I}):v==="script"&&a.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Rn.requestFormReset=function(p){a.d.r(p)},Rn.unstable_batchedUpdates=function(p,g){return p(g)},Rn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rn.version="19.2.0",Rn}var CE;function P0(){if(CE)return qm.exports;CE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qm.exports=PR(),qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function LR(){if(IE)return cu;IE=1;var r=VR(),e=jp(),n=P0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===s){_=!0,s=f,l=d;break}if(b===l){_=!0,l=f,s=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===s){_=!0,s=d,l=f;break}if(b===l){_=!0,l=d,s=f;break}b=b.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),te=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case Z:return"Profiler";case U:return"StrictMode";case me:return"Suspense";case H:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case te:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Ve(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Ve(t(i))}catch{}}return null}var it=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Le=[],ke=-1;function V(t){return{current:t}}function re(t){0>ke||(t.current=Le[ke],Le[ke]=null,ke--)}function ce(t,i){ke++,Le[ke]=t.current,t.current=i}var ge=V(null),Ne=V(null),Pe=V(null),$e=V(null);function qt(t,i){switch(ce(Pe,i),ce(Ne,t),ce(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?qv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=qv(i),t=Fv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(ge),ce(ge,t)}function Et(){re(ge),re(Ne),re(Pe)}function Rt(t){t.memoizedState!==null&&ce($e,t);var i=ge.current,s=Fv(i,t.type);i!==s&&(ce(Ne,t),ce(ge,s))}function er(t){Ne.current===t&&(re(ge),re(Ne)),$e.current===t&&(re($e),au._currentValue=ve)}var wi,ea;function cn(t){if(wi===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);wi=i&&i[1]||"",ea=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+t+ea}var us=!1;function Ai(t,i){if(!t||us)return"";us=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var $=J}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(J){$=J}t.call(ae.prototype)}}else{try{throw Error()}catch(J){$=J}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var O=_.split(`
`),Q=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===Q.length)for(l=O.length-1,f=Q.length-1;1<=l&&0<=f&&O[l]!==Q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==Q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==Q[f]){var ne=`
`+O[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=f);break}}}finally{us=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?cn(s):""}function ta(t,i){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==i&&i!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return Ai(t.type,!1);case 11:return Ai(t.type.render,!1);case 1:return Ai(t.type,!0);case 31:return cn("Activity");default:return""}}function cs(t){try{var i="",s=null;do i+=ta(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Pt=Object.prototype.hasOwnProperty,Ft=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,xr=r.unstable_shouldYield,Zr=r.unstable_requestPaint,hn=r.unstable_now,Mr=r.unstable_getCurrentPriorityLevel,xn=r.unstable_ImmediatePriority,Mn=r.unstable_UserBlockingPriority,Vr=r.unstable_NormalPriority,gl=r.unstable_LowPriority,na=r.unstable_IdlePriority,eo=r.log,zn=r.unstable_setDisableYieldValue,jn=null,Wt=null;function Vn(t){if(typeof eo=="function"&&zn(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(jn,t)}catch{}}var Ot=Math.clz32?Math.clz32:fs,hs=Math.log,Pr=Math.LN2;function fs(t){return t>>>=0,t===0?32:31-(hs(t)/Pr|0)|0}var Bn=256,Ri=262144,xt=4194304;function mr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tr(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=mr(l):(_&=b,_!==0?f=mr(_):s||(s=b&~t,s!==0&&(f=mr(s))))):(b=l&~d,b!==0?f=mr(b):_!==0?f=mr(_):s||(s=l&~t,s!==0&&(f=mr(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Sn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ra(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function pr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function x(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function q(t,i,s,l,f,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,Q=t.hiddenUpdates;for(s=_&~s;0<s;){var ne=31-Ot(s),ae=1<<ne;b[ne]=0,O[ne]=-1;var $=Q[ne];if($!==null)for(Q[ne]=null,ne=0;ne<$.length;ne++){var J=$[ne];J!==null&&(J.lane&=-536870913)}s&=~ae}l!==0&&X(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function X(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ot(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function le(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Ot(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function he(t,i){var s=i&-i;return s=(s&42)!==0?1:we(s),(s&(t.suspendedLanes|i))!==0?0:s}function we(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function be(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ae(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:dE(t.type))}function Te(t,i){var s=ue.p;try{return ue.p=t,i()}finally{ue.p=s}}var Ce=Math.random().toString(36).slice(2),pe="__reactFiber$"+Ce,ye="__reactProps$"+Ce,ze="__reactContainer$"+Ce,ot="__reactEvents$"+Ce,Lt="__reactListeners$"+Ce,Jt="__reactHandles$"+Ce,mt="__reactResources$"+Ce,Xe="__reactMarker$"+Ce;function Hn(t){delete t[pe],delete t[ye],delete t[ot],delete t[Lt],delete t[Jt]}function wn(t){var i=t[pe];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ze]||s[pe]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Wv(t);t!==null;){if(s=t[pe])return s;t=Wv(t)}return i}t=s,s=t.parentNode}return null}function Gt(t){if(t=t[pe]||t[ze]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ct(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function qn(t){var i=t[mt];return i||(i=t[mt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[Xe]=!0}var nr=new Set,ei={};function Pn(t,i){je(t,i),je(t+"Capture",i)}function je(t,i){for(ei[t]=i,t=0;t<i.length;t++)nr.add(i[t])}var Ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},rr={};function It(t){return Pt.call(rr,t)?!0:Pt.call(gr,t)?!1:Ut.test(t)?rr[t]=!0:(gr[t]=!0,!1)}function Lr(t,i,s){if(It(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function An(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function kt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ia(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yl(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ht(t){if(!t._valueTracker){var i=ia(t)?"checked":"value";t._valueTracker=yl(t,i,""+t[i])}}function ds(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=ia(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ms=/[\n"\\]/g;function Fn(t){return t.replace(ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function no(t,i,s,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+fn(i)):t.value!==""+fn(i)&&(t.value=""+fn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?_l(t,_,fn(i)):s!=null?_l(t,_,fn(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+fn(b):t.removeAttribute("name")}function ic(t,i,s,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ht(t);return}s=s!=null?""+fn(s):"",i=i!=null?""+fn(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ht(t)}function _l(t,i,s){i==="number"&&ti(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function aa(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+fn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ac(t,i,s){if(i!=null&&(i=""+fn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+fn(s):""}function sa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(it(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=fn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),ht(t)}function Gn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||sc.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function El(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&vl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&vl(t,d,i[d])}function ro(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(t){return oa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ur(){}var Tl=null;function yr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,ni=null;function ps(t){var i=Gt(t);if(i&&(t=i.stateNode)){var s=t[ye]||null;e:switch(t=i.stateNode,i.type){case"input":if(no(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Fn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[ye]||null;if(!f)throw Error(a(90));no(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&ds(l)}break e;case"textarea":ac(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&aa(t,!!s.multiple,i,!1)}}}var ao=!1;function ua(t,i,s){if(ao)return t(i,s);ao=!0;try{var l=t(i);return l}finally{if(ao=!1,(la!==null||ni!==null)&&(eh(),la&&(i=la,t=ni,ni=la=null,ps(i),t)))for(i=0;i<t.length;i++)ps(t[i])}}function kr(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ye]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(_r)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){gs=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{gs=!1}var ri=null,bl=null,ys=null;function Sl(){if(ys)return ys;var t,i=bl,s=i.length,l,f="value"in ri?ri.value:ri.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===f[d-l];l++);return ys=f.slice(t,1<l?1-l:void 0)}function _s(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ci(){return!0}function zr(){return!1}function pn(t){function i(s,l,f,d,_){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ci:zr,this.isPropagationStopped=zr,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),i}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=pn(Ii),ca=T({},Ii,{view:0,detail:0}),wl=pn(ca),ha,so,ai,oo=T({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(ha=t.screenX-ai.screenX,so=t.screenY-ai.screenY):so=ha=0,ai=t),ha)},movementY:function(t){return"movementY"in t?t.movementY:so}}),Al=pn(oo),vs=T({},oo,{dataTransfer:0}),lc=pn(vs),uc=T({},ca,{relatedTarget:0}),Es=pn(uc),Rl=T({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=pn(Rl),lo=T({},Ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hc=pn(lo),fc=T({},Ii,{data:0}),si=pn(fc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pc[t])?!!i[t]:!1}function fa(){return gc}var Ln=T({},ca,{key:function(t){if(t.key){var i=dc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yc=pn(Ln),_c=T({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=pn(_c),h=T({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),y=pn(h),E=T({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=pn(E),F=T({},oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=pn(F),fe=T({},Ii,{newState:0,oldState:0}),qe=pn(fe),Kt=[9,13,27,32],lt=_r&&"CompositionEvent"in window,Dt=null;_r&&"documentMode"in document&&(Dt=document.documentMode);var vr=_r&&"TextEvent"in window&&!Dt,oi=_r&&(!lt||Dt&&8<Dt&&11>=Dt),jr=" ",Br=!1;function Ts(t,i){switch(t){case"keyup":return Kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function Zw(t,i){switch(t){case"compositionend":return uo(i);case"keypress":return i.which!==32?null:(Br=!0,jr);case"textInput":return t=i.data,t===jr&&Br?null:t;default:return null}}function eA(t,i){if(co)return t==="compositionend"||!lt&&Ts(t,i)?(t=Sl(),ys=bl=ri=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oi&&i.locale!=="ko"?null:i.data;default:return null}}var tA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!tA[t.type]:i==="textarea"}function ty(t,i,s,l){la?ni?ni.push(l):ni=[l]:la=l,i=oh(i,"onChange"),0<i.length&&(s=new ii("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Cl=null,Il=null;function nA(t){Uv(t,0)}function vc(t){var i=Ct(t);if(ds(i))return t}function ny(t,i){if(t==="change")return i}var ry=!1;if(_r){var Gf;if(_r){var Kf="oninput"in document;if(!Kf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Kf=typeof iy.oninput=="function"}Gf=Kf}else Gf=!1;ry=Gf&&(!document.documentMode||9<document.documentMode)}function ay(){Cl&&(Cl.detachEvent("onpropertychange",sy),Il=Cl=null)}function sy(t){if(t.propertyName==="value"&&vc(Il)){var i=[];ty(i,Il,t,yr(t)),ua(nA,i)}}function rA(t,i,s){t==="focusin"?(ay(),Cl=i,Il=s,Cl.attachEvent("onpropertychange",sy)):t==="focusout"&&ay()}function iA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vc(Il)}function aA(t,i){if(t==="click")return vc(i)}function sA(t,i){if(t==="input"||t==="change")return vc(i)}function oA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ir=typeof Object.is=="function"?Object.is:oA;function Dl(t,i){if(ir(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Pt.call(i,f)||!ir(t[f],i[f]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ly(t,i){var s=oy(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=oy(s)}}function uy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?uy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function cy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ti(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ti(t.document)}return i}function Qf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var lA=_r&&"documentMode"in document&&11>=document.documentMode,ho=null,Yf=null,Nl=null,$f=!1;function hy(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$f||ho==null||ho!==ti(l)||(l=ho,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Dl(Nl,l)||(Nl=l,l=oh(Yf,"onSelect"),0<l.length&&(i=new ii("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ho)))}function bs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var fo={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Xf={},fy={};_r&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Ss(t){if(Xf[t])return Xf[t];if(!fo[t])return t;var i=fo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in fy)return Xf[t]=i[s];return t}var dy=Ss("animationend"),my=Ss("animationiteration"),py=Ss("animationstart"),uA=Ss("transitionrun"),cA=Ss("transitionstart"),hA=Ss("transitioncancel"),gy=Ss("transitionend"),yy=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function Hr(t,i){yy.set(t,i),Pn(i,[t])}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Er=[],mo=0,Jf=0;function Tc(){for(var t=mo,i=Jf=mo=0;i<t;){var s=Er[i];Er[i++]=null;var l=Er[i];Er[i++]=null;var f=Er[i];Er[i++]=null;var d=Er[i];if(Er[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&_y(s,f,d)}}function bc(t,i,s,l){Er[mo++]=t,Er[mo++]=i,Er[mo++]=s,Er[mo++]=l,Jf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zf(t,i,s,l){return bc(t,i,s,l),Sc(t)}function ws(t,i){return bc(t,null,null,i),Sc(t)}function _y(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Ot(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function Sc(t){if(50<Jl)throw Jl=0,lm=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var po={};function fA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,i,s,l){return new fA(t,i,s,l)}function ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var s=t.alternate;return s===null?(s=ar(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function vy(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function wc(t,i,s,l,f,d){var _=0;if(l=t,typeof t=="function")ed(t)&&(_=1);else if(typeof t=="string")_=yR(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=ar(31,s,i,f),t.elementType=C,t.lanes=d,t;case G:return As(s.children,f,d,i);case U:_=8,f|=24;break;case Z:return t=ar(12,s,i,f|2),t.elementType=Z,t.lanes=d,t;case me:return t=ar(13,s,i,f),t.elementType=me,t.lanes=d,t;case H:return t=ar(19,s,i,f),t.elementType=H,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case ee:_=9;break e;case de:_=11;break e;case D:_=14;break e;case A:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=ar(_,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function As(t,i,s,l){return t=ar(7,t,l,i),t.lanes=s,t}function td(t,i,s){return t=ar(6,t,null,i),t.lanes=s,t}function Ey(t){var i=ar(18,null,null,0);return i.stateNode=t,i}function nd(t,i,s){return i=ar(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ty=new WeakMap;function Tr(t,i){if(typeof t=="object"&&t!==null){var s=Ty.get(t);return s!==void 0?s:(i={value:t,source:i,stack:cs(i)},Ty.set(t,i),i)}return{value:t,source:i,stack:cs(i)}}var go=[],yo=0,Ac=null,Ol=0,br=[],Sr=0,da=null,li=1,ui="";function Oi(t,i){go[yo++]=Ol,go[yo++]=Ac,Ac=t,Ol=i}function by(t,i,s){br[Sr++]=li,br[Sr++]=ui,br[Sr++]=da,da=t;var l=li;t=ui;var f=32-Ot(l)-1;l&=~(1<<f),s+=1;var d=32-Ot(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,li=1<<32-Ot(i)+f|s<<f|l,ui=d+t}else li=1<<d|s<<f|l,ui=t}function rd(t){t.return!==null&&(Oi(t,1),by(t,1,0))}function id(t){for(;t===Ac;)Ac=go[--yo],go[yo]=null,Ol=go[--yo],go[yo]=null;for(;t===da;)da=br[--Sr],br[Sr]=null,ui=br[--Sr],br[Sr]=null,li=br[--Sr],br[Sr]=null}function Sy(t,i){br[Sr++]=li,br[Sr++]=ui,br[Sr++]=da,li=i.id,ui=i.overflow,da=t}var gn=null,St=null,nt=!1,ma=null,wr=!1,ad=Error(a(519));function pa(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(Tr(i,t)),ad}function wy(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[pe]=t,i[ye]=l,s){case"dialog":Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":case"embed":Ye("load",i);break;case"video":case"audio":for(s=0;s<eu.length;s++)Ye(eu[s],i);break;case"source":Ye("error",i);break;case"img":case"image":case"link":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"input":Ye("invalid",i),ic(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ye("invalid",i);break;case"textarea":Ye("invalid",i),sa(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Bv(i.textContent,s)?(l.popover!=null&&(Ye("beforetoggle",i),Ye("toggle",i)),l.onScroll!=null&&Ye("scroll",i),l.onScrollEnd!=null&&Ye("scrollend",i),l.onClick!=null&&(i.onclick=Ur),i=!0):i=!1,i||pa(t,!0)}function Ay(t){for(gn=t.return;gn;)switch(gn.tag){case 5:case 31:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:gn=gn.return}}function _o(t){if(t!==gn)return!1;if(!nt)return Ay(t),nt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Sm(t.type,t.memoizedProps)),s=!s),s&&St&&pa(t),Ay(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=Xv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=Xv(t)}else i===27?(i=St,Da(t.type)?(t=Im,Im=null,St=t):St=i):St=gn?Rr(t.stateNode.nextSibling):null;return!0}function Rs(){St=gn=null,nt=!1}function sd(){var t=ma;return t!==null&&($n===null?$n=t:$n.push.apply($n,t),ma=null),t}function xl(t){ma===null?ma=[t]:ma.push(t)}var od=V(null),Cs=null,xi=null;function ga(t,i,s){ce(od,i._currentValue),i._currentValue=s}function Mi(t){t._currentValue=od.current,re(od)}function ld(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function ud(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var O=0;O<i.length;O++)if(b.context===i[O]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),ld(d.return,s,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),ld(_,s,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function vo(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var b=f.type;ir(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===$e.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(au):t=[au])}f=f.return}t!==null&&ud(i,t,s,l),i.flags|=262144}function Rc(t){for(t=t.firstContext;t!==null;){if(!ir(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Cs=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yn(t){return Ry(Cs,t)}function Cc(t,i){return Cs===null&&Is(t),Ry(t,i)}function Ry(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},xi===null){if(t===null)throw Error(a(308));xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else xi=xi.next=i;return s}var dA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},mA=r.unstable_scheduleCallback,pA=r.unstable_NormalPriority,Zt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new dA,data:new Map,refCount:0}}function Ml(t){t.refCount--,t.refCount===0&&mA(pA,function(){t.controller.abort()})}var Vl=null,hd=0,Eo=0,To=null;function gA(t,i){if(Vl===null){var s=Vl=[];hd=0,Eo=mm(),To={status:"pending",value:void 0,then:function(l){s.push(l)}}}return hd++,i.then(Cy,Cy),i}function Cy(){if(--hd===0&&Vl!==null){To!==null&&(To.status="fulfilled");var t=Vl;Vl=null,Eo=0,To=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Iy=Y.S;Y.S=function(t,i){hv=hn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&gA(t,i),Iy!==null&&Iy(t,i)};var Ds=V(null);function fd(){var t=Ds.current;return t!==null?t:vt.pooledCache}function Ic(t,i){i===null?ce(Ds,Ds.current):ce(Ds,i.pool)}function Dy(){var t=fd();return t===null?null:{parent:Zt._currentValue,pool:t}}var bo=Error(a(460)),dd=Error(a(474)),Dc=Error(a(542)),Nc={then:function(){}};function Ny(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Oy(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Ur,Ur),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,My(t),t;default:if(typeof i.status=="string")i.then(Ur,Ur);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,My(t),t}throw Os=i,bo}}function Ns(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Os=s,bo):s}}var Os=null;function xy(){if(Os===null)throw Error(a(459));var t=Os;return Os=null,t}function My(t){if(t===bo||t===Dc)throw Error(a(483))}var So=null,Pl=0;function Oc(t){var i=Pl;return Pl+=1,So===null&&(So=[]),Oy(So,t,i)}function Ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function xc(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Vy(t){function i(B,L){if(t){var K=B.deletions;K===null?(B.deletions=[L],B.flags|=16):K.push(L)}}function s(B,L){if(!t)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=Ni(B,L),B.index=0,B.sibling=null,B}function d(B,L,K){return B.index=K,t?(K=B.alternate,K!==null?(K=K.index,K<L?(B.flags|=67108866,L):K):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,L,K,ie){return L===null||L.tag!==6?(L=td(K,B.mode,ie),L.return=B,L):(L=f(L,K),L.return=B,L)}function O(B,L,K,ie){var Ie=K.type;return Ie===G?ne(B,L,K.props.children,ie,K.key):L!==null&&(L.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&Ns(Ie)===L.type)?(L=f(L,K.props),Ll(L,K),L.return=B,L):(L=wc(K.type,K.key,K.props,null,B.mode,ie),Ll(L,K),L.return=B,L)}function Q(B,L,K,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=nd(K,B.mode,ie),L.return=B,L):(L=f(L,K.children||[]),L.return=B,L)}function ne(B,L,K,ie,Ie){return L===null||L.tag!==7?(L=As(K,B.mode,ie,Ie),L.return=B,L):(L=f(L,K),L.return=B,L)}function ae(B,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=td(""+L,B.mode,K),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return K=wc(L.type,L.key,L.props,null,B.mode,K),Ll(K,L),K.return=B,K;case k:return L=nd(L,B.mode,K),L.return=B,L;case A:return L=Ns(L),ae(B,L,K)}if(it(L)||j(L))return L=As(L,B.mode,K,null),L.return=B,L;if(typeof L.then=="function")return ae(B,Oc(L),K);if(L.$$typeof===te)return ae(B,Cc(B,L),K);xc(B,L)}return null}function $(B,L,K,ie){var Ie=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ie!==null?null:b(B,L,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case I:return K.key===Ie?O(B,L,K,ie):null;case k:return K.key===Ie?Q(B,L,K,ie):null;case A:return K=Ns(K),$(B,L,K,ie)}if(it(K)||j(K))return Ie!==null?null:ne(B,L,K,ie,null);if(typeof K.then=="function")return $(B,L,Oc(K),ie);if(K.$$typeof===te)return $(B,L,Cc(B,K),ie);xc(B,K)}return null}function J(B,L,K,ie,Ie){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(K)||null,b(L,B,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return B=B.get(ie.key===null?K:ie.key)||null,O(L,B,ie,Ie);case k:return B=B.get(ie.key===null?K:ie.key)||null,Q(L,B,ie,Ie);case A:return ie=Ns(ie),J(B,L,K,ie,Ie)}if(it(ie)||j(ie))return B=B.get(K)||null,ne(L,B,ie,Ie,null);if(typeof ie.then=="function")return J(B,L,K,Oc(ie),Ie);if(ie.$$typeof===te)return J(B,L,K,Cc(L,ie),Ie);xc(L,ie)}return null}function Se(B,L,K,ie){for(var Ie=null,at=null,Re=L,Ge=L=0,Je=null;Re!==null&&Ge<K.length;Ge++){Re.index>Ge?(Je=Re,Re=null):Je=Re.sibling;var st=$(B,Re,K[Ge],ie);if(st===null){Re===null&&(Re=Je);break}t&&Re&&st.alternate===null&&i(B,Re),L=d(st,L,Ge),at===null?Ie=st:at.sibling=st,at=st,Re=Je}if(Ge===K.length)return s(B,Re),nt&&Oi(B,Ge),Ie;if(Re===null){for(;Ge<K.length;Ge++)Re=ae(B,K[Ge],ie),Re!==null&&(L=d(Re,L,Ge),at===null?Ie=Re:at.sibling=Re,at=Re);return nt&&Oi(B,Ge),Ie}for(Re=l(Re);Ge<K.length;Ge++)Je=J(Re,B,Ge,K[Ge],ie),Je!==null&&(t&&Je.alternate!==null&&Re.delete(Je.key===null?Ge:Je.key),L=d(Je,L,Ge),at===null?Ie=Je:at.sibling=Je,at=Je);return t&&Re.forEach(function(Va){return i(B,Va)}),nt&&Oi(B,Ge),Ie}function Oe(B,L,K,ie){if(K==null)throw Error(a(151));for(var Ie=null,at=null,Re=L,Ge=L=0,Je=null,st=K.next();Re!==null&&!st.done;Ge++,st=K.next()){Re.index>Ge?(Je=Re,Re=null):Je=Re.sibling;var Va=$(B,Re,st.value,ie);if(Va===null){Re===null&&(Re=Je);break}t&&Re&&Va.alternate===null&&i(B,Re),L=d(Va,L,Ge),at===null?Ie=Va:at.sibling=Va,at=Va,Re=Je}if(st.done)return s(B,Re),nt&&Oi(B,Ge),Ie;if(Re===null){for(;!st.done;Ge++,st=K.next())st=ae(B,st.value,ie),st!==null&&(L=d(st,L,Ge),at===null?Ie=st:at.sibling=st,at=st);return nt&&Oi(B,Ge),Ie}for(Re=l(Re);!st.done;Ge++,st=K.next())st=J(Re,B,Ge,st.value,ie),st!==null&&(t&&st.alternate!==null&&Re.delete(st.key===null?Ge:st.key),L=d(st,L,Ge),at===null?Ie=st:at.sibling=st,at=st);return t&&Re.forEach(function(IR){return i(B,IR)}),nt&&Oi(B,Ge),Ie}function _t(B,L,K,ie){if(typeof K=="object"&&K!==null&&K.type===G&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case I:e:{for(var Ie=K.key;L!==null;){if(L.key===Ie){if(Ie=K.type,Ie===G){if(L.tag===7){s(B,L.sibling),ie=f(L,K.props.children),ie.return=B,B=ie;break e}}else if(L.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&Ns(Ie)===L.type){s(B,L.sibling),ie=f(L,K.props),Ll(ie,K),ie.return=B,B=ie;break e}s(B,L);break}else i(B,L);L=L.sibling}K.type===G?(ie=As(K.props.children,B.mode,ie,K.key),ie.return=B,B=ie):(ie=wc(K.type,K.key,K.props,null,B.mode,ie),Ll(ie,K),ie.return=B,B=ie)}return _(B);case k:e:{for(Ie=K.key;L!==null;){if(L.key===Ie)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){s(B,L.sibling),ie=f(L,K.children||[]),ie.return=B,B=ie;break e}else{s(B,L);break}else i(B,L);L=L.sibling}ie=nd(K,B.mode,ie),ie.return=B,B=ie}return _(B);case A:return K=Ns(K),_t(B,L,K,ie)}if(it(K))return Se(B,L,K,ie);if(j(K)){if(Ie=j(K),typeof Ie!="function")throw Error(a(150));return K=Ie.call(K),Oe(B,L,K,ie)}if(typeof K.then=="function")return _t(B,L,Oc(K),ie);if(K.$$typeof===te)return _t(B,L,Cc(B,K),ie);xc(B,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(s(B,L.sibling),ie=f(L,K),ie.return=B,B=ie):(s(B,L),ie=td(K,B.mode,ie),ie.return=B,B=ie),_(B)):s(B,L)}return function(B,L,K,ie){try{Pl=0;var Ie=_t(B,L,K,ie);return So=null,Ie}catch(Re){if(Re===bo||Re===Dc)throw Re;var at=ar(29,Re,null,B.mode);return at.lanes=ie,at.return=B,at}finally{}}}var xs=Vy(!0),Py=Vy(!1),ya=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _a(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function va(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ut&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Sc(t),_y(t,null,s),i}return bc(t,l,i,s),Sc(t)}function Ul(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,le(t,s)}}function gd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var yd=!1;function kl(){if(yd){var t=To;if(t!==null)throw t}}function zl(t,i,s,l){yd=!1;var f=t.updateQueue;ya=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,Q=O.next;O.next=null,_===null?d=Q:_.next=Q,_=O;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==_&&(b===null?ne.firstBaseUpdate=Q:b.next=Q,ne.lastBaseUpdate=O))}if(d!==null){var ae=f.baseState;_=0,ne=Q=O=null,b=d;do{var $=b.lane&-536870913,J=$!==b.lane;if(J?(We&$)===$:(l&$)===$){$!==0&&$===Eo&&(yd=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Se=t,Oe=b;$=i;var _t=s;switch(Oe.tag){case 1:if(Se=Oe.payload,typeof Se=="function"){ae=Se.call(_t,ae,$);break e}ae=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Oe.payload,$=typeof Se=="function"?Se.call(_t,ae,$):Se,$==null)break e;ae=T({},ae,$);break e;case 2:ya=!0}}$=b.callback,$!==null&&(t.flags|=64,J&&(t.flags|=8192),J=f.callbacks,J===null?f.callbacks=[$]:J.push($))}else J={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(Q=ne=J,O=ae):ne=ne.next=J,_|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ne===null&&(O=ae),f.baseState=O,f.firstBaseUpdate=Q,f.lastBaseUpdate=ne,d===null&&(f.shared.lanes=0),wa|=_,t.lanes=_,t.memoizedState=ae}}function Ly(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Uy(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ly(s[t],i)}var wo=V(null),Mc=V(0);function ky(t,i){t=Hi,ce(Mc,t),ce(wo,i),Hi=t|i.baseLanes}function _d(){ce(Mc,Hi),ce(wo,wo.current)}function vd(){Hi=Mc.current,re(wo),re(Mc)}var sr=V(null),Ar=null;function Ea(t){var i=t.alternate;ce(Qt,Qt.current&1),ce(sr,t),Ar===null&&(i===null||wo.current!==null||i.memoizedState!==null)&&(Ar=t)}function Ed(t){ce(Qt,Qt.current),ce(sr,t),Ar===null&&(Ar=t)}function zy(t){t.tag===22?(ce(Qt,Qt.current),ce(sr,t),Ar===null&&(Ar=t)):Ta()}function Ta(){ce(Qt,Qt.current),ce(sr,sr.current)}function or(t){re(sr),Ar===t&&(Ar=null),re(Qt)}var Qt=V(0);function Vc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Rm(s)||Cm(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vi=0,Fe=null,gt=null,en=null,Pc=!1,Ao=!1,Ms=!1,Lc=0,jl=0,Ro=null,_A=0;function zt(){throw Error(a(321))}function Td(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!ir(t[s],i[s]))return!1;return!0}function bd(t,i,s,l,f,d){return Vi=d,Fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?b_:Ud,Ms=!1,d=s(l,f),Ms=!1,Ao&&(d=By(i,s,l,f)),jy(t),d}function jy(t){Y.H=ql;var i=gt!==null&&gt.next!==null;if(Vi=0,en=gt=Fe=null,Pc=!1,jl=0,Ro=null,i)throw Error(a(300));t===null||tn||(t=t.dependencies,t!==null&&Rc(t)&&(tn=!0))}function By(t,i,s,l){Fe=t;var f=0;do{if(Ao&&(Ro=null),jl=0,Ao=!1,25<=f)throw Error(a(301));if(f+=1,en=gt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=S_,d=i(s,l)}while(Ao);return d}function vA(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Bl(i):i,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Fe.flags|=1024),i}function Sd(){var t=Lc!==0;return Lc=0,t}function wd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Ad(t){if(Pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Pc=!1}Vi=0,en=gt=Fe=null,Ao=!1,jl=Lc=0,Ro=null}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Fe.memoizedState=en=t:en=en.next=t,en}function Yt(){if(gt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var i=en===null?Fe.memoizedState:en.next;if(i!==null)en=i,gt=t;else{if(t===null)throw Fe.alternate===null?Error(a(467)):Error(a(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},en===null?Fe.memoizedState=en=t:en=en.next=t}return en}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var i=jl;return jl+=1,Ro===null&&(Ro=[]),t=Oy(Ro,t,i),i=Fe,(en===null?i.memoizedState:en.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?b_:Ud),t}function kc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===te)return yn(t)}throw Error(a(438,String(t)))}function Rd(t){var i=null,s=Fe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Uc(),Fe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=P;return i.index++,s}function Pi(t,i){return typeof i=="function"?i(t):i}function zc(t){var i=Yt();return Cd(i,gt,t)}function Cd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,O=null,Q=i,ne=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(We&ae)===ae:(Vi&ae)===ae){var $=Q.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===Eo&&(ne=!0);else if((Vi&$)===$){Q=Q.next,$===Eo&&(ne=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(b=O=ae,_=d):O=O.next=ae,Fe.lanes|=$,wa|=$;ae=Q.action,Ms&&s(d,ae),d=Q.hasEagerState?Q.eagerState:s(d,ae)}else $={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(b=O=$,_=d):O=O.next=$,Fe.lanes|=ae,wa|=ae;Q=Q.next}while(Q!==null&&Q!==i);if(O===null?_=d:O.next=b,!ir(d,t.memoizedState)&&(tn=!0,ne&&(s=To,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Id(t){var i=Yt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);ir(d,i.memoizedState)||(tn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Hy(t,i,s){var l=Fe,f=Yt(),d=nt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!ir((gt||f).memoizedState,s);if(_&&(f.memoizedState=s,tn=!0),f=f.queue,Od(Gy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||en!==null&&en.memoizedState.tag&1){if(l.flags|=2048,Co(9,{destroy:void 0},Fy.bind(null,l,f,s,i),null),vt===null)throw Error(a(349));d||(Vi&127)!==0||qy(l,i,s)}return s}function qy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Fe.updateQueue,i===null?(i=Uc(),Fe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Fy(t,i,s,l){i.value=s,i.getSnapshot=l,Ky(i)&&Qy(t)}function Gy(t,i,s){return s(function(){Ky(i)&&Qy(t)})}function Ky(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!ir(t,s)}catch{return!0}}function Qy(t){var i=ws(t,2);i!==null&&Xn(i,t,2)}function Dd(t){var i=Un();if(typeof t=="function"){var s=t;if(t=s(),Ms){Vn(!0);try{s()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},i}function Yy(t,i,s,l){return t.baseState=s,Cd(t,gt,typeof l=="function"?l:Pi)}function EA(t,i,s,l,f){if(Hc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,$y(i,d)):(d.next=s.next,i.pending=s.next=d)}}function $y(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var b=s(f,l),O=Y.S;O!==null&&O(_,b),Xy(t,i,b)}catch(Q){Nd(t,i,Q)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=s(f,l),Xy(t,i,d)}catch(Q){Nd(t,i,Q)}}function Xy(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Wy(t,i,l)},function(l){return Nd(t,i,l)}):Wy(t,i,s)}function Wy(t,i,s){i.status="fulfilled",i.value=s,Jy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,$y(t,s)))}function Nd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Jy(i),i=i.next;while(i!==l)}t.action=null}function Jy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Zy(t,i){return i}function e_(t,i){if(nt){var s=vt.formState;if(s!==null){e:{var l=Fe;if(nt){if(St){t:{for(var f=St,d=wr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Rr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){St=Rr(f.nextSibling),l=f.data==="F!";break e}}pa(l)}l=!1}l&&(i=s[0])}}return s=Un(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:i},s.queue=l,s=v_.bind(null,Fe,l),l.dispatch=s,l=Dd(!1),d=Ld.bind(null,Fe,!1,l.queue),l=Un(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=EA.bind(null,Fe,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function t_(t){var i=Yt();return n_(i,gt,t)}function n_(t,i,s){if(i=Cd(t,i,Zy)[0],t=zc(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bl(i)}catch(_){throw _===bo?Dc:_}else l=i;i=Yt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Fe.flags|=2048,Co(9,{destroy:void 0},TA.bind(null,f,s),null)),[l,d,t]}function TA(t,i){t.action=i}function r_(t){var i=Yt(),s=gt;if(s!==null)return n_(i,s,t);Yt(),i=i.memoizedState,s=Yt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Co(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Fe.updateQueue,i===null&&(i=Uc(),Fe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function i_(){return Yt().memoizedState}function jc(t,i,s,l){var f=Un();Fe.flags|=t,f.memoizedState=Co(1|i,{destroy:void 0},s,l===void 0?null:l)}function Bc(t,i,s,l){var f=Yt();l=l===void 0?null:l;var d=f.memoizedState.inst;gt!==null&&l!==null&&Td(l,gt.memoizedState.deps)?f.memoizedState=Co(i,d,s,l):(Fe.flags|=t,f.memoizedState=Co(1|i,d,s,l))}function a_(t,i){jc(8390656,8,t,i)}function Od(t,i){Bc(2048,8,t,i)}function bA(t){Fe.flags|=4;var i=Fe.updateQueue;if(i===null)i=Uc(),Fe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function s_(t){var i=Yt().memoizedState;return bA({ref:i,nextImpl:t}),function(){if((ut&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function o_(t,i){return Bc(4,2,t,i)}function l_(t,i){return Bc(4,4,t,i)}function u_(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function c_(t,i,s){s=s!=null?s.concat([t]):null,Bc(4,4,u_.bind(null,i,t),s)}function xd(){}function h_(t,i){var s=Yt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Td(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function f_(t,i){var s=Yt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Td(i,l[1]))return l[0];if(l=t(),Ms){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[l,i],l}function Md(t,i,s){return s===void 0||(Vi&1073741824)!==0&&(We&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=dv(),Fe.lanes|=t,wa|=t,s)}function d_(t,i,s,l){return ir(s,i)?s:wo.current!==null?(t=Md(t,s,l),ir(t,i)||(tn=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(We&261930)===0?(tn=!0,t.memoizedState=s):(t=dv(),Fe.lanes|=t,wa|=t,i)}function m_(t,i,s,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var _=Y.T,b={};Y.T=b,Ld(t,!1,i,s);try{var O=f(),Q=Y.S;if(Q!==null&&Q(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=yA(O,l);Hl(t,i,ne,cr(t))}else Hl(t,i,l,cr(t))}catch(ae){Hl(t,i,{then:function(){},status:"rejected",reason:ae},cr())}finally{ue.p=d,_!==null&&b.types!==null&&(_.types=b.types),Y.T=_}}function SA(){}function Vd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=p_(t).queue;m_(t,f,i,ve,s===null?SA:function(){return g_(t),s(l)})}function p_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ve},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function g_(t){var i=p_(t);i.next===null&&(i=t.alternate.memoizedState),Hl(t,i.next.queue,{},cr())}function Pd(){return yn(au)}function y_(){return Yt().memoizedState}function __(){return Yt().memoizedState}function wA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=cr();t=_a(s);var l=va(i,t,s);l!==null&&(Xn(l,i,s),Ul(l,i,s)),i={cache:cd()},t.payload=i;return}i=i.return}}function AA(t,i,s){var l=cr();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hc(t)?E_(i,s):(s=Zf(t,i,s,l),s!==null&&(Xn(s,t,l),T_(s,i,l)))}function v_(t,i,s){var l=cr();Hl(t,i,s,l)}function Hl(t,i,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))E_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,s);if(f.hasEagerState=!0,f.eagerState=b,ir(b,_))return bc(t,i,f,0),vt===null&&Tc(),!1}catch{}finally{}if(s=Zf(t,i,f,l),s!==null)return Xn(s,t,l),T_(s,i,l),!0}return!1}function Ld(t,i,s,l){if(l={lane:2,revertLane:mm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(t)){if(i)throw Error(a(479))}else i=Zf(t,s,l,2),i!==null&&Xn(i,t,2)}function Hc(t){var i=t.alternate;return t===Fe||i!==null&&i===Fe}function E_(t,i){Ao=Pc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function T_(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,le(t,s)}}var ql={readContext:yn,use:kc,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};ql.useEffectEvent=zt;var b_={readContext:yn,use:kc,useCallback:function(t,i){return Un().memoizedState=[t,i===void 0?null:i],t},useContext:yn,useEffect:a_,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,jc(4194308,4,u_.bind(null,i,t),s)},useLayoutEffect:function(t,i){return jc(4194308,4,t,i)},useInsertionEffect:function(t,i){jc(4,2,t,i)},useMemo:function(t,i){var s=Un();i=i===void 0?null:i;var l=t();if(Ms){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Un();if(s!==void 0){var f=s(i);if(Ms){Vn(!0);try{s(i)}finally{Vn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=AA.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var i=Un();return t={current:t},i.memoizedState=t},useState:function(t){t=Dd(t);var i=t.queue,s=v_.bind(null,Fe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:xd,useDeferredValue:function(t,i){var s=Un();return Md(s,t,i)},useTransition:function(){var t=Dd(!1);return t=m_.bind(null,Fe,t.queue,!0,!1),Un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Fe,f=Un();if(nt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),vt===null)throw Error(a(349));(We&127)!==0||qy(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,a_(Gy.bind(null,l,d,t),[t]),l.flags|=2048,Co(9,{destroy:void 0},Fy.bind(null,l,d,s,i),null),s},useId:function(){var t=Un(),i=vt.identifierPrefix;if(nt){var s=ui,l=li;s=(l&~(1<<32-Ot(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Lc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=_A++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Pd,useFormState:e_,useActionState:e_,useOptimistic:function(t){var i=Un();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ld.bind(null,Fe,!0,s),s.dispatch=i,[t,i]},useMemoCache:Rd,useCacheRefresh:function(){return Un().memoizedState=wA.bind(null,Fe)},useEffectEvent:function(t){var i=Un(),s={impl:t};return i.memoizedState=s,function(){if((ut&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Ud={readContext:yn,use:kc,useCallback:h_,useContext:yn,useEffect:Od,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:zc,useRef:i_,useState:function(){return zc(Pi)},useDebugValue:xd,useDeferredValue:function(t,i){var s=Yt();return d_(s,gt.memoizedState,t,i)},useTransition:function(){var t=zc(Pi)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Hy,useId:y_,useHostTransitionStatus:Pd,useFormState:t_,useActionState:t_,useOptimistic:function(t,i){var s=Yt();return Yy(s,gt,t,i)},useMemoCache:Rd,useCacheRefresh:__};Ud.useEffectEvent=s_;var S_={readContext:yn,use:kc,useCallback:h_,useContext:yn,useEffect:Od,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Id,useRef:i_,useState:function(){return Id(Pi)},useDebugValue:xd,useDeferredValue:function(t,i){var s=Yt();return gt===null?Md(s,t,i):d_(s,gt.memoizedState,t,i)},useTransition:function(){var t=Id(Pi)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:Hy,useId:y_,useHostTransitionStatus:Pd,useFormState:r_,useActionState:r_,useOptimistic:function(t,i){var s=Yt();return gt!==null?Yy(s,gt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:__};S_.useEffectEvent=s_;function kd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var zd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=cr(),f=_a(l);f.payload=i,s!=null&&(f.callback=s),i=va(t,f,l),i!==null&&(Xn(i,t,l),Ul(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=cr(),f=_a(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=va(t,f,l),i!==null&&(Xn(i,t,l),Ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=cr(),l=_a(s);l.tag=2,i!=null&&(l.callback=i),i=va(t,l,s),i!==null&&(Xn(i,t,s),Ul(i,t,s))}};function w_(t,i,s,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Dl(s,l)||!Dl(f,d):!0}function A_(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&zd.enqueueReplaceState(i,i.state,null)}function Vs(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=T({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function R_(t){Ec(t)}function C_(t){console.error(t)}function I_(t){Ec(t)}function qc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function D_(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jd(t,i,s){return s=_a(s),s.tag=3,s.payload={element:null},s.callback=function(){qc(t,i)},s}function N_(t){return t=_a(t),t.tag=3,t}function O_(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){D_(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){D_(i,s,l),typeof f!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function RA(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&vo(i,s,f,!0),s=sr.current,s!==null){switch(s.tag){case 31:case 13:return Ar===null?th():s.alternate===null&&jt===0&&(jt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Nc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),hm(t,l,f)),!1;case 22:return s.flags|=65536,l===Nc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),hm(t,l,f)),!1}throw Error(a(435,s.tag))}return hm(t,l,f),th(),!1}if(nt)return i=sr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ad&&(t=Error(a(422),{cause:l}),xl(Tr(t,s)))):(l!==ad&&(i=Error(a(423),{cause:l}),xl(Tr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Tr(l,s),f=jd(t.stateNode,l,f),gd(t,f),jt!==4&&(jt=2)),!1;var d=Error(a(520),{cause:l});if(d=Tr(d,s),Wl===null?Wl=[d]:Wl.push(d),jt!==4&&(jt=2),i===null)return!0;l=Tr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=jd(s.stateNode,l,t),gd(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Aa===null||!Aa.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=N_(f),O_(f,t,s,l),gd(s,f),!1}s=s.return}while(s!==null);return!1}var Bd=Error(a(461)),tn=!1;function _n(t,i,s,l){i.child=t===null?Py(i,null,s,l):xs(i,t.child,s,l)}function x_(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Is(i),l=bd(t,i,s,_,d,f),b=Sd(),t!==null&&!tn?(wd(t,i,f),Li(t,i,f)):(nt&&b&&rd(i),i.flags|=1,_n(t,i,l,f),i.child)}function M_(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!ed(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,V_(t,i,d,l,f)):(t=wc(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!$d(t,f)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(_,l)&&t.ref===i.ref)return Li(t,i,f)}return i.flags|=1,t=Ni(d,l),t.ref=i.ref,t.return=i,i.child=t}function V_(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(Dl(d,l)&&t.ref===i.ref)if(tn=!1,i.pendingProps=l=d,$d(t,f))(t.flags&131072)!==0&&(tn=!0);else return i.lanes=t.lanes,Li(t,i,f)}return Hd(t,i,s,l,f)}function P_(t,i,s,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return L_(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ic(i,d!==null?d.cachePool:null),d!==null?ky(i,d):_d(),zy(i);else return l=i.lanes=536870912,L_(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Ic(i,d.cachePool),ky(i,d),Ta(),i.memoizedState=null):(t!==null&&Ic(i,null),_d(),Ta());return _n(t,i,f,s),i.child}function Fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function L_(t,i,s,l,f){var d=fd();return d=d===null?null:{parent:Zt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&Ic(i,null),_d(),zy(i),t!==null&&vo(t,i,l,!0),i.childLanes=f,null}function Fc(t,i){return i=Kc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function U_(t,i,s){return xs(i,t.child,null,s),t=Fc(i,i.pendingProps),t.flags|=2,or(i),i.memoizedState=null,t}function CA(t,i,s){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(nt){if(l.mode==="hidden")return t=Fc(i,l),i.lanes=536870912,Fl(null,t);if(Ed(i),(t=St)?(t=$v(t,wr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:da!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},s=Ey(t),s.return=i,i.child=s,gn=i,St=null)):t=null,t===null)throw pa(i);return i.lanes=536870912,null}return Fc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Ed(i),f)if(i.flags&256)i.flags&=-257,i=U_(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(tn||vo(t,i,s,!1),f=(s&t.childLanes)!==0,tn||f){if(l=vt,l!==null&&(_=he(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,ws(t,_),Xn(l,t,_),Bd;th(),i=U_(t,i,s)}else t=d.treeContext,St=Rr(_.nextSibling),gn=i,nt=!0,ma=null,wr=!1,t!==null&&Sy(i,t),i=Fc(i,l),i.flags|=4096;return i}return t=Ni(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Gc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Hd(t,i,s,l,f){return Is(i),s=bd(t,i,s,l,void 0,f),l=Sd(),t!==null&&!tn?(wd(t,i,f),Li(t,i,f)):(nt&&l&&rd(i),i.flags|=1,_n(t,i,s,f),i.child)}function k_(t,i,s,l,f,d){return Is(i),i.updateQueue=null,s=By(i,l,s,f),jy(t),l=Sd(),t!==null&&!tn?(wd(t,i,d),Li(t,i,d)):(nt&&l&&rd(i),i.flags|=1,_n(t,i,s,d),i.child)}function z_(t,i,s,l,f){if(Is(i),i.stateNode===null){var d=po,_=s.contextType;typeof _=="object"&&_!==null&&(d=yn(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},md(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?yn(_):po,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(kd(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&zd.enqueueReplaceState(d,d.state,null),zl(i,l,d,f),kl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,O=Vs(s,b);d.props=O;var Q=d.context,ne=s.contextType;_=po,typeof ne=="object"&&ne!==null&&(_=yn(ne));var ae=s.getDerivedStateFromProps;ne=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Q!==_)&&A_(i,d,l,_),ya=!1;var $=i.memoizedState;d.state=$,zl(i,l,d,f),kl(),Q=i.memoizedState,b||$!==Q||ya?(typeof ae=="function"&&(kd(i,s,ae,l),Q=i.memoizedState),(O=ya||w_(i,s,O,l,$,Q,_))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,pd(t,i),_=i.memoizedProps,ne=Vs(s,_),d.props=ne,ae=i.pendingProps,$=d.context,Q=s.contextType,O=po,typeof Q=="object"&&Q!==null&&(O=yn(Q)),b=s.getDerivedStateFromProps,(Q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ae||$!==O)&&A_(i,d,l,O),ya=!1,$=i.memoizedState,d.state=$,zl(i,l,d,f),kl();var J=i.memoizedState;_!==ae||$!==J||ya||t!==null&&t.dependencies!==null&&Rc(t.dependencies)?(typeof b=="function"&&(kd(i,s,b,l),J=i.memoizedState),(ne=ya||w_(i,s,ne,l,$,J,O)||t!==null&&t.dependencies!==null&&Rc(t.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),d.props=l,d.state=J,d.context=O,l=ne):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=xs(i,t.child,null,f),i.child=xs(i,null,s,f)):_n(t,i,s,f),i.memoizedState=d.state,t=i.child):t=Li(t,i,f),t}function j_(t,i,s,l){return Rs(),i.flags|=256,_n(t,i,s,l),i.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(t){return{baseLanes:t,cachePool:Dy()}}function Gd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=ur),t}function B_(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(nt){if(f?Ea(i):Ta(),(t=St)?(t=$v(t,wr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:da!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},s=Ey(t),s.return=i,i.child=s,gn=i,St=null)):t=null,t===null)throw pa(i);return Cm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Ta(),f=i.mode,b=Kc({mode:"hidden",children:b},f),l=As(l,f,s,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Fd(s),l.childLanes=Gd(t,_,s),i.memoizedState=qd,Fl(null,l)):(Ea(i),Kd(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)i.flags&256?(Ea(i),i.flags&=-257,i=Qd(t,i,s)):i.memoizedState!==null?(Ta(),i.child=t.child,i.flags|=128,i=null):(Ta(),b=l.fallback,f=i.mode,l=Kc({mode:"visible",children:l.children},f),b=As(b,f,s,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,xs(i,t.child,null,s),l=i.child,l.memoizedState=Fd(s),l.childLanes=Gd(t,_,s),i.memoizedState=qd,i=Fl(null,l));else if(Ea(i),Cm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var Q=_.dgst;_=Q,l=Error(a(419)),l.stack="",l.digest=_,xl({value:l,source:null,stack:null}),i=Qd(t,i,s)}else if(tn||vo(t,i,s,!1),_=(s&t.childLanes)!==0,tn||_){if(_=vt,_!==null&&(l=he(_,s),l!==0&&l!==O.retryLane))throw O.retryLane=l,ws(t,l),Xn(_,t,l),Bd;Rm(b)||th(),i=Qd(t,i,s)}else Rm(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,St=Rr(b.nextSibling),gn=i,nt=!0,ma=null,wr=!1,t!==null&&Sy(i,t),i=Kd(i,l.children),i.flags|=4096);return i}return f?(Ta(),b=l.fallback,f=i.mode,O=t.child,Q=O.sibling,l=Ni(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,Q!==null?b=Ni(Q,b):(b=As(b,f,s,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Fl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Fd(s):(f=b.cachePool,f!==null?(O=Zt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Dy(),b={baseLanes:b.baseLanes|s,cachePool:f}),l.memoizedState=b,l.childLanes=Gd(t,_,s),i.memoizedState=qd,Fl(t.child,l)):(Ea(i),s=t.child,t=s.sibling,s=Ni(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function Kd(t,i){return i=Kc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Kc(t,i){return t=ar(22,t,null,i),t.lanes=0,t}function Qd(t,i,s){return xs(i,t.child,null,s),t=Kd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function H_(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ld(t.return,i,s)}function Yd(t,i,s,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=f,_.treeForkCount=d)}function q_(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Qt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ce(Qt,_),_n(t,i,l,s),l=nt?Ol:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H_(t,s,i);else if(t.tag===19)H_(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&Vc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Yd(i,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Vc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Yd(i,!0,s,null,d,l);break;case"together":Yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Li(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),wa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(vo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ni(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ni(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function $d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Rc(t)))}function IA(t,i,s){switch(i.tag){case 3:qt(i,i.stateNode.containerInfo),ga(i,Zt,t.memoizedState.cache),Rs();break;case 27:case 5:Rt(i);break;case 4:qt(i,i.stateNode.containerInfo);break;case 10:ga(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ea(i),i.flags|=128,null):(s&i.child.childLanes)!==0?B_(t,i,s):(Ea(i),t=Li(t,i,s),t!==null?t.sibling:null);Ea(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(vo(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return q_(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Qt,Qt.current),l)break;return null;case 22:return i.lanes=0,P_(t,i,s,i.pendingProps);case 24:ga(i,Zt,t.memoizedState.cache)}return Li(t,i,s)}function F_(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)tn=!0;else{if(!$d(t,s)&&(i.flags&128)===0)return tn=!1,IA(t,i,s);tn=(t.flags&131072)!==0}else tn=!1,nt&&(i.flags&1048576)!==0&&by(i,Ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ns(i.elementType),i.type=t,typeof t=="function")ed(t)?(l=Vs(t,l),i.tag=1,i=z_(null,i,t,l,s)):(i.tag=0,i=Hd(null,i,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===de){i.tag=11,i=x_(null,i,t,l,s);break e}else if(f===D){i.tag=14,i=M_(null,i,t,l,s);break e}}throw i=Ve(t)||t,Error(a(306,i,""))}}return i;case 0:return Hd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=Vs(l,i.pendingProps),z_(t,i,l,f,s);case 3:e:{if(qt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,pd(t,i),zl(i,l,null,s);var _=i.memoizedState;if(l=_.cache,ga(i,Zt,l),l!==d.cache&&ud(i,[Zt],s,!0),kl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=j_(t,i,l,s);break e}else if(l!==f){f=Tr(Error(a(424)),i),xl(f),i=j_(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=Rr(t.firstChild),gn=i,nt=!0,ma=null,wr=!0,s=Py(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Rs(),l===f){i=Li(t,i,s);break e}_n(t,i,l,s)}i=i.child}return i;case 26:return Gc(t,i),t===null?(s=tE(i.type,null,i.pendingProps,null))?i.memoizedState=s:nt||(s=i.type,t=i.pendingProps,l=lh(Pe.current).createElement(s),l[pe]=i,l[ye]=t,vn(l,s,t),Tt(l),i.stateNode=l):i.memoizedState=tE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rt(i),t===null&&nt&&(l=i.stateNode=Jv(i.type,i.pendingProps,Pe.current),gn=i,wr=!0,f=St,Da(i.type)?(Im=f,St=Rr(l.firstChild)):St=f),_n(t,i,i.pendingProps.children,s),Gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&nt&&((f=l=St)&&(l=iR(l,i.type,i.pendingProps,wr),l!==null?(i.stateNode=l,gn=i,St=Rr(l.firstChild),wr=!1,f=!0):f=!1),f||pa(i)),Rt(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Sm(f,d)?l=null:_!==null&&Sm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=bd(t,i,vA,null,null,s),au._currentValue=f),Gc(t,i),_n(t,i,l,s),i.child;case 6:return t===null&&nt&&((t=s=St)&&(s=aR(s,i.pendingProps,wr),s!==null?(i.stateNode=s,gn=i,St=null,t=!0):t=!1),t||pa(i)),null;case 13:return B_(t,i,s);case 4:return qt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xs(i,null,l,s):_n(t,i,l,s),i.child;case 11:return x_(t,i,i.type,i.pendingProps,s);case 7:return _n(t,i,i.pendingProps,s),i.child;case 8:return _n(t,i,i.pendingProps.children,s),i.child;case 12:return _n(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ga(i,i.type,l.value),_n(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Is(i),f=yn(f),l=l(f),i.flags|=1,_n(t,i,l,s),i.child;case 14:return M_(t,i,i.type,i.pendingProps,s);case 15:return V_(t,i,i.type,i.pendingProps,s);case 19:return q_(t,i,s);case 31:return CA(t,i,s);case 22:return P_(t,i,s,i.pendingProps);case 24:return Is(i),l=yn(Zt),t===null?(f=fd(),f===null&&(f=vt,d=cd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},md(i),ga(i,Zt,f)):((t.lanes&s)!==0&&(pd(t,i),zl(i,null,null,s),kl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ga(i,Zt,l)):(l=d.cache,ga(i,Zt,l),l!==f.cache&&ud(i,[Zt],s,!0))),_n(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ui(t){t.flags|=4}function Xd(t,i,s,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(yv())t.flags|=8192;else throw Os=Nc,dd}else t.flags&=-16777217}function G_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sE(i))if(yv())t.flags|=8192;else throw Os=Nc,dd}function Qc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?to():536870912,t.lanes|=i,Oo|=i)}function Gl(t,i){if(!nt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function wt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function DA(t,i,s){var l=i.pendingProps;switch(id(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return wt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(Zt),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(_o(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sd())),wt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Ui(i),d!==null?(wt(i),G_(i,d)):(wt(i),Xd(i,f,null,l,s))):d?d!==t.memoizedState?(Ui(i),wt(i),G_(i,d)):(wt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(i),wt(i),Xd(i,f,t,l,s)),null;case 27:if(er(i),s=Pe.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return wt(i),null}t=ge.current,_o(i)?wy(i):(t=Jv(f,l,s),i.stateNode=t,Ui(i))}return wt(i),null;case 5:if(er(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return wt(i),null}if(d=ge.current,_o(i))wy(i);else{var _=lh(Pe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[pe]=i,d[ye]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(vn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ui(i)}}return wt(i),Xd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Pe.current,_o(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=gn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[pe]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Bv(t.nodeValue,s)),t||pa(i,!0)}else t=lh(t).createTextNode(l),t[pe]=i,i.stateNode=t}return wt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=_o(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[pe]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),t=!1}else s=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(or(i),i):(or(i),null);if((i.flags&128)!==0)throw Error(a(558))}return wt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=_o(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[pe]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),f=!1}else f=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(or(i),i):(or(i),null)}return or(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Qc(i,i.updateQueue),wt(i),null);case 4:return Et(),t===null&&_m(i.stateNode.containerInfo),wt(i),null;case 10:return Mi(i.type),wt(i),null;case 19:if(re(Qt),l=i.memoizedState,l===null)return wt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Gl(l,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Vc(t),d!==null){for(i.flags|=128,Gl(l,!1),t=d.updateQueue,i.updateQueue=t,Qc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)vy(s,t),s=s.sibling;return ce(Qt,Qt.current&1|2),nt&&Oi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&hn()>Jc&&(i.flags|=128,f=!0,Gl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Vc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Qc(i,t),Gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!nt)return wt(i),null}else 2*hn()-l.renderingStartTime>Jc&&s!==536870912&&(i.flags|=128,f=!0,Gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=hn(),t.sibling=null,s=Qt.current,ce(Qt,f?s&1|2:s&1),nt&&Oi(i,l.treeForkCount),t):(wt(i),null);case 22:case 23:return or(i),vd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),s=i.updateQueue,s!==null&&Qc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&re(Ds),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Mi(Zt),wt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function NA(t,i){switch(id(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(Zt),Et(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return er(i),null;case 31:if(i.memoizedState!==null){if(or(i),i.alternate===null)throw Error(a(340));Rs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(or(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Rs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(Qt),null;case 4:return Et(),null;case 10:return Mi(i.type),null;case 22:case 23:return or(i),vd(),t!==null&&re(Ds),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(Zt),null;case 25:return null;default:return null}}function K_(t,i){switch(id(i),i.tag){case 3:Mi(Zt),Et();break;case 26:case 27:case 5:er(i);break;case 4:Et();break;case 31:i.memoizedState!==null&&or(i);break;case 13:or(i);break;case 19:re(Qt);break;case 10:Mi(i.type);break;case 22:case 23:or(i),vd(),t!==null&&re(Ds);break;case 24:Mi(Zt)}}function Kl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==f)}}catch(b){dt(i,i.return,b)}}function ba(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var O=s,Q=b;try{Q()}catch(ne){dt(f,O,ne)}}}l=l.next}while(l!==d)}}catch(ne){dt(i,i.return,ne)}}function Q_(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Uy(i,s)}catch(l){dt(t,t.return,l)}}}function Y_(t,i,s){s.props=Vs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){dt(t,i,l)}}function Ql(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){dt(t,i,f)}}function ci(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){dt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){dt(t,i,f)}else s.current=null}function $_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){dt(t,t.return,f)}}function Wd(t,i,s){try{var l=t.stateNode;JA(l,t.type,s,i),l[ye]=i}catch(f){dt(t,t.return,f)}}function X_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Da(t.type)||t.tag===4}function Jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Da(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Ur));else if(l!==4&&(l===27&&Da(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Zd(t,i,s),t=t.sibling;t!==null;)Zd(t,i,s),t=t.sibling}function Yc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Da(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yc(t,i,s),t=t.sibling;t!==null;)Yc(t,i,s),t=t.sibling}function W_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);vn(i,l,s),i[pe]=t,i[ye]=s}catch(d){dt(t,t.return,d)}}var ki=!1,nn=!1,em=!1,J_=typeof WeakSet=="function"?WeakSet:Set,dn=null;function OA(t,i){if(t=t.containerInfo,Tm=ph,t=cy(t),Qf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,b=-1,O=-1,Q=0,ne=0,ae=t,$=null;t:for(;;){for(var J;ae!==s||f!==0&&ae.nodeType!==3||(b=_+f),ae!==d||l!==0&&ae.nodeType!==3||(O=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(J=ae.firstChild)!==null;)$=ae,ae=J;for(;;){if(ae===t)break t;if($===s&&++Q===f&&(b=_),$===d&&++ne===l&&(O=_),(J=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=J}s=b===-1||O===-1?null:{start:b,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(bm={focusedElem:t,selectionRange:s},ph=!1,dn=i;dn!==null;)if(i=dn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,dn=t;else for(;dn!==null;){switch(i=dn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Se=Vs(s.type,f);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){dt(s,s.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Am(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,dn=t;break}dn=i.return}}function Z_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ji(t,s),l&4&&Kl(5,s);break;case 1:if(ji(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){dt(s,s.return,_)}else{var f=Vs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){dt(s,s.return,_)}}l&64&&Q_(s),l&512&&Ql(s,s.return);break;case 3:if(ji(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Uy(t,i)}catch(_){dt(s,s.return,_)}}break;case 27:i===null&&l&4&&W_(s);case 26:case 5:ji(t,s),i===null&&l&4&&$_(s),l&512&&Ql(s,s.return);break;case 12:ji(t,s);break;case 31:ji(t,s),l&4&&nv(t,s);break;case 13:ji(t,s),l&4&&rv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=jA.bind(null,s),sR(t,s))));break;case 22:if(l=s.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||nn,f=ki;var d=nn;ki=l,(nn=i)&&!d?Bi(t,s,(s.subtreeFlags&8772)!==0):ji(t,s),ki=f,nn=d}break;case 30:break;default:ji(t,s)}}function ev(t){var i=t.alternate;i!==null&&(t.alternate=null,ev(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Hn(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,Kn=!1;function zi(t,i,s){for(s=s.child;s!==null;)tv(t,i,s),s=s.sibling}function tv(t,i,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:nn||ci(s,i),zi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:nn||ci(s,i);var l=Nt,f=Kn;Da(s.type)&&(Nt=s.stateNode,Kn=!1),zi(t,i,s),nu(s.stateNode),Nt=l,Kn=f;break;case 5:nn||ci(s,i);case 6:if(l=Nt,f=Kn,Nt=null,zi(t,i,s),Nt=l,Kn=f,Nt!==null)if(Kn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(s.stateNode)}catch(d){dt(s,i,d)}else try{Nt.removeChild(s.stateNode)}catch(d){dt(s,i,d)}break;case 18:Nt!==null&&(Kn?(t=Nt,Qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),zo(t)):Qv(Nt,s.stateNode));break;case 4:l=Nt,f=Kn,Nt=s.stateNode.containerInfo,Kn=!0,zi(t,i,s),Nt=l,Kn=f;break;case 0:case 11:case 14:case 15:ba(2,s,i),nn||ba(4,s,i),zi(t,i,s);break;case 1:nn||(ci(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Y_(s,i,l)),zi(t,i,s);break;case 21:zi(t,i,s);break;case 22:nn=(l=nn)||s.memoizedState!==null,zi(t,i,s),nn=l;break;default:zi(t,i,s)}}function nv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{zo(t)}catch(s){dt(i,i.return,s)}}}function rv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zo(t)}catch(s){dt(i,i.return,s)}}function xA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new J_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new J_),i;default:throw Error(a(435,t.tag))}}function $c(t,i){var s=xA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var f=BA.bind(null,t,l);l.then(f,f)}})}function Qn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Da(b.type)){Nt=b.stateNode,Kn=!1;break e}break;case 5:Nt=b.stateNode,Kn=!1;break e;case 3:case 4:Nt=b.stateNode.containerInfo,Kn=!0;break e}b=b.return}if(Nt===null)throw Error(a(160));tv(d,_,f),Nt=null,Kn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)iv(i,t),i=i.sibling}var qr=null;function iv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qn(i,t),Yn(t),l&4&&(ba(3,t,t.return),Kl(3,t),ba(5,t,t.return));break;case 1:Qn(i,t),Yn(t),l&512&&(nn||s===null||ci(s,s.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=qr;if(Qn(i,t),Yn(t),l&512&&(nn||s===null||ci(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Xe]||d[pe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),vn(d,l,s),d[pe]=t,Tt(d),l=d;break e;case"link":var _=iE("link","href",f).get(l+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),vn(d,l,s),f.head.appendChild(d);break;case"meta":if(_=iE("meta","content",f).get(l+(s.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break t}}d=f.createElement(l),vn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[pe]=t,Tt(d),l=d}t.stateNode=l}else aE(f,t.type,t.stateNode);else t.stateNode=rE(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?aE(f,t.type,t.stateNode):rE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Qn(i,t),Yn(t),l&512&&(nn||s===null||ci(s,s.return)),s!==null&&l&4&&Wd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Qn(i,t),Yn(t),l&512&&(nn||s===null||ci(s,s.return)),t.flags&32){f=t.stateNode;try{Gn(f,"")}catch(Se){dt(t,t.return,Se)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Wd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(em=!0);break;case 6:if(Qn(i,t),Yn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Se){dt(t,t.return,Se)}}break;case 3:if(hh=null,f=qr,qr=uh(i.containerInfo),Qn(i,t),qr=f,Yn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{zo(i.containerInfo)}catch(Se){dt(t,t.return,Se)}em&&(em=!1,av(t));break;case 4:l=qr,qr=uh(t.stateNode.containerInfo),Qn(i,t),Yn(t),qr=l;break;case 12:Qn(i,t),Yn(t);break;case 31:Qn(i,t),Yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 13:Qn(i,t),Yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wc=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 22:f=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,Q=ki,ne=nn;if(ki=Q||f,nn=ne||O,Qn(i,t),nn=ne,ki=Q,Yn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||O||ki||nn||Ps(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){O=s=i;try{if(d=O.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var ae=O.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Se){dt(O,O.return,Se)}}}else if(i.tag===6){if(s===null){O=i;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(Se){dt(O,O.return,Se)}}}else if(i.tag===18){if(s===null){O=i;try{var J=O.stateNode;f?Yv(J,!0):Yv(O.stateNode,!1)}catch(Se){dt(O,O.return,Se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,$c(t,s))));break;case 19:Qn(i,t),Yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 30:break;case 21:break;default:Qn(i,t),Yn(t)}}function Yn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(X_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Jd(t);Yc(t,d,f);break;case 5:var _=s.stateNode;s.flags&32&&(Gn(_,""),s.flags&=-33);var b=Jd(t);Yc(t,b,_);break;case 3:case 4:var O=s.stateNode.containerInfo,Q=Jd(t);Zd(t,Q,O);break;default:throw Error(a(161))}}catch(ne){dt(t,t.return,ne)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Z_(t,i.alternate,i),i=i.sibling}function Ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ba(4,i,i.return),Ps(i);break;case 1:ci(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Y_(i,i.return,s),Ps(i);break;case 27:nu(i.stateNode);case 26:case 5:ci(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}t=t.sibling}}function Bi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Bi(f,d,s),Kl(4,d);break;case 1:if(Bi(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){dt(l,l.return,Q)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Ly(O[f],b)}catch(Q){dt(l,l.return,Q)}}s&&_&64&&Q_(d),Ql(d,d.return);break;case 27:W_(d);case 26:case 5:Bi(f,d,s),s&&l===null&&_&4&&$_(d),Ql(d,d.return);break;case 12:Bi(f,d,s);break;case 31:Bi(f,d,s),s&&_&4&&nv(f,d);break;case 13:Bi(f,d,s),s&&_&4&&rv(f,d);break;case 22:d.memoizedState===null&&Bi(f,d,s),Ql(d,d.return);break;case 30:break;default:Bi(f,d,s)}i=i.sibling}}function tm(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ml(s))}function nm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ml(t))}function Fr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sv(t,i,s,l),i=i.sibling}function sv(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Fr(t,i,s,l),f&2048&&Kl(9,i);break;case 1:Fr(t,i,s,l);break;case 3:Fr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ml(t)));break;case 12:if(f&2048){Fr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){dt(i,i.return,O)}}else Fr(t,i,s,l);break;case 31:Fr(t,i,s,l);break;case 13:Fr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Fr(t,i,s,l):Yl(t,i):d._visibility&2?Fr(t,i,s,l):(d._visibility|=2,Io(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&tm(_,i);break;case 24:Fr(t,i,s,l),f&2048&&nm(i.alternate,i);break;default:Fr(t,i,s,l)}}function Io(t,i,s,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=s,O=l,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Io(d,_,b,O,f),Kl(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Io(d,_,b,O,f):Yl(d,_):(ne._visibility|=2,Io(d,_,b,O,f)),f&&Q&2048&&tm(_.alternate,_);break;case 24:Io(d,_,b,O,f),f&&Q&2048&&nm(_.alternate,_);break;default:Io(d,_,b,O,f)}i=i.sibling}}function Yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:Yl(s,l),f&2048&&tm(l.alternate,l);break;case 24:Yl(s,l),f&2048&&nm(l.alternate,l);break;default:Yl(s,l)}i=i.sibling}}var $l=8192;function Do(t,i,s){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)ov(t,i,s),t=t.sibling}function ov(t,i,s){switch(t.tag){case 26:Do(t,i,s),t.flags&$l&&t.memoizedState!==null&&_R(s,qr,t.memoizedState,t.memoizedProps);break;case 5:Do(t,i,s);break;case 3:case 4:var l=qr;qr=uh(t.stateNode.containerInfo),Do(t,i,s),qr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=$l,$l=16777216,Do(t,i,s),$l=l):Do(t,i,s));break;default:Do(t,i,s)}}function lv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];dn=l,cv(l,t)}lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uv(t),t=t.sibling}function uv(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&ba(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Xc(t)):Xl(t);break;default:Xl(t)}}function Xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];dn=l,cv(l,t)}lv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ba(8,i,i.return),Xc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Xc(i));break;default:Xc(i)}t=t.sibling}}function cv(t,i){for(;dn!==null;){var s=dn;switch(s.tag){case 0:case 11:case 15:ba(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ml(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,dn=l;else e:for(s=t;dn!==null;){l=dn;var f=l.sibling,d=l.return;if(ev(l),l===s){dn=null;break e}if(f!==null){f.return=d,dn=f;break e}dn=d}}}var MA={getCacheForType:function(t){var i=yn(Zt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return yn(Zt).controller.signal}},VA=typeof WeakMap=="function"?WeakMap:Map,ut=0,vt=null,Qe=null,We=0,ft=0,lr=null,Sa=!1,No=!1,rm=!1,Hi=0,jt=0,wa=0,Ls=0,im=0,ur=0,Oo=0,Wl=null,$n=null,am=!1,Wc=0,hv=0,Jc=1/0,Zc=null,Aa=null,on=0,Ra=null,xo=null,qi=0,sm=0,om=null,fv=null,Jl=0,lm=null;function cr(){return(ut&2)!==0&&We!==0?We&-We:Y.T!==null?mm():Ae()}function dv(){if(ur===0)if((We&536870912)===0||nt){var t=Ri;Ri<<=1,(Ri&3932160)===0&&(Ri=262144),ur=t}else ur=536870912;return t=sr.current,t!==null&&(t.flags|=32),ur}function Xn(t,i,s){(t===vt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(Mo(t,0),Ca(t,We,ur,!1)),x(t,s),((ut&2)===0||t!==vt)&&(t===vt&&((ut&2)===0&&(Ls|=s),jt===4&&Ca(t,We,ur,!1)),hi(t))}function mv(t,i,s){if((ut&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Sn(t,i),f=l?UA(t,i):cm(t,i,!0),d=l;do{if(f===0){No&&!l&&Ca(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!PA(s)){f=cm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=Wl;var O=b.current.memoizedState.isDehydrated;if(O&&(Mo(b,_).flags|=256),_=cm(b,_,!1),_!==2){if(rm&&!O){b.errorRecoveryDisabledLanes|=d,Ls|=d,f=4;break e}d=$n,$n=f,d!==null&&($n===null?$n=d:$n.push.apply($n,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Mo(t,0),Ca(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ca(l,i,ur,!Sa);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Wc+300-hn(),10<f)){if(Ca(l,i,ur,!Sa),tr(l,0,!0)!==0)break e;qi=i,l.timeoutHandle=Gv(pv.bind(null,l,s,$n,Zc,am,i,ur,Ls,Oo,Sa,d,"Throttled",-0,0),f);break e}pv(l,s,$n,Zc,am,i,ur,Ls,Oo,Sa,d,null,-0,0)}}break}while(!0);hi(t)}function pv(t,i,s,l,f,d,_,b,O,Q,ne,ae,$,J){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ur},ov(i,d,ae);var Se=(d&62914560)===d?Wc-hn():(d&4194048)===d?hv-hn():0;if(Se=vR(ae,Se),Se!==null){qi=d,t.cancelPendingCommit=Se(Sv.bind(null,t,i,d,s,l,f,_,b,O,ne,ae,null,$,J)),Ca(t,d,_,!Q);return}}Sv(t,i,d,s,l,f,_,b,O)}function PA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!ir(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ca(t,i,s,l){i&=~im,i&=~Ls,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Ot(f),_=1<<d;l[d]=-1,f&=~_}s!==0&&X(t,s,i)}function eh(){return(ut&6)===0?(Zl(0),!1):!0}function um(){if(Qe!==null){if(ft===0)var t=Qe.return;else t=Qe,xi=Cs=null,Ad(t),So=null,Pl=0,t=Qe;for(;t!==null;)K_(t.alternate,t),t=t.return;Qe=null}}function Mo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,tR(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),qi=0,um(),vt=t,Qe=s=Ni(t.current,null),We=i,ft=0,lr=null,Sa=!1,No=Sn(t,i),rm=!1,Oo=ur=im=Ls=wa=jt=0,$n=Wl=null,am=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Ot(l),d=1<<f;i|=t[f],l&=~d}return Hi=i,Tc(),s}function gv(t,i){Fe=null,Y.H=ql,i===bo||i===Dc?(i=xy(),ft=3):i===dd?(i=xy(),ft=4):ft=i===Bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,lr=i,Qe===null&&(jt=1,qc(t,Tr(i,t.current)))}function yv(){var t=sr.current;return t===null?!0:(We&4194048)===We?Ar===null:(We&62914560)===We||(We&536870912)!==0?t===Ar:!1}function _v(){var t=Y.H;return Y.H=ql,t===null?ql:t}function vv(){var t=Y.A;return Y.A=MA,t}function th(){jt=4,Sa||(We&4194048)!==We&&sr.current!==null||(No=!0),(wa&134217727)===0&&(Ls&134217727)===0||vt===null||Ca(vt,We,ur,!1)}function cm(t,i,s){var l=ut;ut|=2;var f=_v(),d=vv();(vt!==t||We!==i)&&(Zc=null,Mo(t,i)),i=!1;var _=jt;e:do try{if(ft!==0&&Qe!==null){var b=Qe,O=lr;switch(ft){case 8:um(),_=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(i=!0);var Q=ft;if(ft=0,lr=null,Vo(t,b,O,Q),s&&No){_=0;break e}break;default:Q=ft,ft=0,lr=null,Vo(t,b,O,Q)}}LA(),_=jt;break}catch(ne){gv(t,ne)}while(!0);return i&&t.shellSuspendCounter++,xi=Cs=null,ut=l,Y.H=f,Y.A=d,Qe===null&&(vt=null,We=0,Tc()),_}function LA(){for(;Qe!==null;)Ev(Qe)}function UA(t,i){var s=ut;ut|=2;var l=_v(),f=vv();vt!==t||We!==i?(Zc=null,Jc=hn()+500,Mo(t,i)):No=Sn(t,i);e:do try{if(ft!==0&&Qe!==null){i=Qe;var d=lr;t:switch(ft){case 1:ft=0,lr=null,Vo(t,i,d,1);break;case 2:case 9:if(Ny(d)){ft=0,lr=null,Tv(i);break}i=function(){ft!==2&&ft!==9||vt!==t||(ft=7),hi(t)},d.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Ny(d)?(ft=0,lr=null,Tv(i)):(ft=0,lr=null,Vo(t,i,d,7));break;case 5:var _=null;switch(Qe.tag){case 26:_=Qe.memoizedState;case 5:case 27:var b=Qe;if(_?sE(_):b.stateNode.complete){ft=0,lr=null;var O=b.sibling;if(O!==null)Qe=O;else{var Q=b.return;Q!==null?(Qe=Q,nh(Q)):Qe=null}break t}}ft=0,lr=null,Vo(t,i,d,5);break;case 6:ft=0,lr=null,Vo(t,i,d,6);break;case 8:um(),jt=6;break e;default:throw Error(a(462))}}kA();break}catch(ne){gv(t,ne)}while(!0);return xi=Cs=null,Y.H=l,Y.A=f,ut=s,Qe!==null?0:(vt=null,We=0,Tc(),jt)}function kA(){for(;Qe!==null&&!xr();)Ev(Qe)}function Ev(t){var i=F_(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,i===null?nh(t):Qe=i}function Tv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=k_(s,i,i.pendingProps,i.type,void 0,We);break;case 11:i=k_(s,i,i.pendingProps,i.type.render,i.ref,We);break;case 5:Ad(i);default:K_(s,i),i=Qe=vy(i,Hi),i=F_(s,i,Hi)}t.memoizedProps=t.pendingProps,i===null?nh(t):Qe=i}function Vo(t,i,s,l){xi=Cs=null,Ad(i),So=null,Pl=0;var f=i.return;try{if(RA(t,f,i,s,We)){jt=1,qc(t,Tr(s,t.current)),Qe=null;return}}catch(d){if(f!==null)throw Qe=f,d;jt=1,qc(t,Tr(s,t.current)),Qe=null;return}i.flags&32768?(nt||l===1?t=!0:No||(We&536870912)!==0?t=!1:(Sa=t=!0,(l===2||l===9||l===3||l===6)&&(l=sr.current,l!==null&&l.tag===13&&(l.flags|=16384))),bv(i,t)):nh(i)}function nh(t){var i=t;do{if((i.flags&32768)!==0){bv(i,Sa);return}t=i.return;var s=DA(i.alternate,i,Hi);if(s!==null){Qe=s;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=t}while(i!==null);jt===0&&(jt=5)}function bv(t,i){do{var s=NA(t.alternate,t);if(s!==null){s.flags&=32767,Qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Qe=t;return}Qe=t=s}while(t!==null);jt=6,Qe=null}function Sv(t,i,s,l,f,d,_,b,O){t.cancelPendingCommit=null;do rh();while(on!==0);if((ut&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Jf,q(t,s,d,_,b,O),t===vt&&(Qe=vt=null,We=0),xo=i,Ra=t,qi=s,sm=d,om=f,fv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HA(Vr,function(){return Iv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=ue.p,ue.p=2,_=ut,ut|=4;try{OA(t,i,s)}finally{ut=_,ue.p=f,Y.T=l}}on=1,wv(),Av(),Rv()}}function wv(){if(on===1){on=0;var t=Ra,i=xo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=ue.p;ue.p=2;var f=ut;ut|=4;try{iv(i,t);var d=bm,_=cy(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&uy(b.ownerDocument.documentElement,b)){if(O!==null&&Qf(b)){var Q=O.start,ne=O.end;if(ne===void 0&&(ne=Q),"selectionStart"in b)b.selectionStart=Q,b.selectionEnd=Math.min(ne,b.value.length);else{var ae=b.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var J=$.getSelection(),Se=b.textContent.length,Oe=Math.min(O.start,Se),_t=O.end===void 0?Oe:Math.min(O.end,Se);!J.extend&&Oe>_t&&(_=_t,_t=Oe,Oe=_);var B=ly(b,Oe),L=ly(b,_t);if(B&&L&&(J.rangeCount!==1||J.anchorNode!==B.node||J.anchorOffset!==B.offset||J.focusNode!==L.node||J.focusOffset!==L.offset)){var K=ae.createRange();K.setStart(B.node,B.offset),J.removeAllRanges(),Oe>_t?(J.addRange(K),J.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),J.addRange(K))}}}}for(ae=[],J=b;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ph=!!Tm,bm=Tm=null}finally{ut=f,ue.p=l,Y.T=s}}t.current=i,on=2}}function Av(){if(on===2){on=0;var t=Ra,i=xo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=ue.p;ue.p=2;var f=ut;ut|=4;try{Z_(t,i.alternate,i)}finally{ut=f,ue.p=l,Y.T=s}}on=3}}function Rv(){if(on===4||on===3){on=0,Zr();var t=Ra,i=xo,s=qi,l=fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,xo=Ra=null,Cv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Aa=null),be(s),i=i.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,f=ue.p,ue.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,ue.p=f}}(qi&3)!==0&&rh(),hi(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===lm?Jl++:(Jl=0,lm=t):Jl=0,Zl(0)}}function Cv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ml(i)))}function rh(){return wv(),Av(),Rv(),Iv()}function Iv(){if(on!==5)return!1;var t=Ra,i=sm;sm=0;var s=be(qi),l=Y.T,f=ue.p;try{ue.p=32>s?32:s,Y.T=null,s=om,om=null;var d=Ra,_=qi;if(on=0,xo=Ra=null,qi=0,(ut&6)!==0)throw Error(a(331));var b=ut;if(ut|=4,uv(d.current),sv(d,d.current,_,s),ut=b,Zl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{ue.p=f,Y.T=l,Cv(t,i)}}function Dv(t,i,s){i=Tr(s,i),i=jd(t.stateNode,i,2),t=va(t,i,2),t!==null&&(x(t,2),hi(t))}function dt(t,i,s){if(t.tag===3)Dv(t,t,s);else for(;i!==null;){if(i.tag===3){Dv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Aa===null||!Aa.has(l))){t=Tr(s,t),s=N_(2),l=va(i,s,2),l!==null&&(O_(s,l,i,t),x(l,2),hi(l));break}}i=i.return}}function hm(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new VA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(rm=!0,f.add(s),t=zA.bind(null,t,i,s),i.then(t,t))}function zA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,vt===t&&(We&s)===s&&(jt===4||jt===3&&(We&62914560)===We&&300>hn()-Wc?(ut&2)===0&&Mo(t,0):im|=s,Oo===We&&(Oo=0)),hi(t)}function Nv(t,i){i===0&&(i=to()),t=ws(t,i),t!==null&&(x(t,i),hi(t))}function jA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Nv(t,s)}function BA(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Nv(t,s)}function HA(t,i){return Ft(t,i)}var ih=null,Po=null,fm=!1,ah=!1,dm=!1,Ia=0;function hi(t){t!==Po&&t.next===null&&(Po===null?ih=Po=t:Po=Po.next=t),ah=!0,fm||(fm=!0,FA())}function Zl(t,i){if(!dm&&ah){dm=!0;do for(var s=!1,l=ih;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Ot(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Vv(l,d))}else d=We,d=tr(l,l===vt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Sn(l,d)||(s=!0,Vv(l,d));l=l.next}while(s);dm=!1}}function qA(){Ov()}function Ov(){ah=fm=!1;var t=0;Ia!==0&&eR()&&(t=Ia);for(var i=hn(),s=null,l=ih;l!==null;){var f=l.next,d=xv(l,i);d===0?(l.next=null,s===null?ih=f:s.next=f,f===null&&(Po=s)):(s=l,(t!==0||(d&3)!==0)&&(ah=!0)),l=f}on!==0&&on!==5||Zl(t),Ia!==0&&(Ia=0)}function xv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Ot(d),b=1<<_,O=f[_];O===-1?((b&s)===0||(b&l)!==0)&&(f[_]=ra(b,i)):O<=i&&(t.expiredLanes|=b),d&=~b}if(i=vt,s=We,s=tr(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Sn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Jr(l),be(s)){case 2:case 8:s=Mn;break;case 32:s=Vr;break;case 268435456:s=na;break;default:s=Vr}return l=Mv.bind(null,t),s=Ft(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Jr(l),t.callbackPriority=2,t.callbackNode=null,2}function Mv(t,i){if(on!==0&&on!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(rh()&&t.callbackNode!==s)return null;var l=We;return l=tr(t,t===vt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(mv(t,l,i),xv(t,hn()),t.callbackNode!=null&&t.callbackNode===s?Mv.bind(null,t):null)}function Vv(t,i){if(rh())return null;mv(t,i,!0)}function FA(){nR(function(){(ut&6)!==0?Ft(xn,qA):Ov()})}function mm(){if(Ia===0){var t=Eo;t===0&&(t=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),Ia=t}return Ia}function Pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:io(""+t)}function Lv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function GA(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=Pv((f[ye]||null).action),_=l.submitter;_&&(i=(i=_[ye]||null)?Pv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new ii("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ia!==0){var O=_?Lv(f,_):new FormData(f);Vd(s,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=_?Lv(f,_):new FormData(f),Vd(s,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var pm=0;pm<Wf.length;pm++){var gm=Wf[pm],KA=gm.toLowerCase(),QA=gm[0].toUpperCase()+gm.slice(1);Hr(KA,"on"+QA)}Hr(dy,"onAnimationEnd"),Hr(my,"onAnimationIteration"),Hr(py,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(uA,"onTransitionRun"),Hr(cA,"onTransitionStart"),Hr(hA,"onTransitionCancel"),Hr(gy,"onTransitionEnd"),je("onMouseEnter",["mouseout","mouseover"]),je("onMouseLeave",["mouseout","mouseover"]),je("onPointerEnter",["pointerout","pointerover"]),je("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function Uv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,Q=b.currentTarget;if(b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=Q;try{d(f)}catch(ne){Ec(ne)}f.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,Q=b.currentTarget,b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=Q;try{d(f)}catch(ne){Ec(ne)}f.currentTarget=null,d=O}}}}function Ye(t,i){var s=i[ot];s===void 0&&(s=i[ot]=new Set);var l=t+"__bubble";s.has(l)||(kv(i,t,2,!1),s.add(l))}function ym(t,i,s){var l=0;i&&(l|=4),kv(s,t,l,i)}var sh="_reactListening"+Math.random().toString(36).slice(2);function _m(t){if(!t[sh]){t[sh]=!0,nr.forEach(function(s){s!=="selectionchange"&&(YA.has(s)||ym(s,!1,t),ym(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[sh]||(i[sh]=!0,ym("selectionchange",!1,i))}}function kv(t,i,s,l){switch(dE(i)){case 2:var f=bR;break;case 8:f=SR;break;default:f=Mm}s=f.bind(null,i,s,t),f=void 0,!gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function vm(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=wn(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}b=b.parentNode}}l=l.return}ua(function(){var Q=d,ne=yr(s),ae=[];e:{var $=yy.get(t);if($!==void 0){var J=ii,Se=t;switch(t){case"keypress":if(_s(s)===0)break e;case"keydown":case"keyup":J=yc;break;case"focusin":Se="focus",J=Es;break;case"focusout":Se="blur",J=Es;break;case"beforeblur":case"afterblur":J=Es;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=y;break;case dy:case my:case py:J=cc;break;case gy:J=w;break;case"scroll":case"scrollend":J=wl;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Di;break;case"toggle":case"beforetoggle":J=qe}var Oe=(i&4)!==0,_t=!Oe&&(t==="scroll"||t==="scrollend"),B=Oe?$!==null?$+"Capture":null:$;Oe=[];for(var L=Q,K;L!==null;){var ie=L;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||B===null||(ie=kr(L,B),ie!=null&&Oe.push(tu(L,ie,K))),_t)break;L=L.return}0<Oe.length&&($=new J($,Se,null,s,ne),ae.push({event:$,listeners:Oe}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",$&&s!==Tl&&(Se=s.relatedTarget||s.fromElement)&&(wn(Se)||Se[ze]))break e;if((J||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,J?(Se=s.relatedTarget||s.toElement,J=Q,Se=Se?wn(Se):null,Se!==null&&(_t=u(Se),Oe=Se.tag,Se!==_t||Oe!==5&&Oe!==27&&Oe!==6)&&(Se=null)):(J=null,Se=Q),J!==Se)){if(Oe=Al,ie="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=Di,ie="onPointerLeave",B="onPointerEnter",L="pointer"),_t=J==null?$:Ct(J),K=Se==null?$:Ct(Se),$=new Oe(ie,L+"leave",J,s,ne),$.target=_t,$.relatedTarget=K,ie=null,wn(ne)===Q&&(Oe=new Oe(B,L+"enter",Se,s,ne),Oe.target=K,Oe.relatedTarget=_t,ie=Oe),_t=ie,J&&Se)t:{for(Oe=$A,B=J,L=Se,K=0,ie=B;ie;ie=Oe(ie))K++;ie=0;for(var Ie=L;Ie;Ie=Oe(Ie))ie++;for(;0<K-ie;)B=Oe(B),K--;for(;0<ie-K;)L=Oe(L),ie--;for(;K--;){if(B===L||L!==null&&B===L.alternate){Oe=B;break t}B=Oe(B),L=Oe(L)}Oe=null}else Oe=null;J!==null&&zv(ae,$,J,Oe,!1),Se!==null&&_t!==null&&zv(ae,_t,Se,Oe,!0)}}e:{if($=Q?Ct(Q):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var at=ny;else if(ey($))if(ry)at=sA;else{at=iA;var Re=rA}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&ro(Q.elementType)&&(at=ny):at=aA;if(at&&(at=at(t,Q))){ty(ae,at,s,ne);break e}Re&&Re(t,$,Q),t==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&_l($,"number",$.value)}switch(Re=Q?Ct(Q):window,t){case"focusin":(ey(Re)||Re.contentEditable==="true")&&(ho=Re,Yf=Q,Nl=null);break;case"focusout":Nl=Yf=ho=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,hy(ae,s,ne);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":hy(ae,s,ne)}var Ge;if(lt)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else co?Ts(t,s)&&(Je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Je="onCompositionStart");Je&&(oi&&s.locale!=="ko"&&(co||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&co&&(Ge=Sl()):(ri=ne,bl="value"in ri?ri.value:ri.textContent,co=!0)),Re=oh(Q,Je),0<Re.length&&(Je=new si(Je,t,null,s,ne),ae.push({event:Je,listeners:Re}),Ge?Je.data=Ge:(Ge=uo(s),Ge!==null&&(Je.data=Ge)))),(Ge=vr?Zw(t,s):eA(t,s))&&(Je=oh(Q,"onBeforeInput"),0<Je.length&&(Re=new si("onBeforeInput","beforeinput",null,s,ne),ae.push({event:Re,listeners:Je}),Re.data=Ge)),GA(ae,t,Q,s,ne)}Uv(ae,i)})}function tu(t,i,s){return{instance:t,listener:i,currentTarget:s}}function oh(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=kr(t,s),f!=null&&l.unshift(tu(t,f,d)),f=kr(t,i),f!=null&&l.push(tu(t,f,d))),t.tag===3)return l;t=t.return}return[]}function $A(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zv(t,i,s,l,f){for(var d=i._reactName,_=[];s!==null&&s!==l;){var b=s,O=b.alternate,Q=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||Q===null||(O=Q,f?(Q=kr(s,d),Q!=null&&_.unshift(tu(s,Q,O))):f||(Q=kr(s,d),Q!=null&&_.push(tu(s,Q,O)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var XA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function jv(t){return(typeof t=="string"?t:""+t).replace(XA,`
`).replace(WA,"")}function Bv(t,i){return i=jv(i),jv(t)===i}function yt(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Gn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,s,l);break;case"style":El(t,l,d);break;case"data":if(i!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=io(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&yt(t,i,"name",f.name,f,null),yt(t,i,"formEncType",f.formEncType,f,null),yt(t,i,"formMethod",f.formMethod,f,null),yt(t,i,"formTarget",f.formTarget,f,null)):(yt(t,i,"encType",f.encType,f,null),yt(t,i,"method",f.method,f,null),yt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=io(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Ur);break;case"onScroll":l!=null&&Ye("scroll",t);break;case"onScrollEnd":l!=null&&Ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=io(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ye("beforetoggle",t),Ye("toggle",t),Lr(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=oc.get(s)||s,Lr(t,s,l))}}function Em(t,i,s,l,f,d){switch(s){case"style":El(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Gn(t,l):(typeof l=="number"||typeof l=="bigint")&&Gn(t,""+l);break;case"onScroll":l!=null&&Ye("scroll",t);break;case"onScrollEnd":l!=null&&Ye("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ei.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[ye]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Lr(t,s,l)}}}function vn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",t),Ye("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:yt(t,i,d,_,s,null)}}f&&yt(t,i,"srcSet",s.srcSet,s,null),l&&yt(t,i,"src",s.src,s,null);return;case"input":Ye("invalid",t);var b=d=_=f=null,O=null,Q=null;for(l in s)if(s.hasOwnProperty(l)){var ne=s[l];if(ne!=null)switch(l){case"name":f=ne;break;case"type":_=ne;break;case"checked":O=ne;break;case"defaultChecked":Q=ne;break;case"value":d=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,i));break;default:yt(t,i,l,ne,s,null)}}ic(t,d,b,O,Q,_,f,!1);return;case"select":Ye("invalid",t),l=_=d=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:yt(t,i,f,b,s,null)}i=d,s=_,t.multiple=!!l,i!=null?aa(t,!!l,i,!1):s!=null&&aa(t,!!l,s,!0);return;case"textarea":Ye("invalid",t),d=f=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:yt(t,i,_,b,s,null)}sa(t,l,f,d);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:yt(t,i,O,l,s,null)}return;case"dialog":Ye("beforetoggle",t),Ye("toggle",t),Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":Ye("load",t);break;case"video":case"audio":for(l=0;l<eu.length;l++)Ye(eu[l],t);break;case"image":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"embed":case"source":case"link":Ye("error",t),Ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(l=s[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:yt(t,i,Q,l,s,null)}return;default:if(ro(i)){for(ne in s)s.hasOwnProperty(ne)&&(l=s[ne],l!==void 0&&Em(t,i,ne,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&yt(t,i,b,l,s,null))}function JA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,O=null,Q=null,ne=null;for(J in s){var ae=s[J];if(s.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=ae;default:l.hasOwnProperty(J)||yt(t,i,J,null,l,ae)}}for(var $ in l){var J=l[$];if(ae=s[$],l.hasOwnProperty($)&&(J!=null||ae!=null))switch($){case"type":d=J;break;case"name":f=J;break;case"checked":Q=J;break;case"defaultChecked":ne=J;break;case"value":_=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==ae&&yt(t,i,$,J,l,ae)}}no(t,_,b,O,Q,ne,d,f);return;case"select":J=_=b=$=null;for(d in s)if(O=s[d],s.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":J=O;default:l.hasOwnProperty(d)||yt(t,i,d,null,l,O)}for(f in l)if(d=l[f],O=s[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==O&&yt(t,i,f,d,l,O)}i=b,s=_,l=J,$!=null?aa(t,!!s,$,!1):!!l!=!!s&&(i!=null?aa(t,!!s,i,!0):aa(t,!!s,s?[]:"",!1));return;case"textarea":J=$=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:yt(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=s[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":$=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&yt(t,i,_,f,l,d)}ac(t,$,J);return;case"option":for(var Se in s)if($=s[Se],s.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:yt(t,i,Se,null,l,$)}for(O in l)if($=l[O],J=s[O],l.hasOwnProperty(O)&&$!==J&&($!=null||J!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:yt(t,i,O,$,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in s)$=s[Oe],s.hasOwnProperty(Oe)&&$!=null&&!l.hasOwnProperty(Oe)&&yt(t,i,Oe,null,l,$);for(Q in l)if($=l[Q],J=s[Q],l.hasOwnProperty(Q)&&$!==J&&($!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:yt(t,i,Q,$,l,J)}return;default:if(ro(i)){for(var _t in s)$=s[_t],s.hasOwnProperty(_t)&&$!==void 0&&!l.hasOwnProperty(_t)&&Em(t,i,_t,void 0,l,$);for(ne in l)$=l[ne],J=s[ne],!l.hasOwnProperty(ne)||$===J||$===void 0&&J===void 0||Em(t,i,ne,$,l,J);return}}for(var B in s)$=s[B],s.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&yt(t,i,B,null,l,$);for(ae in l)$=l[ae],J=s[ae],!l.hasOwnProperty(ae)||$===J||$==null&&J==null||yt(t,i,ae,$,l,J)}function Hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&Hv(_)){for(_=0,b=f.responseEnd,l+=1;l<s.length;l++){var O=s[l],Q=O.startTime;if(Q>b)break;var ne=O.transferSize,ae=O.initiatorType;ne&&Hv(ae)&&(O=O.responseEnd,_+=ne*(O<b?1:(b-Q)/(O-Q)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tm=null,bm=null;function lh(t){return t.nodeType===9?t:t.ownerDocument}function qv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Sm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function eR(){var t=window.event;return t&&t.type==="popstate"?t===wm?!1:(wm=t,!0):(wm=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,tR=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,nR=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(rR)}:Gv;function rR(t){setTimeout(function(){throw t})}function Da(t){return t==="head"}function Qv(t,i){var s=i,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),zo(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")nu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,nu(s);for(var d=s.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Xe]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&nu(t.ownerDocument.body);s=f}while(s);zo(i)}function Yv(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Am(s),Hn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function iR(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Xe])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Rr(t.nextSibling),t===null)break}return null}function aR(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Rr(t.nextSibling),t===null))return null;return t}function $v(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Rr(t.nextSibling),t===null))return null;return t}function Rm(t){return t.data==="$?"||t.data==="$~"}function Cm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sR(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Rr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Im=null;function Xv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Rr(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Wv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Jv(t,i,s){switch(i=lh(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function nu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Hn(t)}var Cr=new Map,Zv=new Set;function uh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=ue.d;ue.d={f:oR,r:lR,D:uR,C:cR,L:hR,m:fR,X:mR,S:dR,M:pR};function oR(){var t=Fi.f(),i=eh();return t||i}function lR(t){var i=Gt(t);i!==null&&i.tag===5&&i.type==="form"?g_(i):Fi.r(t)}var Lo=typeof document>"u"?null:document;function eE(t,i,s){var l=Lo;if(l&&typeof i=="string"&&i){var f=Fn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Zv.has(f)||(Zv.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),vn(i,"link",t),Tt(i),l.head.appendChild(i)))}}function uR(t){Fi.D(t),eE("dns-prefetch",t,null)}function cR(t,i){Fi.C(t,i),eE("preconnect",t,i)}function hR(t,i,s){Fi.L(t,i,s);var l=Lo;if(l&&t&&i){var f='link[rel="preload"][as="'+Fn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Fn(s.imageSizes)+'"]')):f+='[href="'+Fn(t)+'"]';var d=f;switch(i){case"style":d=Uo(t);break;case"script":d=ko(t)}Cr.has(d)||(t=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Cr.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(ru(d))||i==="script"&&l.querySelector(iu(d))||(i=l.createElement("link"),vn(i,"link",t),Tt(i),l.head.appendChild(i)))}}function fR(t,i){Fi.m(t,i);var s=Lo;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Fn(l)+'"][href="'+Fn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ko(t)}if(!Cr.has(d)&&(t=T({rel:"modulepreload",href:t},i),Cr.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(iu(d)))return}l=s.createElement("link"),vn(l,"link",t),Tt(l),s.head.appendChild(l)}}}function dR(t,i,s){Fi.S(t,i,s);var l=Lo;if(l&&t){var f=qn(l).hoistableStyles,d=Uo(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(ru(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Cr.get(d))&&Dm(t,s);var O=_=l.createElement("link");Tt(O),vn(O,"link",t),O._p=new Promise(function(Q,ne){O.onload=Q,O.onerror=ne}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ch(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function mR(t,i){Fi.X(t,i);var s=Lo;if(s&&t){var l=qn(s).hoistableScripts,f=ko(t),d=l.get(f);d||(d=s.querySelector(iu(f)),d||(t=T({src:t,async:!0},i),(i=Cr.get(f))&&Nm(t,i),d=s.createElement("script"),Tt(d),vn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function pR(t,i){Fi.M(t,i);var s=Lo;if(s&&t){var l=qn(s).hoistableScripts,f=ko(t),d=l.get(f);d||(d=s.querySelector(iu(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Cr.get(f))&&Nm(t,i),d=s.createElement("script"),Tt(d),vn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function tE(t,i,s,l){var f=(f=Pe.current)?uh(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Uo(s.href),s=qn(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Uo(s.href);var d=qn(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(ru(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Cr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cr.set(t,s),d||gR(f,t,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ko(s),s=qn(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Uo(t){return'href="'+Fn(t)+'"'}function ru(t){return'link[rel="stylesheet"]['+t+"]"}function nE(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function gR(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),vn(i,"link",s),Tt(i),t.head.appendChild(i))}function ko(t){return'[src="'+Fn(t)+'"]'}function iu(t){return"script[async]"+t}function rE(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Fn(s.href)+'"]');if(l)return i.instance=l,Tt(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),vn(l,"style",f),ch(l,s.precedence,t),i.instance=l;case"stylesheet":f=Uo(s.href);var d=t.querySelector(ru(f));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=nE(s),(f=Cr.get(f))&&Dm(l,f),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),vn(d,"link",l),i.state.loading|=4,ch(d,s.precedence,t),i.instance=d;case"script":return d=ko(s.src),(f=t.querySelector(iu(d)))?(i.instance=f,Tt(f),f):(l=s,(f=Cr.get(d))&&(l=T({},s),Nm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Tt(f),vn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ch(l,s.precedence,t));return i.instance}function ch(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var hh=null;function iE(t,i,s){if(hh===null){var l=new Map,f=hh=new Map;f.set(s,l)}else f=hh,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[Xe]||d[pe]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function aE(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function yR(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _R(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Uo(l.href),d=i.querySelector(ru(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=fh.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,Tt(d);return}d=i.ownerDocument||i,l=nE(l),(f=Cr.get(f))&&Dm(l,f),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),vn(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=fh.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Om=0;function vR(t,i){return t.stylesheets&&t.count===0&&mh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Om===0&&(Om=62500*ZA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Om?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dh=null;function mh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dh=new Map,i.forEach(ER,t),dh=null,fh.call(t))}function ER(t,i){if(!(i.state.loading&4)){var s=dh.get(t);if(s)var l=s.get(null);else{s=new Map,dh.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,f),s.set(_,f),this.count++,l=fh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var au={$$typeof:te,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function TR(t,i,s,l,f,d,_,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function oE(t,i,s,l,f,d,_,b,O,Q,ne,ae){return t=new TR(t,i,s,_,O,Q,ne,ae,b),i=1,d===!0&&(i|=24),d=ar(3,null,null,i),t.current=d,d.stateNode=t,i=cd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},md(d),t}function lE(t){return t?(t=po,t):po}function uE(t,i,s,l,f,d){f=lE(f),l.context===null?l.context=f:l.pendingContext=f,l=_a(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=va(t,l,i),s!==null&&(Xn(s,t,i),Ul(s,t,i))}function cE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function xm(t,i){cE(t,i),(t=t.alternate)&&cE(t,i)}function hE(t){if(t.tag===13||t.tag===31){var i=ws(t,67108864);i!==null&&Xn(i,t,67108864),xm(t,67108864)}}function fE(t){if(t.tag===13||t.tag===31){var i=cr();i=we(i);var s=ws(t,i);s!==null&&Xn(s,t,i),xm(t,i)}}var ph=!0;function bR(t,i,s,l){var f=Y.T;Y.T=null;var d=ue.p;try{ue.p=2,Mm(t,i,s,l)}finally{ue.p=d,Y.T=f}}function SR(t,i,s,l){var f=Y.T;Y.T=null;var d=ue.p;try{ue.p=8,Mm(t,i,s,l)}finally{ue.p=d,Y.T=f}}function Mm(t,i,s,l){if(ph){var f=Vm(l);if(f===null)vm(t,i,l,gh,s),mE(t,l);else if(AR(f,t,i,s,l))l.stopPropagation();else if(mE(t,l),i&4&&-1<wR.indexOf(t)){for(;f!==null;){var d=Gt(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mr(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-Ot(_);b.entanglements[1]|=O,_&=~O}hi(d),(ut&6)===0&&(Jc=hn()+500,Zl(0))}}break;case 31:case 13:b=ws(d,2),b!==null&&Xn(b,d,2),eh(),xm(d,2)}if(d=Vm(l),d===null&&vm(t,i,l,gh,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else vm(t,i,l,null,s)}}function Vm(t){return t=yr(t),Pm(t)}var gh=null;function Pm(t){if(gh=null,t=wn(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=c(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return gh=t,null}function dE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mr()){case xn:return 2;case Mn:return 8;case Vr:case gl:return 32;case na:return 268435456;default:return 32}default:return 32}}var Lm=!1,Na=null,Oa=null,xa=null,su=new Map,ou=new Map,Ma=[],wR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mE(t,i){switch(t){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":su.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(i.pointerId)}}function lu(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Gt(i),i!==null&&hE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function AR(t,i,s,l,f){switch(i){case"focusin":return Na=lu(Na,t,i,s,l,f),!0;case"dragenter":return Oa=lu(Oa,t,i,s,l,f),!0;case"mouseover":return xa=lu(xa,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return su.set(d,lu(su.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ou.set(d,lu(ou.get(d)||null,t,i,s,l,f)),!0}return!1}function pE(t){var i=wn(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){t.blockedOn=i,Te(t.priority,function(){fE(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,Te(t.priority,function(){fE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Vm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Tl=l,s.target.dispatchEvent(l),Tl=null}else return i=Gt(s),i!==null&&hE(i),t.blockedOn=s,!1;i.shift()}return!0}function gE(t,i,s){yh(t)&&s.delete(i)}function RR(){Lm=!1,Na!==null&&yh(Na)&&(Na=null),Oa!==null&&yh(Oa)&&(Oa=null),xa!==null&&yh(xa)&&(xa=null),su.forEach(gE),ou.forEach(gE)}function _h(t,i){t.blockedOn===i&&(t.blockedOn=null,Lm||(Lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RR)))}var vh=null;function yE(t){vh!==t&&(vh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vh===t&&(vh=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Pm(l||s)===null)continue;break}var d=Gt(s);d!==null&&(t.splice(i,3),i-=3,Vd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function zo(t){function i(O){return _h(O,t)}Na!==null&&_h(Na,t),Oa!==null&&_h(Oa,t),xa!==null&&_h(xa,t),su.forEach(i),ou.forEach(i);for(var s=0;s<Ma.length;s++){var l=Ma[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ma.length&&(s=Ma[0],s.blockedOn===null);)pE(s),s.blockedOn===null&&Ma.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],_=f[ye]||null;if(typeof d=="function")_||yE(s);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ye]||null)b=_.formAction;else if(Pm(f)!==null)continue}else b=_.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),yE(s)}}}function _E(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Um(t){this._internalRoot=t}Eh.prototype.render=Um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=cr();uE(s,l,t,i,null,null)},Eh.prototype.unmount=Um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;uE(t.current,2,null,t,null,null),eh(),i[ze]=null}};function Eh(t){this._internalRoot=t}Eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ae();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ma.length&&i!==0&&i<Ma[s].priority;s++);Ma.splice(s,0,t),s===0&&pE(t)}};var vE=e.version;if(vE!=="19.2.0")throw Error(a(527,vE,"19.2.0"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var CR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{jn=Th.inject(CR),Wt=Th}catch{}}return cu.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=R_,d=C_,_=I_;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=oE(t,1,!1,null,null,s,l,null,f,d,_,_E),t[ze]=i.current,_m(t),new Um(i)},cu.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=R_,_=C_,b=I_,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),i=oE(t,1,!0,i,s??null,l,f,O,d,_,b,_E),i.context=lE(null),s=i.current,l=cr(),l=we(l),f=_a(l),f.callback=null,va(s,f,l),s=l,i.current.lanes=s,x(i,s),hi(i),t[ze]=i.current,_m(t),new Eh(i)},cu.version="19.2.0",cu}var DE;function UR(){if(DE)return jm.exports;DE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jm.exports=LR(),jm.exports}var kR=UR();const zR=V0(kR);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L0=r=>{throw TypeError(r)},jR=(r,e,n)=>e.has(r)||L0("Cannot "+n),Fm=(r,e,n)=>(jR(r,e,"read from private field"),n?n.call(r):e.get(r)),BR=(r,e,n)=>e.has(r)?L0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),NE="popstate";function HR(r={}){function e(a,o){let{pathname:u,search:c,hash:m}=a.location;return Nu("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Xa(o)}return FR(e,n,null,r)}function Ke(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Xt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qR(){return Math.random().toString(36).substring(2,10)}function OE(r,e){return{usr:r.state,key:r.key,idx:e}}function Nu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?is(e):e,state:n,key:e&&e.key||a||qR()}}function Xa({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function is(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function FR(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,m="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){m="POP";let U=v(),Z=U==null?null:U-g;g=U,p&&p({action:m,location:G.location,delta:Z})}function S(U,Z){m="PUSH";let ee=Nu(G.location,U,Z);g=v()+1;let te=OE(ee,g),de=G.createHref(ee);try{c.pushState(te,"",de)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(de)}u&&p&&p({action:m,location:G.location,delta:1})}function I(U,Z){m="REPLACE";let ee=Nu(G.location,U,Z);g=v();let te=OE(ee,g),de=G.createHref(ee);c.replaceState(te,"",de),u&&p&&p({action:m,location:G.location,delta:0})}function k(U){return U0(U)}let G={get action(){return m},get location(){return r(o,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(NE,T),p=U,()=>{o.removeEventListener(NE,T),p=null}},createHref(U){return e(o,U)},createURL:k,encodeLocation(U){let Z=k(U);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:I,go(U){return c.go(U)}};return G}function U0(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Xa(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var gu,xE=class{constructor(r){if(BR(this,gu,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Fm(this,gu).has(r))return Fm(this,gu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Fm(this,gu).set(r,e)}};gu=new WeakMap;var GR=new Set(["lazy","caseSensitive","path","id","index","children"]);function KR(r){return GR.has(r)}var QR=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function YR(r){return QR.has(r)}function $R(r){return r.index===!0}function Ou(r,e,n=[],a={},o=!1){return r.map((u,c)=>{let m=[...n,String(c)],p=typeof u.id=="string"?u.id:m.join("-");if(Ke(u.index!==!0||!u.children,"Cannot specify children on an index route"),Ke(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),$R(u)){let g={...u,...e(u),id:p};return a[p]=g,g}else{let g={...u,...e(u),id:p,children:void 0};return a[p]=g,u.children&&(g.children=Ou(u.children,e,m,a,o)),g}})}function La(r,e,n="/"){return Vh(r,e,n,!1)}function Vh(r,e,n,a){let o=typeof e=="string"?is(e):e,u=Or(o.pathname||"/",n);if(u==null)return null;let c=k0(r);WR(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=l1(u);m=s1(c[p],g,a)}return m}function XR(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function k0(r,e=[],n=[],a="",o=!1){let u=(c,m,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Ke(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let T=mi([a,v.relativePath]),S=n.concat(v);c.children&&c.children.length>0&&(Ke(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),k0(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:i1(T,c.index),routesMeta:S})};return r.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of z0(c.path))u(c,m,!0,p)}),e}function z0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=z0(a.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function WR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:a1(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var JR=/^:[\w-]+$/,ZR=3,e1=2,t1=1,n1=10,r1=-2,ME=r=>r==="*";function i1(r,e){let n=r.split("/"),a=n.length;return n.some(ME)&&(a+=r1),e&&(a+=e1),n.filter(o=>!ME(o)).reduce((o,u)=>o+(JR.test(u)?ZR:u===""?t1:n1),a)}function a1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function s1(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",c=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&n&&!a[a.length-1].route.index&&(T=Yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:mi([u,T.pathname]),pathnameBase:f1(mi([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=mi([u,T.pathnameBase]))}return c}function Yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=o1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let k=m[S]||"";c=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const I=m[S];return T&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:r}}function o1(r,e=!1,n=!0){Xt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function l1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function u1({basename:r,pathname:e}){return e==="/"?r:mi([r,e])}function c1(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?is(r):r;return{pathname:n?n.startsWith("/")?n:h1(n,e):e,search:d1(a),hash:m1(o)}}function h1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Gm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j0(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _f(r){let e=j0(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function vf(r,e,n,a=!1){let o;typeof r=="string"?o=is(r):(o={...r},Ke(!o.pathname||!o.pathname.includes("?"),Gm("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Gm("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Gm("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!a&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=c1(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var mi=r=>r.join("/").replace(/\/\/+/g,"/"),f1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),d1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,m1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,$h=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var B0=["POST","PUT","PATCH","DELETE"],p1=new Set(B0),g1=["GET",...B0],y1=new Set(g1),_1=new Set([301,302,303,307,308]),v1=new Set([307,308]),Km={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},E1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},T1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bp=r=>T1.test(r),b1=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),H0="remix-router-transitions",q0=Symbol("ResetLoaderData");function S1(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||b1,u={},c=Ou(r.routes,o,void 0,u),m,p=r.basename||"/";p.startsWith("/")||(p=`/${p}`);let g=r.dataStrategy||I1,v={...r.future},T=null,S=new Set,I=null,k=null,G=null,U=r.hydrationData!=null,Z=La(c,r.history.location,p),ee=!1,te=null,de;if(Z==null&&!r.patchRoutesOnNavigation){let x=Ir(404,{pathname:r.history.location.pathname}),{matches:q,route:X}=bh(c);de=!0,Z=q,te={[X.id]:x}}else if(Z&&!r.hydrationData&&Sn(Z,c,r.history.location.pathname).active&&(Z=null),Z)if(Z.some(x=>x.route.lazy))de=!1;else if(!Z.some(x=>Hp(x.route)))de=!0;else{let x=r.hydrationData?r.hydrationData.loaderData:null,q=r.hydrationData?r.hydrationData.errors:null;if(q){let X=Z.findIndex(le=>q[le.route.id]!==void 0);de=Z.slice(0,X+1).every(le=>!cp(le.route,x,q))}else de=Z.every(X=>!cp(X.route,x,q))}else{de=!1,Z=[];let x=Sn(null,c,r.history.location.pathname);x.active&&x.matches&&(ee=!0,Z=x.matches)}let me,H={historyAction:r.history.action,location:r.history.location,matches:Z,initialized:de,navigation:Km,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||te,fetchers:new Map,blockers:new Map},D="POP",A=!1,C,P=!1,M=new Map,j=null,N=!1,Ve=!1,it=new Set,Y=new Map,ue=0,ve=-1,Le=new Map,ke=new Set,V=new Map,re=new Map,ce=new Set,ge=new Map,Ne,Pe=null;function $e(){if(T=r.history.listen(({action:x,location:q,delta:X})=>{if(Ne){Ne(),Ne=void 0;return}Xt(ge.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=fs({currentLocation:H.location,nextLocation:q,historyAction:x});if(le&&X!=null){let he=new Promise(we=>{Ne=we});r.history.go(X*-1),Pr(le,{state:"blocked",location:q,proceed(){Pr(le,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),he.then(()=>r.history.go(X))},reset(){let we=new Map(H.blockers);we.set(le,hu),Rt({blockers:we})}});return}return cn(x,q)}),n){q1(e,M);let x=()=>F1(e,M);e.addEventListener("pagehide",x),j=()=>e.removeEventListener("pagehide",x)}return H.initialized||cn("POP",H.location,{initialHydration:!0}),me}function qt(){T&&T(),j&&j(),S.clear(),C&&C.abort(),H.fetchers.forEach((x,q)=>na(q)),H.blockers.forEach((x,q)=>hs(q))}function Et(x){return S.add(x),()=>S.delete(x)}function Rt(x,q={}){x.matches&&(x.matches=x.matches.map(he=>{let we=u[he.route.id],be=he.route;return be.element!==we.element||be.errorElement!==we.errorElement||be.hydrateFallbackElement!==we.hydrateFallbackElement?{...he,route:we}:he})),H={...H,...x};let X=[],le=[];H.fetchers.forEach((he,we)=>{he.state==="idle"&&(ce.has(we)?X.push(we):le.push(we))}),ce.forEach(he=>{!H.fetchers.has(he)&&!Y.has(he)&&X.push(he)}),[...S].forEach(he=>he(H,{deletedFetchers:X,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),X.forEach(he=>na(he)),le.forEach(he=>H.fetchers.delete(he))}function er(x,q,{flushSync:X}={}){let le=H.actionData!=null&&H.navigation.formMethod!=null&&Jn(H.navigation.formMethod)&&H.navigation.state==="loading"&&x.state?._isRedirect!==!0,he;q.actionData?Object.keys(q.actionData).length>0?he=q.actionData:he=null:le?he=H.actionData:he=null;let we=q.loaderData?qE(H.loaderData,q.loaderData,q.matches||[],q.errors):H.loaderData,be=H.blockers;be.size>0&&(be=new Map(be),be.forEach((pe,ye)=>be.set(ye,hu)));let Ae=N?!1:tr(x,q.matches||H.matches),Te=A===!0||H.navigation.formMethod!=null&&Jn(H.navigation.formMethod)&&x.state?._isRedirect!==!0;m&&(c=m,m=void 0),N||D==="POP"||(D==="PUSH"?r.history.push(x,x.state):D==="REPLACE"&&r.history.replace(x,x.state));let Ce;if(D==="POP"){let pe=M.get(H.location.pathname);pe&&pe.has(x.pathname)?Ce={currentLocation:H.location,nextLocation:x}:M.has(x.pathname)&&(Ce={currentLocation:x,nextLocation:H.location})}else if(P){let pe=M.get(H.location.pathname);pe?pe.add(x.pathname):(pe=new Set([x.pathname]),M.set(H.location.pathname,pe)),Ce={currentLocation:H.location,nextLocation:x}}Rt({...q,actionData:he,loaderData:we,historyAction:D,location:x,initialized:!0,navigation:Km,revalidation:"idle",restoreScrollPosition:Ae,preventScrollReset:Te,blockers:be},{viewTransitionOpts:Ce,flushSync:X===!0}),D="POP",A=!1,P=!1,N=!1,Ve=!1,Pe?.resolve(),Pe=null}async function wi(x,q){if(typeof x=="number"){r.history.go(x);return}let X=up(H.location,H.matches,p,x,q?.fromRouteId,q?.relative),{path:le,submission:he,error:we}=VE(!1,X,q),be=H.location,Ae=Nu(H.location,le,q&&q.state);Ae={...Ae,...r.history.encodeLocation(Ae)};let Te=q&&q.replace!=null?q.replace:void 0,Ce="PUSH";Te===!0?Ce="REPLACE":Te===!1||he!=null&&Jn(he.formMethod)&&he.formAction===H.location.pathname+H.location.search&&(Ce="REPLACE");let pe=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,ye=(q&&q.flushSync)===!0,ze=fs({currentLocation:be,nextLocation:Ae,historyAction:Ce});if(ze){Pr(ze,{state:"blocked",location:Ae,proceed(){Pr(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),wi(x,q)},reset(){let ot=new Map(H.blockers);ot.set(ze,hu),Rt({blockers:ot})}});return}await cn(Ce,Ae,{submission:he,pendingError:we,preventScrollReset:pe,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:ye})}function ea(){Pe||(Pe=G1()),Mr(),Rt({revalidation:"loading"});let x=Pe.promise;return H.navigation.state==="submitting"?x:H.navigation.state==="idle"?(cn(H.historyAction,H.location,{startUninterruptedRevalidation:!0}),x):(cn(D||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:P===!0}),x)}async function cn(x,q,X){C&&C.abort(),C=null,D=x,N=(X&&X.startUninterruptedRevalidation)===!0,mr(H.location,H.matches),A=(X&&X.preventScrollReset)===!0,P=(X&&X.enableViewTransition)===!0;let le=m||c,he=X&&X.overrideNavigation,we=X?.initialHydration&&H.matches&&H.matches.length>0&&!ee?H.matches:La(le,q,p),be=(X&&X.flushSync)===!0;if(we&&H.initialized&&!Ve&&L1(H.location,q)&&!(X&&X.submission&&Jn(X.submission.formMethod))){er(q,{matches:we},{flushSync:be});return}let Ae=Sn(we,le,q.pathname);if(Ae.active&&Ae.matches&&(we=Ae.matches),!we){let{error:Jt,notFoundMatches:mt,route:Xe}=Bn(q.pathname);er(q,{matches:mt,loaderData:{},errors:{[Xe.id]:Jt}},{flushSync:be});return}C=new AbortController;let Te=jo(r.history,q,C.signal,X&&X.submission),Ce=r.getContext?await r.getContext():new xE,pe;if(X&&X.pendingError)pe=[Ua(we).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&Jn(X.submission.formMethod)){let Jt=await us(Te,q,X.submission,we,Ce,Ae.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:be});if(Jt.shortCircuited)return;if(Jt.pendingActionResult){let[mt,Xe]=Jt.pendingActionResult;if(hr(Xe)&&xu(Xe.error)&&Xe.error.status===404){C=null,er(q,{matches:Jt.matches,loaderData:{},errors:{[mt]:Xe.error}});return}}we=Jt.matches||we,pe=Jt.pendingActionResult,he=Qm(q,X.submission),be=!1,Ae.active=!1,Te=jo(r.history,Te.url,Te.signal)}let{shortCircuited:ye,matches:ze,loaderData:ot,errors:Lt}=await Ai(Te,q,we,Ce,Ae.active,he,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,be,pe);ye||(C=null,er(q,{matches:ze||we,...FE(pe),loaderData:ot,errors:Lt}))}async function us(x,q,X,le,he,we,be,Ae={}){Mr();let Te=B1(q,X);if(Rt({navigation:Te},{flushSync:Ae.flushSync===!0}),we){let ye=await ra(le,q.pathname,x.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){if(ye.partialMatches.length===0){let{matches:ot,route:Lt}=bh(c);return{matches:ot,pendingActionResult:[Lt.id,{type:"error",error:ye.error}]}}let ze=Ua(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[ze,{type:"error",error:ye.error}]}}else if(ye.matches)le=ye.matches;else{let{notFoundMatches:ze,error:ot,route:Lt}=Bn(q.pathname);return{matches:ze,pendingActionResult:[Lt.id,{type:"error",error:ot}]}}}let Ce,pe=Ph(le,q);if(!pe.route.action&&!pe.route.lazy)Ce={type:"error",error:Ir(405,{method:x.method,pathname:q.pathname,routeId:pe.route.id})};else{let ye=Ko(o,u,x,le,pe,be?[]:a,he),ze=await Zr(x,ye,he,null);if(Ce=ze[pe.route.id],!Ce){for(let ot of le)if(ze[ot.route.id]){Ce=ze[ot.route.id];break}}if(x.signal.aborted)return{shortCircuited:!0}}if(ks(Ce)){let ye;return Ae&&Ae.replace!=null?ye=Ae.replace:ye=jE(Ce.response.headers.get("Location"),new URL(x.url),p)===H.location.pathname+H.location.search,await xr(x,Ce,!0,{submission:X,replace:ye}),{shortCircuited:!0}}if(hr(Ce)){let ye=Ua(le,pe.route.id);return(Ae&&Ae.replace)!==!0&&(D="PUSH"),{matches:le,pendingActionResult:[ye.route.id,Ce,pe.route.id]}}return{matches:le,pendingActionResult:[pe.route.id,Ce]}}async function Ai(x,q,X,le,he,we,be,Ae,Te,Ce,pe,ye){let ze=we||Qm(q,be),ot=be||Ae||KE(ze),Lt=!N&&!Ce;if(he){if(Lt){let Ut=ta(ye);Rt({navigation:ze,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:pe})}let je=await ra(X,q.pathname,x.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){if(je.partialMatches.length===0){let{matches:gr,route:rr}=bh(c);return{matches:gr,loaderData:{},errors:{[rr.id]:je.error}}}let Ut=Ua(je.partialMatches).route.id;return{matches:je.partialMatches,loaderData:{},errors:{[Ut]:je.error}}}else if(je.matches)X=je.matches;else{let{error:Ut,notFoundMatches:gr,route:rr}=Bn(q.pathname);return{matches:gr,loaderData:{},errors:{[rr.id]:Ut}}}}let Jt=m||c,{dsMatches:mt,revalidatingFetchers:Xe}=PE(x,le,o,u,r.history,H,X,ot,q,Ce?[]:a,Ce===!0,Ve,it,ce,V,ke,Jt,p,r.patchRoutesOnNavigation!=null,ye);if(ve=++ue,!r.dataStrategy&&!mt.some(je=>je.shouldLoad)&&!mt.some(je=>je.route.middleware&&je.route.middleware.length>0)&&Xe.length===0){let je=Wt();return er(q,{matches:X,loaderData:{},errors:ye&&hr(ye[1])?{[ye[0]]:ye[1].error}:null,...FE(ye),...je?{fetchers:new Map(H.fetchers)}:{}},{flushSync:pe}),{shortCircuited:!0}}if(Lt){let je={};if(!he){je.navigation=ze;let Ut=ta(ye);Ut!==void 0&&(je.actionData=Ut)}Xe.length>0&&(je.fetchers=cs(Xe)),Rt(je,{flushSync:pe})}Xe.forEach(je=>{zn(je.key),je.controller&&Y.set(je.key,je.controller)});let Hn=()=>Xe.forEach(je=>zn(je.key));C&&C.signal.addEventListener("abort",Hn);let{loaderResults:wn,fetcherResults:Gt}=await hn(mt,Xe,x,le);if(x.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Hn),Xe.forEach(je=>Y.delete(je.key));let Ct=Sh(wn);if(Ct)return await xr(x,Ct.result,!0,{replace:Te}),{shortCircuited:!0};if(Ct=Sh(Gt),Ct)return ke.add(Ct.key),await xr(x,Ct.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:qn,errors:Tt}=HE(H,X,wn,ye,Xe,Gt);Ce&&H.errors&&(Tt={...H.errors,...Tt});let nr=Wt(),ei=Vn(ve),Pn=nr||ei||Xe.length>0;return{matches:X,loaderData:qn,errors:Tt,...Pn?{fetchers:new Map(H.fetchers)}:{}}}function ta(x){if(x&&!hr(x[1]))return{[x[0]]:x[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function cs(x){return x.forEach(q=>{let X=H.fetchers.get(q.key),le=fu(void 0,X?X.data:void 0);H.fetchers.set(q.key,le)}),new Map(H.fetchers)}async function Pt(x,q,X,le){zn(x);let he=(le&&le.flushSync)===!0,we=m||c,be=up(H.location,H.matches,p,X,q,le?.relative),Ae=La(we,be,p),Te=Sn(Ae,we,be);if(Te.active&&Te.matches&&(Ae=Te.matches),!Ae){Mn(x,q,Ir(404,{pathname:be}),{flushSync:he});return}let{path:Ce,submission:pe,error:ye}=VE(!0,be,le);if(ye){Mn(x,q,ye,{flushSync:he});return}let ze=r.getContext?await r.getContext():new xE,ot=(le&&le.preventScrollReset)===!0;if(pe&&Jn(pe.formMethod)){await Ft(x,q,Ce,Ae,ze,Te.active,he,ot,pe);return}V.set(x,{routeId:q,path:Ce}),await Jr(x,q,Ce,Ae,ze,Te.active,he,ot,pe)}async function Ft(x,q,X,le,he,we,be,Ae,Te){Mr(),V.delete(x);let Ce=H.fetchers.get(x);xn(x,H1(Te,Ce),{flushSync:be});let pe=new AbortController,ye=jo(r.history,X,pe.signal,Te);if(we){let It=await ra(le,new URL(ye.url).pathname,ye.signal,x);if(It.type==="aborted")return;if(It.type==="error"){Mn(x,q,It.error,{flushSync:be});return}else if(It.matches)le=It.matches;else{Mn(x,q,Ir(404,{pathname:X}),{flushSync:be});return}}let ze=Ph(le,X);if(!ze.route.action&&!ze.route.lazy){let It=Ir(405,{method:Te.formMethod,pathname:X,routeId:q});Mn(x,q,It,{flushSync:be});return}Y.set(x,pe);let ot=ue,Lt=Ko(o,u,ye,le,ze,a,he),mt=(await Zr(ye,Lt,he,x))[ze.route.id];if(ye.signal.aborted){Y.get(x)===pe&&Y.delete(x);return}if(ce.has(x)){if(ks(mt)||hr(mt)){xn(x,Gi(void 0));return}}else{if(ks(mt))if(Y.delete(x),ve>ot){xn(x,Gi(void 0));return}else return ke.add(x),xn(x,fu(Te)),xr(ye,mt,!1,{fetcherSubmission:Te,preventScrollReset:Ae});if(hr(mt)){Mn(x,q,mt.error);return}}let Xe=H.navigation.location||H.location,Hn=jo(r.history,Xe,pe.signal),wn=m||c,Gt=H.navigation.state!=="idle"?La(wn,H.navigation.location,p):H.matches;Ke(Gt,"Didn't find any matches after fetcher action");let Ct=++ue;Le.set(x,Ct);let qn=fu(Te,mt.data);H.fetchers.set(x,qn);let{dsMatches:Tt,revalidatingFetchers:nr}=PE(Hn,he,o,u,r.history,H,Gt,Te,Xe,a,!1,Ve,it,ce,V,ke,wn,p,r.patchRoutesOnNavigation!=null,[ze.route.id,mt]);nr.filter(It=>It.key!==x).forEach(It=>{let Lr=It.key,An=H.fetchers.get(Lr),kt=fu(void 0,An?An.data:void 0);H.fetchers.set(Lr,kt),zn(Lr),It.controller&&Y.set(Lr,It.controller)}),Rt({fetchers:new Map(H.fetchers)});let ei=()=>nr.forEach(It=>zn(It.key));pe.signal.addEventListener("abort",ei);let{loaderResults:Pn,fetcherResults:je}=await hn(Tt,nr,Hn,he);if(pe.signal.aborted)return;if(pe.signal.removeEventListener("abort",ei),Le.delete(x),Y.delete(x),nr.forEach(It=>Y.delete(It.key)),H.fetchers.has(x)){let It=Gi(mt.data);H.fetchers.set(x,It)}let Ut=Sh(Pn);if(Ut)return xr(Hn,Ut.result,!1,{preventScrollReset:Ae});if(Ut=Sh(je),Ut)return ke.add(Ut.key),xr(Hn,Ut.result,!1,{preventScrollReset:Ae});let{loaderData:gr,errors:rr}=HE(H,Gt,Pn,void 0,nr,je);Vn(Ct),H.navigation.state==="loading"&&Ct>ve?(Ke(D,"Expected pending action"),C&&C.abort(),er(H.navigation.location,{matches:Gt,loaderData:gr,errors:rr,fetchers:new Map(H.fetchers)})):(Rt({errors:rr,loaderData:qE(H.loaderData,gr,Gt,rr),fetchers:new Map(H.fetchers)}),Ve=!1)}async function Jr(x,q,X,le,he,we,be,Ae,Te){let Ce=H.fetchers.get(x);xn(x,fu(Te,Ce?Ce.data:void 0),{flushSync:be});let pe=new AbortController,ye=jo(r.history,X,pe.signal);if(we){let Xe=await ra(le,new URL(ye.url).pathname,ye.signal,x);if(Xe.type==="aborted")return;if(Xe.type==="error"){Mn(x,q,Xe.error,{flushSync:be});return}else if(Xe.matches)le=Xe.matches;else{Mn(x,q,Ir(404,{pathname:X}),{flushSync:be});return}}let ze=Ph(le,X);Y.set(x,pe);let ot=ue,Lt=Ko(o,u,ye,le,ze,a,he),mt=(await Zr(ye,Lt,he,x))[ze.route.id];if(Y.get(x)===pe&&Y.delete(x),!ye.signal.aborted){if(ce.has(x)){xn(x,Gi(void 0));return}if(ks(mt))if(ve>ot){xn(x,Gi(void 0));return}else{ke.add(x),await xr(ye,mt,!1,{preventScrollReset:Ae});return}if(hr(mt)){Mn(x,q,mt.error);return}xn(x,Gi(mt.data))}}async function xr(x,q,X,{submission:le,fetcherSubmission:he,preventScrollReset:we,replace:be}={}){q.response.headers.has("X-Remix-Revalidate")&&(Ve=!0);let Ae=q.response.headers.get("Location");Ke(Ae,"Expected a Location header on the redirect Response"),Ae=jE(Ae,new URL(x.url),p);let Te=Nu(H.location,Ae,{_isRedirect:!0});if(n){let Lt=!1;if(q.response.headers.has("X-Remix-Reload-Document"))Lt=!0;else if(Bp(Ae)){const Jt=U0(Ae,!0);Lt=Jt.origin!==e.location.origin||Or(Jt.pathname,p)==null}if(Lt){be?e.location.replace(Ae):e.location.assign(Ae);return}}C=null;let Ce=be===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:pe,formAction:ye,formEncType:ze}=H.navigation;!le&&!he&&pe&&ye&&ze&&(le=KE(H.navigation));let ot=le||he;if(v1.has(q.response.status)&&ot&&Jn(ot.formMethod))await cn(Ce,Te,{submission:{...ot,formAction:Ae},preventScrollReset:we||A,enableViewTransition:X?P:void 0});else{let Lt=Qm(Te,le);await cn(Ce,Te,{overrideNavigation:Lt,fetcherSubmission:he,preventScrollReset:we||A,enableViewTransition:X?P:void 0})}}async function Zr(x,q,X,le){let he,we={};try{he=await N1(g,x,q,le,X,!1)}catch(be){return q.filter(Ae=>Ae.shouldLoad).forEach(Ae=>{we[Ae.route.id]={type:"error",error:be}}),we}if(x.signal.aborted)return we;for(let[be,Ae]of Object.entries(he))if(z1(Ae)){let Te=Ae.result;we[be]={type:"redirect",response:V1(Te,x,be,q,p)}}else we[be]=await M1(Ae);return we}async function hn(x,q,X,le){let he=Zr(X,x,le,null),we=Promise.all(q.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let pe=(await Zr(Te.request,Te.matches,le,Te.key))[Te.match.route.id];return{[Te.key]:pe}}else return Promise.resolve({[Te.key]:{type:"error",error:Ir(404,{pathname:Te.path})}})})),be=await he,Ae=(await we).reduce((Te,Ce)=>Object.assign(Te,Ce),{});return{loaderResults:be,fetcherResults:Ae}}function Mr(){Ve=!0,V.forEach((x,q)=>{Y.has(q)&&it.add(q),zn(q)})}function xn(x,q,X={}){H.fetchers.set(x,q),Rt({fetchers:new Map(H.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Mn(x,q,X,le={}){let he=Ua(H.matches,q);na(x),Rt({errors:{[he.route.id]:X},fetchers:new Map(H.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Vr(x){return re.set(x,(re.get(x)||0)+1),ce.has(x)&&ce.delete(x),H.fetchers.get(x)||E1}function gl(x,q){zn(x,q?.reason),xn(x,Gi(null))}function na(x){let q=H.fetchers.get(x);Y.has(x)&&!(q&&q.state==="loading"&&Le.has(x))&&zn(x),V.delete(x),Le.delete(x),ke.delete(x),ce.delete(x),it.delete(x),H.fetchers.delete(x)}function eo(x){let q=(re.get(x)||0)-1;q<=0?(re.delete(x),ce.add(x)):re.set(x,q),Rt({fetchers:new Map(H.fetchers)})}function zn(x,q){let X=Y.get(x);X&&(X.abort(q),Y.delete(x))}function jn(x){for(let q of x){let X=Vr(q),le=Gi(X.data);H.fetchers.set(q,le)}}function Wt(){let x=[],q=!1;for(let X of ke){let le=H.fetchers.get(X);Ke(le,`Expected fetcher: ${X}`),le.state==="loading"&&(ke.delete(X),x.push(X),q=!0)}return jn(x),q}function Vn(x){let q=[];for(let[X,le]of Le)if(le<x){let he=H.fetchers.get(X);Ke(he,`Expected fetcher: ${X}`),he.state==="loading"&&(zn(X),Le.delete(X),q.push(X))}return jn(q),q.length>0}function Ot(x,q){let X=H.blockers.get(x)||hu;return ge.get(x)!==q&&ge.set(x,q),X}function hs(x){H.blockers.delete(x),ge.delete(x)}function Pr(x,q){let X=H.blockers.get(x)||hu;Ke(X.state==="unblocked"&&q.state==="blocked"||X.state==="blocked"&&q.state==="blocked"||X.state==="blocked"&&q.state==="proceeding"||X.state==="blocked"&&q.state==="unblocked"||X.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${q.state}`);let le=new Map(H.blockers);le.set(x,q),Rt({blockers:le})}function fs({currentLocation:x,nextLocation:q,historyAction:X}){if(ge.size===0)return;ge.size>1&&Xt(!1,"A router only supports one blocker at a time");let le=Array.from(ge.entries()),[he,we]=le[le.length-1],be=H.blockers.get(he);if(!(be&&be.state==="proceeding")&&we({currentLocation:x,nextLocation:q,historyAction:X}))return he}function Bn(x){let q=Ir(404,{pathname:x}),X=m||c,{matches:le,route:he}=bh(X);return{notFoundMatches:le,route:he,error:q}}function Ri(x,q,X){if(I=x,G=q,k=X||null,!U&&H.navigation===Km){U=!0;let le=tr(H.location,H.matches);le!=null&&Rt({restoreScrollPosition:le})}return()=>{I=null,G=null,k=null}}function xt(x,q){return k&&k(x,q.map(le=>XR(le,H.loaderData)))||x.key}function mr(x,q){if(I&&G){let X=xt(x,q);I[X]=G()}}function tr(x,q){if(I){let X=xt(x,q),le=I[X];if(typeof le=="number")return le}return null}function Sn(x,q,X){if(r.patchRoutesOnNavigation)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:Vh(q,X,p,!0)}}else return{active:!0,matches:Vh(q,X,p,!0)||[]};return{active:!1,matches:null}}async function ra(x,q,X,le){if(!r.patchRoutesOnNavigation)return{type:"success",matches:x};let he=x;for(;;){let we=m==null,be=m||c,Ae=u;try{await r.patchRoutesOnNavigation({signal:X,path:q,matches:he,fetcherKey:le,patch:(pe,ye)=>{X.aborted||LE(pe,ye,be,Ae,o,!1)}})}catch(pe){return{type:"error",error:pe,partialMatches:he}}finally{we&&!X.aborted&&(c=[...c])}if(X.aborted)return{type:"aborted"};let Te=La(be,q,p);if(Te)return{type:"success",matches:Te};let Ce=Vh(be,q,p,!0);if(!Ce||he.length===Ce.length&&he.every((pe,ye)=>pe.route.id===Ce[ye].route.id))return{type:"success",matches:null};he=Ce}}function to(x){u={},m=Ou(x,o,void 0,u)}function pr(x,q,X=!1){let le=m==null;LE(x,q,m||c,u,o,X),le&&(c=[...c],Rt({}))}return me={get basename(){return p},get future(){return v},get state(){return H},get routes(){return c},get window(){return e},initialize:$e,subscribe:Et,enableScrollRestoration:Ri,navigate:wi,fetch:Pt,revalidate:ea,createHref:x=>r.history.createHref(x),encodeLocation:x=>r.history.encodeLocation(x),getFetcher:Vr,resetFetcher:gl,deleteFetcher:eo,dispose:qt,getBlocker:Ot,deleteBlocker:hs,patchRoutes:pr,_internalFetchControllers:Y,_internalSetRoutes:to,_internalSetStateDoNotUseOrYouWillBreakYourApp(x){Rt(x)}},me}function w1(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function up(r,e,n,a,o,u){let c,m;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){m=g;break}}else c=e,m=e[e.length-1];let p=vf(a||".",_f(c),Or(r.pathname,n)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=qp(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let v=new URLSearchParams(p.search),T=v.getAll("index");v.delete("index"),T.filter(I=>I).forEach(I=>v.append("index",I));let S=v.toString();p.search=S?`?${S}`:""}}return n!=="/"&&(p.pathname=u1({basename:n,pathname:p.pathname})),Xa(p)}function VE(r,e,n){if(!n||!w1(n))return{path:e};if(n.formMethod&&!j1(n.formMethod))return{path:e,error:Ir(405,{method:n.formMethod})};let a=()=>({path:e,error:Ir(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),c=$0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Jn(u))return a();let T=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[I,k])=>`${S}${I}=${k}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:T}}}else if(n.formEncType==="application/json"){if(!Jn(u))return a();try{let T=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:T,text:void 0}}}catch{return a()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=fp(n.formData),p=n.formData;else if(n.body instanceof FormData)m=fp(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=BE(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=BE(m)}catch{return a()}let g={formMethod:u,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Jn(g.formMethod))return{path:e,submission:g};let v=is(e);return r&&v.search&&qp(v.search)&&m.append("index",""),v.search=`?${m}`,{path:Xa(v),submission:g}}function PE(r,e,n,a,o,u,c,m,p,g,v,T,S,I,k,G,U,Z,ee,te){let de=te?hr(te[1])?te[1].error:te[1].data:void 0,me=o.createURL(u.location),H=o.createURL(p),D;if(v&&u.errors){let N=Object.keys(u.errors)[0];D=c.findIndex(Ve=>Ve.route.id===N)}else if(te&&hr(te[1])){let N=te[0];D=c.findIndex(Ve=>Ve.route.id===N)-1}let A=te?te[1].statusCode:void 0,C=A&&A>=400,P={currentUrl:me,currentParams:u.matches[0]?.params||{},nextUrl:H,nextParams:c[0].params,...m,actionResult:de,actionStatus:A},M=c.map((N,Ve)=>{let{route:it}=N,Y=null;if(D!=null&&Ve>D?Y=!1:it.lazy?Y=!0:Hp(it)?v?Y=cp(it,u.loaderData,u.errors):A1(u.loaderData,u.matches[Ve],N)&&(Y=!0):Y=!1,Y!==null)return hp(n,a,r,N,g,e,Y);let ue=C?!1:T||me.pathname+me.search===H.pathname+H.search||me.search!==H.search||R1(u.matches[Ve],N),ve={...P,defaultShouldRevalidate:ue},Le=Xh(N,ve);return hp(n,a,r,N,g,e,Le,ve)}),j=[];return k.forEach((N,Ve)=>{if(v||!c.some(re=>re.route.id===N.routeId)||I.has(Ve))return;let it=u.fetchers.get(Ve),Y=it&&it.state!=="idle"&&it.data===void 0,ue=La(U,N.path,Z);if(!ue){if(ee&&Y)return;j.push({key:Ve,routeId:N.routeId,path:N.path,matches:null,match:null,request:null,controller:null});return}if(G.has(Ve))return;let ve=Ph(ue,N.path),Le=new AbortController,ke=jo(o,N.path,Le.signal),V=null;if(S.has(Ve))S.delete(Ve),V=Ko(n,a,ke,ue,ve,g,e);else if(Y)T&&(V=Ko(n,a,ke,ue,ve,g,e));else{let re={...P,defaultShouldRevalidate:C?!1:T};Xh(ve,re)&&(V=Ko(n,a,ke,ue,ve,g,e,re))}V&&j.push({key:Ve,routeId:N.routeId,path:N.path,matches:V,match:ve,request:ke,controller:Le})}),{dsMatches:M,revalidatingFetchers:j}}function Hp(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function cp(r,e,n){if(r.lazy)return!0;if(!Hp(r))return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function A1(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function R1(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function Xh(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function LE(r,e,n,a,o,u){let c;if(r){let g=a[r];Ke(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),c=g.children}else c=n;let m=[],p=[];if(e.forEach(g=>{let v=c.find(T=>F0(g,T));v?p.push({existingRoute:v,newRoute:g}):m.push(g)}),m.length>0){let g=Ou(m,o,[r||"_","patch",String(c?.length||"0")],a);c.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:v,newRoute:T}=p[g],S=v,[I]=Ou([T],o,[],{},!0);Object.assign(S,{element:I.element?I.element:S.element,errorElement:I.errorElement?I.errorElement:S.errorElement,hydrateFallbackElement:I.hydrateFallbackElement?I.hydrateFallbackElement:S.hydrateFallbackElement})}}function F0(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>F0(n,o))):!1}var UE=new WeakMap,G0=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Ke(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let c=UE.get(o);c||(c={},UE.set(o,c));let m=c[r];if(m)return m;let p=(async()=>{let g=KR(r),T=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Xt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),c[r]=Promise.resolve();else if(T)Xt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let S=await u();S!=null&&(Object.assign(o,{[r]:S}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(S=>S===void 0)&&(o.lazy=void 0))})();return c[r]=p,p},kE=new WeakMap;function C1(r,e,n,a,o){let u=n[r.id];if(Ke(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=kE.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let T=(async()=>{Ke(typeof r.lazy=="function","No lazy route function found");let S=await r.lazy(),I={};for(let k in S){let G=S[k];if(G===void 0)continue;let U=YR(k),ee=u[k]!==void 0&&k!=="hasErrorBoundary";U?Xt(!U,"Route property "+k+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ee?Xt(!ee,`Route "${u.id}" has a static property "${k}" defined but its lazy function is also returning a value for this property. The lazy route property "${k}" will be ignored.`):I[k]=G}Object.assign(u,I),Object.assign(u,{...a(u),lazy:void 0})})();return kE.set(u,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let c=Object.keys(r.lazy),m=[],p;for(let v of c){if(o&&o.includes(v))continue;let T=G0({key:v,route:r,manifest:n,mapRouteProperties:a});T&&(m.push(T),v===e&&(p=T))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function zE(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function I1(r){return r.matches.some(e=>e.route.middleware)?K0(r,()=>zE(r)):zE(r)}function K0(r,e){return D1(r,e,a=>a,U1,n);function n(a,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:a}}));{let{matches:c}=r,m=Math.min(Math.max(c.findIndex(g=>g.route.id===o),0),Math.max(c.findIndex(g=>g.unstable_shouldCallHandler()),0)),p=Ua(c,c[m].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function D1(r,e,n,a,o){let{matches:u,request:c,params:m,context:p}=r,g=u.flatMap(T=>T.route.middleware?T.route.middleware.map(S=>[T.route.id,S]):[]);return await Q0({request:c,params:m,context:p},g,e,n,a,o)}async function Q0(r,e,n,a,o,u,c=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let p=e[c];if(!p)return await n();let[g,v]=p,T,S=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await Q0(r,e,n,a,o,u,c+1)},T.value}catch(I){return T={value:await u(I,g,T)},T.value}};try{let I=await v(r,S),k=I!=null?a(I):void 0;return o(k)?k:T?k??T.value:(T={value:await S()},T.value)}catch(I){return await u(I,g,T)}}function Y0(r,e,n,a,o){let u=G0({key:"middleware",route:a.route,manifest:e,mapRouteProperties:r}),c=C1(a.route,Jn(n.method)?"action":"loader",e,r,o);return{middleware:u,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function hp(r,e,n,a,o,u,c,m=null){let p=!1,g=Y0(r,e,n,a,o);return{...a,_lazyPromises:g,shouldLoad:c,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(v){return p=!0,m?typeof v=="boolean"?Xh(a,{...m,defaultShouldRevalidate:v}):Xh(a,m):c},resolve(v){let{lazy:T,loader:S,middleware:I}=a.route,k=p||c||v&&!Jn(n.method)&&(T||S),G=I&&I.length>0&&!S&&!T;return k&&!G?O1({request:n,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Ko(r,e,n,a,o,u,c,m=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:Y0(r,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:hp(r,e,n,p,u,c,!0,m))}async function N1(r,e,n,a,o,u){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let c={request:e,params:n[0].params,context:o,matches:n},p=await r({...c,fetcherKey:a,runClientMiddleware:g=>{let v=c;return K0(v,()=>g({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function O1({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let c,m,p=Jn(r.method),g=p?"action":"loader",v=T=>{let S,I=new Promise((U,Z)=>S=Z);m=()=>S(),r.signal.addEventListener("abort",m);let k=U=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):T({request:r,params:e.params,context:u},...U!==void 0?[U]:[]),G=(async()=>{try{return{type:"data",result:await(o?o(Z=>k(Z)):k())}}catch(U){return{type:"error",result:U}}})();return Promise.race([G,I])};try{let T=p?e.route.action:e.route.loader;if(n||a)if(T){let S,[I]=await Promise.all([v(T).catch(k=>{S=k}),n,a]);if(S!==void 0)throw S;c=I}else{await n;let S=p?e.route.action:e.route.loader;if(S)[c]=await Promise.all([v(S),a]);else if(g==="action"){let I=new URL(r.url),k=I.pathname+I.search;throw Ir(405,{method:r.method,pathname:k,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(T)c=await v(T);else{let S=new URL(r.url),I=S.pathname+S.search;throw Ir(404,{pathname:I})}}catch(T){return{type:"error",result:T}}finally{m&&r.signal.removeEventListener("abort",m)}return c}async function x1(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function M1(r){let{result:e,type:n}=r;if(X0(e)){let a;try{a=await x1(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new $h(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?GE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new $h(e.init?.status||500,void 0,e.data),statusCode:xu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:xu(e)?e.status:void 0}:GE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function V1(r,e,n,a,o){let u=r.headers.get("Location");if(Ke(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bp(u)){let c=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=up(new URL(e.url),c,o,u),r.headers.set("Location",u)}return r}function jE(r,e,n){if(Bp(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Or(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function jo(r,e,n,a){let o=r.createURL($0(e)).toString(),u={signal:n};if(a&&Jn(a.formMethod)){let{formMethod:c,formEncType:m}=a;u.method=c.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=fp(a.formData):u.body=a.formData}return new Request(o,u)}function fp(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function BE(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function P1(r,e,n,a=!1,o=!1){let u={},c=null,m,p=!1,g={},v=n&&hr(n[1])?n[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let S=T.route.id,I=e[S];if(Ke(!ks(I),"Cannot handle redirect results in processLoaderData"),hr(I)){let k=I.error;if(v!==void 0&&(k=v,v=void 0),c=c||{},o)c[S]=k;else{let G=Ua(r,S);c[G.route.id]==null&&(c[G.route.id]=k)}a||(u[S]=q0),p||(p=!0,m=xu(I.error)?I.error.status:500),I.headers&&(g[S]=I.headers)}else u[S]=I.data,I.statusCode&&I.statusCode!==200&&!p&&(m=I.statusCode),I.headers&&(g[S]=I.headers)}),v!==void 0&&n&&(c={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:c,statusCode:m||200,loaderHeaders:g}}function HE(r,e,n,a,o,u){let{loaderData:c,errors:m}=P1(e,n,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:T}=p;if(T&&T.signal.aborted)return;let S=u[g];if(Ke(S,"Did not find corresponding fetcher result"),hr(S)){let I=Ua(r.matches,v?.route.id);m&&m[I.route.id]||(m={...m,[I.route.id]:S.error}),r.fetchers.delete(g)}else if(ks(S))Ke(!1,"Unhandled fetcher revalidation redirect");else{let I=Gi(S.data);r.fetchers.set(g,I)}}),{loaderData:c,errors:m}}function qE(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==q0).reduce((u,[c,m])=>(u[c]=m,u),{});for(let u of n){let c=u.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&u.route.loader&&(o[c]=r[c]),a&&a.hasOwnProperty(c))break}return o}function FE(r){return r?hr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ua(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function bh(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ir(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let c="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(c="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(c="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(c="Not Found",m=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new $h(r||500,c,new Error(m),!0)}function Sh(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ks(o))return{key:a,result:o}}}function $0(r){let e=typeof r=="string"?is(r):r;return Xa({...e,hash:""})}function L1(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function U1(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,n])=>typeof e=="string"&&k1(n))}function k1(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function z1(r){return X0(r.result)&&_1.has(r.result.status)}function hr(r){return r.type==="error"}function ks(r){return(r&&r.type)==="redirect"}function GE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function X0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function j1(r){return y1.has(r.toUpperCase())}function Jn(r){return p1.has(r.toUpperCase())}function qp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Ph(r,e){let n=typeof e=="string"?is(e).search:e.search;if(r[r.length-1].route.index&&qp(n||""))return r[r.length-1];let a=j0(r);return a[a.length-1]}function KE(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:c}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:c,text:void 0}}}function Qm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function B1(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function fu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function H1(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Gi(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function q1(r,e){try{let n=r.sessionStorage.getItem(H0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function F1(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(H0,JSON.stringify(n))}catch(a){Xt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function G1(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ys=z.createContext(null);Ys.displayName="DataRouter";var Hu=z.createContext(null);Hu.displayName="DataRouterState";z.createContext(!1);var Fp=z.createContext({isTransitioning:!1});Fp.displayName="ViewTransition";var W0=z.createContext(new Map);W0.displayName="Fetchers";var K1=z.createContext(null);K1.displayName="Await";var Xr=z.createContext(null);Xr.displayName="Navigation";var Ef=z.createContext(null);Ef.displayName="Location";var Wr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Gp=z.createContext(null);Gp.displayName="RouteError";function Q1(r,{relative:e}={}){Ke(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(Xr),{hash:o,pathname:u,search:c}=qu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mi([n,u])),a.createHref({pathname:m,search:c,hash:o})}function ol(){return z.useContext(Ef)!=null}function Ji(){return Ke(ol(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Ef).location}var J0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z0(r){z.useContext(Xr).static||z.useLayoutEffect(r)}function Kp(){let{isDataRoute:r}=z.useContext(Wr);return r?lC():Y1()}function Y1(){Ke(ol(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Ys),{basename:e,navigator:n}=z.useContext(Xr),{matches:a}=z.useContext(Wr),{pathname:o}=Ji(),u=JSON.stringify(_f(a)),c=z.useRef(!1);return Z0(()=>{c.current=!0}),z.useCallback((p,g={})=>{if(Xt(c.current,J0),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=vf(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}var $1=z.createContext(null);function X1(r){let e=z.useContext(Wr).outlet;return z.useMemo(()=>e&&z.createElement($1.Provider,{value:r},e),[e,r])}function qu(r,{relative:e}={}){let{matches:n}=z.useContext(Wr),{pathname:a}=Ji(),o=JSON.stringify(_f(n));return z.useMemo(()=>vf(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function W1(r,e,n,a,o){Ke(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(Xr),{matches:c}=z.useContext(Wr),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let ee=T&&T.path||"";eb(g,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let S=Ji(),I;I=S;let k=I.pathname||"/",G=k;if(v!=="/"){let ee=v.replace(/^\//,"").split("/");G="/"+k.replace(/^\//,"").split("/").slice(ee.length).join("/")}let U=La(r,{pathname:G});return Xt(T||U!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Xt(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nC(U&&U.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:mi([v,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?v:mi([v,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),c,n,a,o)}function J1(){let r=oC(),e=xu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,c)}var Z1=z.createElement(J1,null),eC=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(Wr.Provider,{value:this.props.routeContext},z.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tC({routeContext:r,match:e,children:n}){let a=z.useContext(Ys);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Wr.Provider,{value:r},n)}function nC(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,c=n?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Ke(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:S}=n,I=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||I){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let S,I=!1,k=null,G=null;n&&(S=c&&v.route.id?c[v.route.id]:void 0,k=v.route.errorElement||Z1,m&&(p<0&&T===0?(eb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,G=null):p===T&&(I=!0,G=v.route.hydrateFallbackElement||null)));let U=e.concat(u.slice(0,T+1)),Z=()=>{let ee;return S?ee=k:I?ee=G:v.route.Component?ee=z.createElement(v.route.Component,null):v.route.element?ee=v.route.element:ee=g,z.createElement(tC,{match:v,routeContext:{outlet:g,matches:U,isDataRoute:n!=null},children:ee})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?z.createElement(eC,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:Z(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:a}):Z()},null)}function Qp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rC(r){let e=z.useContext(Ys);return Ke(e,Qp(r)),e}function iC(r){let e=z.useContext(Hu);return Ke(e,Qp(r)),e}function aC(r){let e=z.useContext(Wr);return Ke(e,Qp(r)),e}function Yp(r){let e=aC(r),n=e.matches[e.matches.length-1];return Ke(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function sC(){return Yp("useRouteId")}function oC(){let r=z.useContext(Gp),e=iC("useRouteError"),n=Yp("useRouteError");return r!==void 0?r:e.errors?.[n]}function lC(){let{router:r}=rC("useNavigate"),e=Yp("useNavigate"),n=z.useRef(!1);return Z0(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Xt(n.current,J0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var QE={};function eb(r,e,n){!e&&!QE[r]&&(QE[r]=!0,Xt(!1,n))}var YE={};function $E(r,e){!r&&!YE[e]&&(YE[e]=!0,console.warn(e))}function uC(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Xt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Xt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Xt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var cC=["HydrateFallback","hydrateFallbackElement"],hC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function fC({router:r,flushSync:e,unstable_onError:n}){let[a,o]=z.useState(r.state),[u,c]=z.useState(),[m,p]=z.useState({isTransitioning:!1}),[g,v]=z.useState(),[T,S]=z.useState(),[I,k]=z.useState(),G=z.useRef(new Map),U=z.useCallback(me=>{o(H=>(me.errors&&n&&Object.entries(me.errors).forEach(([D,A])=>{H.errors?.[D]!==A&&n(A)}),me))},[n]),Z=z.useCallback((me,{deletedFetchers:H,flushSync:D,viewTransitionOpts:A})=>{me.fetchers.forEach((P,M)=>{P.data!==void 0&&G.current.set(M,P.data)}),H.forEach(P=>G.current.delete(P)),$E(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if($E(A==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!C){e&&D?e(()=>U(me)):z.startTransition(()=>U(me));return}if(e&&D){e(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let P=r.window.document.startViewTransition(()=>{e(()=>U(me))});P.finished.finally(()=>{e(()=>{v(void 0),S(void 0),c(void 0),p({isTransitioning:!1})})}),e(()=>S(P));return}T?(g&&g.resolve(),T.skipTransition(),k({state:me,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(c(me),p({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[r.window,e,T,g,U]);z.useLayoutEffect(()=>r.subscribe(Z),[r,Z]),z.useEffect(()=>{m.isTransitioning&&!m.flushSync&&v(new hC)},[m]),z.useEffect(()=>{if(g&&u&&r.window){let me=u,H=g.promise,D=r.window.document.startViewTransition(async()=>{z.startTransition(()=>U(me)),await H});D.finished.finally(()=>{v(void 0),S(void 0),c(void 0),p({isTransitioning:!1})}),S(D)}},[u,g,r.window,U]),z.useEffect(()=>{g&&u&&a.location.key===u.location.key&&g.resolve()},[g,T,a.location,u]),z.useEffect(()=>{!m.isTransitioning&&I&&(c(I.state),p({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),k(void 0))},[m.isTransitioning,I]);let ee=z.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:me=>r.navigate(me),push:(me,H,D)=>r.navigate(me,{state:H,preventScrollReset:D?.preventScrollReset}),replace:(me,H,D)=>r.navigate(me,{replace:!0,state:H,preventScrollReset:D?.preventScrollReset})}),[r]),te=r.basename||"/",de=z.useMemo(()=>({router:r,navigator:ee,static:!1,basename:te,unstable_onError:n}),[r,ee,te,n]);return z.createElement(z.Fragment,null,z.createElement(Ys.Provider,{value:de},z.createElement(Hu.Provider,{value:a},z.createElement(W0.Provider,{value:G.current},z.createElement(Fp.Provider,{value:m},z.createElement(gC,{basename:te,location:a.location,navigationType:a.historyAction,navigator:ee},z.createElement(dC,{routes:r.routes,future:r.future,state:a,unstable_onError:n})))))),null)}var dC=z.memo(mC);function mC({routes:r,future:e,state:n,unstable_onError:a}){return W1(r,void 0,n,a,e)}function Wh({to:r,replace:e,state:n,relative:a}){Ke(ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Xr);Xt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Wr),{pathname:c}=Ji(),m=Kp(),p=vf(r,_f(u),c,a==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function pC(r){return X1(r.context)}function gC({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Ke(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=is(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:S="default"}=n,I=z.useMemo(()=>{let k=Or(p,c);return k==null?null:{location:{pathname:k,search:g,hash:v,state:T,key:S},navigationType:a}},[c,p,g,v,T,S,a]);return Xt(I!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:z.createElement(Xr.Provider,{value:m},z.createElement(Ef.Provider,{children:e,value:I}))}var Lh="get",Uh="application/x-www-form-urlencoded";function Tf(r){return r!=null&&typeof r.tagName=="string"}function yC(r){return Tf(r)&&r.tagName.toLowerCase()==="button"}function _C(r){return Tf(r)&&r.tagName.toLowerCase()==="form"}function vC(r){return Tf(r)&&r.tagName.toLowerCase()==="input"}function EC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function TC(r,e){return r.button===0&&(!e||e==="_self")&&!EC(r)}var wh=null;function bC(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var SC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(r){return r!=null&&!SC.has(r)?(Xt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):r}function wC(r,e){let n,a,o,u,c;if(_C(r)){let m=r.getAttribute("action");a=m?Or(m,e):null,n=r.getAttribute("method")||Lh,o=Ym(r.getAttribute("enctype"))||Uh,u=new FormData(r)}else if(yC(r)||vC(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Or(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Lh,o=Ym(r.getAttribute("formenctype"))||Ym(m.getAttribute("enctype"))||Uh,u=new FormData(m,r),!bC()){let{name:g,type:v,value:T}=r;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Tf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,a=null,o=Uh,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $p(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function AC(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Or(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function RC(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function IC(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await RC(u,n);return c.links?c.links():[]}return[]}));return xC(a.flat(1).filter(CC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function XE(r,e,n,a,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function DC(r,e,{includeHydrateFallback:n}={}){return NC(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NC(r){return[...new Set(r)]}function OC(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function xC(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(OC(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function tb(){let r=z.useContext(Ys);return $p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function MC(){let r=z.useContext(Hu);return $p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xp=z.createContext(void 0);Xp.displayName="FrameworkContext";function nb(){let r=z.useContext(Xp);return $p(r,"You must render this element inside a <HydratedRouter> element"),r}function VC(r,e){let n=z.useContext(Xp),[a,o]=z.useState(!1),[u,c]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=z.useRef(null);z.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let G=Z=>{Z.forEach(ee=>{c(ee.isIntersecting)})},U=new IntersectionObserver(G,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[r]),z.useEffect(()=>{if(a){let G=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(G)}}},[a]);let I=()=>{o(!0)},k=()=>{o(!1),c(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:du(m,I),onBlur:du(p,k),onMouseEnter:du(g,I),onMouseLeave:du(v,k),onTouchStart:du(T,I)}]:[!1,S,{}]}function du(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function PC({page:r,...e}){let{router:n}=tb(),a=z.useMemo(()=>La(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?z.createElement(UC,{page:r,matches:a,...e}):null}function LC(r){let{manifest:e,routeModules:n}=nb(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return IC(r,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[r,e,n]),a}function UC({page:r,matches:e,...n}){let a=Ji(),{manifest:o,routeModules:u}=nb(),{basename:c}=tb(),{loaderData:m,matches:p}=MC(),g=z.useMemo(()=>XE(r,e,p,o,a,"data"),[r,e,p,o,a]),v=z.useMemo(()=>XE(r,e,p,o,a,"assets"),[r,e,p,o,a]),T=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let k=new Set,G=!1;if(e.forEach(Z=>{let ee=o.routes[Z.route.id];!ee||!ee.hasLoader||(!g.some(te=>te.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||ee.hasClientLoader?G=!0:k.add(Z.route.id))}),k.size===0)return[];let U=AC(r,c,"data");return G&&k.size>0&&U.searchParams.set("_routes",e.filter(Z=>k.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[U.pathname+U.search]},[c,m,a,o,g,e,r,u]),S=z.useMemo(()=>DC(v,o),[v,o]),I=LC(v);return z.createElement(z.Fragment,null,T.map(k=>z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>z.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),I.map(({key:k,link:G})=>z.createElement("link",{key:k,nonce:n.nonce,...G})))}function kC(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rb&&(window.__reactRouterVersion="7.9.4")}catch{}function zC(r,e){return S1({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:HR({window:e?.window}),hydrationData:jC(),routes:r,mapRouteProperties:uC,hydrationRouteProperties:cC,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function jC(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:BC(r.errors)}),r}function BC(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new $h(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let c=new u(o.message);c.stack="",n[a]=c}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wp=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...S},I){let{basename:k}=z.useContext(Xr),G=typeof g=="string"&&ib.test(g),U,Z=!1;if(typeof g=="string"&&G&&(U=g,rb))try{let C=new URL(window.location.href),P=g.startsWith("//")?new URL(C.protocol+g):new URL(g),M=Or(P.pathname,k);P.origin===C.origin&&M!=null?g=M+P.search+P.hash:Z=!0}catch{Xt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=Q1(g,{relative:o}),[te,de,me]=VC(a,S),H=GC(g,{replace:c,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function D(C){e&&e(C),C.defaultPrevented||H(C)}let A=z.createElement("a",{...S,...me,href:U||ee,onClick:Z||u?e:D,ref:kC(I,de),target:p,"data-discover":!G&&n==="render"?"true":void 0});return te&&!G?z.createElement(z.Fragment,null,A,z.createElement(PC,{page:ee})):A});Wp.displayName="Link";var HC=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},v){let T=qu(c,{relative:g.relative}),S=Ji(),I=z.useContext(Hu),{navigator:k,basename:G}=z.useContext(Xr),U=I!=null&&XC(T)&&m===!0,Z=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,ee=S.pathname,te=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),te=te?te.toLowerCase():null,Z=Z.toLowerCase()),te&&G&&(te=Or(te,G)||te);const de=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let me=ee===Z||!o&&ee.startsWith(Z)&&ee.charAt(de)==="/",H=te!=null&&(te===Z||!o&&te.startsWith(Z)&&te.charAt(Z.length)==="/"),D={isActive:me,isPending:H,isTransitioning:U},A=me?e:void 0,C;typeof a=="function"?C=a(D):C=[a,me?"active":null,H?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(D):u;return z.createElement(Wp,{...g,"aria-current":A,className:C,ref:v,style:P,to:c,viewTransition:m},typeof p=="function"?p(D):p)});HC.displayName="NavLink";var qC=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:c=Lh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...S},I)=>{let k=YC(),G=$C(m,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&ib.test(m),ee=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let de=te.nativeEvent.submitter,me=de?.getAttribute("formmethod")||c;k(de||te.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return z.createElement("form",{ref:I,method:U,action:G,onSubmit:a?p:ee,...S,"data-discover":!Z&&r==="render"?"true":void 0})});qC.displayName="Form";function FC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(r){let e=z.useContext(Ys);return Ke(e,FC(r)),e}function GC(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=Kp(),p=Ji(),g=qu(r,{relative:u});return z.useCallback(v=>{if(TC(v,e)){v.preventDefault();let T=n!==void 0?n:Xa(p)===Xa(g);m(r,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:c})}},[p,m,g,n,a,e,r,o,u,c])}var KC=0,QC=()=>`__${String(++KC)}__`;function YC(){let{router:r}=ab("useSubmit"),{basename:e}=z.useContext(Xr),n=sC();return z.useCallback(async(a,o={})=>{let{action:u,method:c,encType:m,formData:p,body:g}=wC(a,e);if(o.navigate===!1){let v=o.fetcherKey||QC();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function $C(r,{relative:e}={}){let{basename:n}=z.useContext(Xr),a=z.useContext(Wr);Ke(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...qu(r||".",{relative:e})},c=Ji();if(r==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mi([n,u.pathname])),Xa(u)}function XC(r,{relative:e}={}){let n=z.useContext(Fp);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ab("useViewTransitionState"),o=qu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Or(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Or(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Yh(o.pathname,c)!=null||Yh(o.pathname,u)!=null}var WC=P0();function JC(r){return z.createElement(fC,{flushSync:WC.flushSync,...r})}const ZC=()=>{};var WE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},eI=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],c=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],c=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,m=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(S=64)),a.push(n[v],n[T],n[S],n[I])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):eI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new tI;const S=u<<2|m>>4;if(a.push(S),g!==64){const I=m<<4&240|g>>2;if(a.push(I),T!==64){const k=g<<6&192|T;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nI=function(r){const e=sb(r);return ob.encodeByteArray(e,!0)},Jh=function(r){return nI(r).replace(/\./g,"")},lb=function(r){try{return ob.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=()=>rI().__FIREBASE_DEFAULTS__,aI=()=>{if(typeof process>"u"||typeof WE>"u")return;const r=WE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lb(r[1]);return e&&JSON.parse(e)},bf=()=>{try{return ZC()||iI()||aI()||sI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ub=r=>bf()?.emulatorHosts?.[r],cb=r=>{const e=ub(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},hb=()=>bf()?.config,fb=r=>bf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jh(JSON.stringify(n)),Jh(JSON.stringify(c)),""].join(".")}const bu={};function lI(){const r={prod:[],emulator:[]};for(const e of Object.keys(bu))bu[e]?r.emulator.push(e):r.prod.push(e);return r}function uI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let JE=!1;function Zp(r,e){if(typeof window>"u"||typeof document>"u"||!as(window.location.host)||bu[r]===e||bu[r]||JE)return;bu[r]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=lI().prod.length>0;function c(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{JE=!0,c()},S}function v(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=uI(a),I=n("text"),k=document.getElementById(I)||document.createElement("span"),G=n("learnmore"),U=document.getElementById(G)||document.createElement("a"),Z=n("preprendIcon"),ee=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const te=S.element;m(te),v(U,G);const de=g();p(ee,Z),te.append(ee,k,U,de),document.body.appendChild(te)}u?(k.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function hI(){const r=bf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pI(){const r=Nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gI(){return!hI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="FirebaseError";class Si extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=vI,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?EI(u,a):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Si(o,m,a)}}function EI(r,e){return r.replace(TI,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const TI=/\{\$([^}]+)}/g;function bI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],c=e[o];if(ZE(u)&&ZE(c)){if(!Bs(u,c))return!1}else if(u!==c)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function ZE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function _u(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function SI(r,e){const n=new wI(r,e);return n.subscribe.bind(n)}class wI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");AI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=$m),o.error===void 0&&(o.error=$m),o.complete===void 0&&(o.complete=$m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function $m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r){return r&&r._delegate?r._delegate:r}class Wa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new oI;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(II(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&c.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CI(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CI(r){return r===Us?void 0:r}function II(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const NI={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},OI=Ze.INFO,xI={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},MI=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=xI[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eg{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=MI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const VI=(r,e)=>e.some(n=>r instanceof n);let eT,tT;function PI(){return eT||(eT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LI(){return tT||(tT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mb=new WeakMap,dp=new WeakMap,pb=new WeakMap,Xm=new WeakMap,tg=new WeakMap;function UI(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{n(Fa(r.result)),o()},c=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&mb.set(n,r)}).catch(()=>{}),tg.set(e,r),e}function kI(r){if(dp.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});dp.set(r,e)}let mp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||pb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zI(r){mp=r(mp)}function jI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Wm(this),e,...n);return pb.set(a,e.sort?e.sort():[e]),Fa(a)}:LI().includes(r)?function(...e){return r.apply(Wm(this),e),Fa(mb.get(this))}:function(...e){return Fa(r.apply(Wm(this),e))}}function BI(r){return typeof r=="function"?jI(r):(r instanceof IDBTransaction&&kI(r),VI(r,PI())?new Proxy(r,mp):r)}function Fa(r){if(r instanceof IDBRequest)return UI(r);if(Xm.has(r))return Xm.get(r);const e=BI(r);return e!==r&&(Xm.set(r,e),tg.set(e,r)),e}const Wm=r=>tg.get(r);function HI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const c=indexedDB.open(r,e),m=Fa(c);return a&&c.addEventListener("upgradeneeded",p=>{a(Fa(c.result),p.oldVersion,p.newVersion,Fa(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qI=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],Jm=new Map;function nT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=FI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||qI.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Jm.set(e,u),u}zI(r=>({...r,get:(e,n,a)=>nT(e,n)||r.get(e,n,a),has:(e,n)=>!!nT(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function KI(r){return r.getComponent()?.type==="VERSION"}const pp="@firebase/app",rT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new eg("@firebase/app"),QI="@firebase/app-compat",YI="@firebase/analytics-compat",$I="@firebase/analytics",XI="@firebase/app-check-compat",WI="@firebase/app-check",JI="@firebase/auth",ZI="@firebase/auth-compat",eD="@firebase/database",tD="@firebase/data-connect",nD="@firebase/database-compat",rD="@firebase/functions",iD="@firebase/functions-compat",aD="@firebase/installations",sD="@firebase/installations-compat",oD="@firebase/messaging",lD="@firebase/messaging-compat",uD="@firebase/performance",cD="@firebase/performance-compat",hD="@firebase/remote-config",fD="@firebase/remote-config-compat",dD="@firebase/storage",mD="@firebase/storage-compat",pD="@firebase/firestore",gD="@firebase/ai",yD="@firebase/firestore-compat",_D="firebase",vD="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",ED={[pp]:"fire-core",[QI]:"fire-core-compat",[$I]:"fire-analytics",[YI]:"fire-analytics-compat",[WI]:"fire-app-check",[XI]:"fire-app-check-compat",[JI]:"fire-auth",[ZI]:"fire-auth-compat",[eD]:"fire-rtdb",[tD]:"fire-data-connect",[nD]:"fire-rtdb-compat",[rD]:"fire-fn",[iD]:"fire-fn-compat",[aD]:"fire-iid",[sD]:"fire-iid-compat",[oD]:"fire-fcm",[lD]:"fire-fcm-compat",[uD]:"fire-perf",[cD]:"fire-perf-compat",[hD]:"fire-rc",[fD]:"fire-rc-compat",[dD]:"fire-gcs",[mD]:"fire-gcs-compat",[pD]:"fire-fst",[yD]:"fire-fst-compat",[gD]:"fire-vertex","fire-js":"fire-js",[_D]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,TD=new Map,yp=new Map;function iT(r,e){try{r.container.addComponent(e)}catch(n){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Hs(r){const e=r.name;if(yp.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,r);for(const n of Zh.values())iT(n,r);for(const n of TD.values())iT(n,r);return!0}function Sf(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Dr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ga=new Fu("app","Firebase",bD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=vD;function gb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:gp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ga.create("bad-app-name",{appName:String(o)});if(n||(n=hb()),!n)throw Ga.create("no-options");const u=Zh.get(o);if(u){if(Bs(n,u.options)&&Bs(a,u.config))return u;throw Ga.create("duplicate-app",{appName:o})}const c=new DI(o);for(const p of yp.values())c.addComponent(p);const m=new SD(n,a,c);return Zh.set(o,m),m}function ng(r=gp){const e=Zh.get(r);if(!e&&r===gp&&hb())return gb();if(!e)throw Ga.create("no-app",{appName:r});return e}function pi(r,e,n){let a=ED[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(c.join(" "));return}Hs(new Wa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="firebase-heartbeat-database",AD=1,Mu="firebase-heartbeat-store";let Zm=null;function yb(){return Zm||(Zm=HI(wD,AD,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ga.create("idb-open",{originalErrorMessage:r.message})})),Zm}async function RD(r){try{const n=(await yb()).transaction(Mu),a=await n.objectStore(Mu).get(_b(r));return await n.done,a}catch(e){if(e instanceof Si)Yi.warn(e.message);else{const n=Ga.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(n.message)}}}async function aT(r,e){try{const a=(await yb()).transaction(Mu,"readwrite");await a.objectStore(Mu).put(e,_b(r)),await a.done}catch(n){if(n instanceof Si)Yi.warn(n.message);else{const a=Ga.create("idb-set",{originalErrorMessage:n?.message});Yi.warn(a.message)}}}function _b(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1024,ID=30;class DD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OD(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>ID){const o=xD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sT(),{heartbeatsToSend:n,unsentEntries:a}=ND(this._heartbeatsCache.heartbeats),o=Jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Yi.warn(e),""}}}function sT(){return new Date().toISOString().substring(0,10)}function ND(r,e=CD){const n=[];let a=r.slice();for(const o of r){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),oT(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oT(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class OD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function oT(r){return Jh(JSON.stringify({version:2,heartbeats:r})).length}function xD(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(r){Hs(new Wa("platform-logger",e=>new GI(e),"PRIVATE")),Hs(new Wa("heartbeat",e=>new DD(e),"PRIVATE")),pi(pp,rT,r),pi(pp,rT,"esm2020"),pi("fire-js","")}MD("");function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VD=vb,Eb=new Fu("auth","Firebase",vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new eg("@firebase/auth");function PD(r,...e){ef.logLevel<=Ze.WARN&&ef.warn(`Auth (${$s}): ${r}`,...e)}function kh(r,...e){ef.logLevel<=Ze.ERROR&&ef.error(`Auth (${$s}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(r,...e){throw rg(r,...e)}function gi(r,...e){return rg(r,...e)}function Tb(r,e,n){const a={...VD(),[e]:n};return new Fu("auth","Firebase",a).create(e,{appName:r.name})}function Ka(r){return Tb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Eb.create(r,...e)}function xe(r,e,...n){if(!r)throw rg(e,...n)}function Ki(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kh(e),new Error(e)}function $i(r,e){r||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){return typeof self<"u"&&self.location?.href||""}function LD(){return lT()==="http:"||lT()==="https:"}function lT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LD()||dI()||"connection"in navigator)?navigator.onLine:!0}function kD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=cI()||mI()}get(){return UD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,e){$i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BD=new Ku(3e4,6e4);function Xs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Zi(r,e,n,a,o={}){return Sb(r,o,async()=>{let u={},c={};a&&(e==="GET"?c=a:u={body:JSON.stringify(a)});const m=Gu({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return fI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&as(r.emulatorConfig.host)&&(g.credentials="include"),bb.fetch()(await wb(r,r.config.apiHost,n,m),g)})}async function Sb(r,e,n){r._canInitEmulator=!1;const a={...zD,...e};try{const o=new qD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ah(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ah(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ah(r,"user-disabled",c);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Tb(r,v,g);Yr(r,v)}}catch(o){if(o instanceof Si)throw o;Yr(r,"network-request-failed",{message:String(o)})}}async function wf(r,e,n,a,o={}){const u=await Zi(r,e,n,a,o);return"mfaPendingCredential"in u&&Yr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function wb(r,e,n,a){const o=`${e}${n}?${a}`,u=r,c=u.config.emulator?ig(r.config,o):`${r.config.apiScheme}://${o}`;return jD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function HD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(gi(this.auth,"network-request-failed")),BD.get())})}}function Ah(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=gi(r,e,a);return o.customData._tokenResponse=n,o}function uT(r){return r!==void 0&&r.enterprise!==void 0}class FD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GD(r,e){return Zi(r,"GET","/v2/recaptchaConfig",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(r,e){return Zi(r,"POST","/v1/accounts:delete",e)}async function tf(r,e){return Zi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QD(r,e=!1){const n=Mt(r),a=await n.getIdToken(e),o=ag(a);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:a,authTime:Su(ep(o.auth_time)),issuedAtTime:Su(ep(o.iat)),expirationTime:Su(ep(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ep(r){return Number(r)*1e3}function ag(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=lb(n);return o?JSON.parse(o):(kh("Failed to decode base64 JWT payload"),null)}catch(o){return kh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cT(r){const e=ag(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Si&&YD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function YD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(r){const e=r.auth,n=await r.getIdToken(),a=await Zo(r,tf(e,{idToken:n}));xe(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Ab(o.providerUserInfo):[],c=WD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function XD(r){const e=Mt(r);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WD(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Ab(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(r,e){const n=await Sb(r,{},async()=>{const a=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await wb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&as(r.emulatorConfig.host)&&(p.credentials="include"),bb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZD(r,e){return Zi(r,"POST","/v2/accounts:revokeToken",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=cT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await JD(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,c=new Qo;return a&&(xe(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new $D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QD(this,e)}reload(){return XD(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Ka(this.auth));const e=await this.getIdToken();return await Zo(this,KD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:I,providerData:k,stsTokenManager:G}=n;xe(T&&G,e,"internal-error");const U=Qo.fromJSON(this.name,G);xe(typeof T=="string",e,"internal-error"),Pa(a,e.name),Pa(o,e.name),xe(typeof S=="boolean",e,"internal-error"),xe(typeof I=="boolean",e,"internal-error"),Pa(u,e.name),Pa(c,e.name),Pa(m,e.name),Pa(p,e.name),Pa(g,e.name),Pa(v,e.name);const Z=new Kr({uid:T,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(Z.providerData=k.map(ee=>({...ee}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,a=!1){const o=new Qo;o.updateFromServerResponse(n);const u=new Kr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await nf(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ab(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Qo;m.updateFromIdToken(a);const p=new Kr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function Qi(r){$i(r instanceof Function,"Expected a class definition");let e=hT.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rb.type="NONE";const fT=Rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r,e,n){return`firebase:${r}:${e}:${n}`}class Yo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=zh(this.userKey,o.apiKey,u),this.fullPersistenceKey=zh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?Kr._fromGetAccountInfoResponse(this.auth,n,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Yo(Qi(fT),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qi(fT);const c=zh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const S=await tf(e,{idToken:v}).catch(()=>{});if(!S)break;T=await Kr._fromGetAccountInfoResponse(e,S,v)}else T=Kr._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Yo(u,e,a):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Yo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xb(e))return"Blackberry";if(Mb(e))return"Webos";if(Ib(e))return"Safari";if((e.includes("chrome/")||Db(e))&&!e.includes("edge/"))return"Chrome";if(Ob(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Cb(r=Nn()){return/firefox\//i.test(r)}function Ib(r=Nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Db(r=Nn()){return/crios\//i.test(r)}function Nb(r=Nn()){return/iemobile/i.test(r)}function Ob(r=Nn()){return/android/i.test(r)}function xb(r=Nn()){return/blackberry/i.test(r)}function Mb(r=Nn()){return/webos/i.test(r)}function sg(r=Nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eN(r=Nn()){return sg(r)&&!!window.navigator?.standalone}function tN(){return pI()&&document.documentMode===10}function Vb(r=Nn()){return sg(r)||Ob(r)||Mb(r)||xb(r)||/windows phone/i.test(r)||Nb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(r,e=[]){let n;switch(r){case"Browser":n=dT(Nn());break;case"Worker":n=`${dT(Nn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,e={}){return Zi(r,"GET","/v2/passwordPolicy",Xs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=6;class aN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new nN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),a=await Kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Ka(this));const n=e?Mt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rN(this),n=new aN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZD(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&PD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ll(r){return Mt(r)}class mT{constructor(e){this.auth=e,this.observer=null,this.addObserver=SI(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(r){Af=r}function Lb(r){return Af.loadJS(r)}function lN(){return Af.recaptchaEnterpriseScript}function uN(){return Af.gapiScript}function cN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class hN{constructor(){this.enterprise=new fN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dN="recaptcha-enterprise",Ub="NO_RECAPTCHA";class mN{constructor(e){this.type=dN,this.auth=ll(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{GD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new FD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;uT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(Ub)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hN().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{a(this.auth).then(m=>{if(!n&&uT(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lN();p.length!==0&&(p+=m),Lb(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function pT(r,e,n,a=!1,o=!1){const u=new mN(r);let c;if(o)c=Ub;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gT(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pT(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await pT(r,e,n,n==="getOobCode");return a(r,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(r,e){const n=Sf(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;Yr(o,"already-initialized")}return n.initialize({options:e})}function gN(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Qi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function yN(r,e,n){const a=ll(r);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=kb(e),{host:c,port:m}=_N(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(Bs(g,a.config.emulator)&&Bs(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,as(c)?(Jp(`${u}//${c}${p}`),Zp("Auth",!0)):vN()}function kb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _N(r){const e=kb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:yT(a.substr(u.length+1))}}else{const[u,c]=a.split(":");return{host:u,port:yT(c)}}}function yT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function EN(r,e){return Zi(r,"POST","/v1/accounts:update",e)}async function TN(r,e){return Zi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,e){return wf(r,"POST","/v1/accounts:signInWithPassword",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(r,e){return wf(r,"POST","/v1/accounts:signInWithEmailLink",Xs(r,e))}async function wN(r,e){return wf(r,"POST","/v1/accounts:signInWithEmailLink",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends og{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Vu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gT(e,n,"signInWithPassword",bN);case"emailLink":return SN(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gT(e,a,"signUpPassword",TN);case"emailLink":return wN(e,{idToken:n,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(r,e){return wf(r,"POST","/v1/accounts:signInWithIdp",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="http://localhost";class qs extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const c=new qs(a,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,$o(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CN(r){const e=yu(_u(r)).link,n=e?yu(_u(e)).deep_link_id:null,a=yu(_u(r)).deep_link_id;return(a?yu(_u(a)).link:null)||a||n||e||r}class lg{constructor(e){const n=yu(_u(e)),a=n.apiKey??null,o=n.oobCode??null,u=RN(n.mode??null);xe(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CN(e);try{return new lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,n){return Vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=lg.parseLink(n);return xe(a,"argument-error"),Vu._fromEmailAndCode(e,a.code,a.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends zb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Qu{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return za.credential(n,a)}catch{return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com";za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Qu{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Qu{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ba.credential(n,a)}catch{return null}}}Ba.TWITTER_SIGN_IN_METHOD="twitter.com";Ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Kr._fromIdTokenResponse(e,a,o),c=_T(a);return new el({user:u,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=_T(a);return new el({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function _T(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Si{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new rf(e,n,a,o)}}function jb(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(r,u,e,a):u})}async function IN(r,e,n=!1){const a=await Zo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return el._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,e,n=!1){const{auth:a}=r;if(Dr(a.app))return Promise.reject(Ka(a));const o="reauthenticate";try{const u=await Zo(r,jb(a,o,e,r),n);xe(u.idToken,a,"internal-error");const c=ag(u.idToken);xe(c,a,"internal-error");const{sub:m}=c;return xe(r.uid===m,a,"user-mismatch"),el._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(r,e,n=!1){if(Dr(r.app))return Promise.reject(Ka(r));const a="signIn",o=await jb(r,a,e),u=await el._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function NN(r,e){return Bb(ll(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(r){const e=ll(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xN(r,e,n){return Dr(r.app)?Promise.reject(Ka(r)):NN(Mt(r),ul.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&ON(r),a})}function MN(r,e){return VN(Mt(r),null,e)}async function VN(r,e,n){const{auth:a}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const c=await Zo(r,EN(a,u));await r._updateTokensIfNecessary(c,!0)}function PN(r,e,n,a){return Mt(r).onIdTokenChanged(e,n,a)}function LN(r,e,n){return Mt(r).beforeAuthStateChanged(e,n)}function UN(r,e,n,a){return Mt(r).onAuthStateChanged(e,n,a)}function kN(r){return Mt(r).signOut()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=1e3,jN=10;class qb extends Hb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},u=this.storage.getItem(a);tN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jN):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qb.type="LOCAL";const BN=qb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Hb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fb.type="SESSION";const Gb=Fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Rf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await HN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=ug("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function FN(r){yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function GN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KN(){return navigator?.serviceWorker?.controller||null}function QN(){return Kb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="firebaseLocalStorageDb",YN=1,sf="firebaseLocalStorage",Yb="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cf(r,e){return r.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function $N(){const r=indexedDB.deleteDatabase(Qb);return new Yu(r).toPromise()}function Ep(){const r=indexedDB.open(Qb,YN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(sf,{keyPath:Yb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(sf)?e(a):(a.close(),await $N(),e(await Ep()))})})}async function vT(r,e,n){const a=Cf(r,!0).put({[Yb]:e,value:n});return new Yu(a).toPromise()}async function XN(r,e){const n=Cf(r,!1).get(e),a=await new Yu(n).toPromise();return a===void 0?null:a.value}function ET(r,e){const n=Cf(r,!0).delete(e);return new Yu(n).toPromise()}const WN=800,JN=3;class $b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>JN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(QN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GN(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await vT(e,af,"1"),await ET(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>vT(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>XN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ET(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Cf(o,!1).getAll();return new Yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$b.type="LOCAL";const ZN=$b;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(r,e){return e?Qi(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t2(r){return Bb(r.auth,new cg(r),r.bypassAuthState)}function n2(r){const{auth:e,user:n}=r;return xe(n,e,"internal-error"),DN(n,new cg(r),r.bypassAuthState)}async function r2(r){const{auth:e,user:n}=r;return xe(n,e,"internal-error"),IN(n,new cg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return n2;default:Yr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Ku(2e3,1e4);class Go extends Xb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i2.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="pendingRedirect",jh=new Map;class s2 extends Xb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const a=await o2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o2(r,e){const n=c2(e),a=u2(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function l2(r,e){jh.set(r._key(),e)}function u2(r){return Qi(r._redirectPersistence)}function c2(r){return zh(a2,r.config.apiKey,r.name)}async function h2(r,e,n=!1){if(Dr(r.app))return Promise.reject(Ka(r));const a=ll(r),o=e2(a,e),c=await new s2(a,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=600*1e3;class d2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Wb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(TT(e))}saveEventToCache(e){this.cachedEventUids.add(TT(e)),this.lastProcessedEventTime=Date.now()}}function TT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Wb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function m2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(r,e={}){return Zi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y2=/^https?/;async function _2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await p2(r);for(const n of e)try{if(v2(n))return}catch{}Yr(r,"unauthorized-domain")}function v2(r){const e=_p(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!y2.test(n))return!1;if(g2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Ku(3e4,6e4);function bT(){const r=yi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function T2(r){return new Promise((e,n)=>{function a(){bT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bT(),n(gi(r,"network-request-failed"))},timeout:E2.get()})}if(yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(yi().gapi?.load)a();else{const o=cN("iframefcb");return yi()[o]=()=>{gapi.load?a():n(gi(r,"network-request-failed"))},Lb(`${uN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function b2(r){return Bh=Bh||T2(r),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Ku(5e3,15e3),w2="__/auth/iframe",A2="emulator/auth/iframe",R2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ig(e,A2):`https://${r.config.authDomain}/${w2}`,a={apiKey:e.apiKey,appName:r.name,v:$s},o=C2.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Gu(a).slice(1)}`}async function D2(r){const e=await b2(r),n=yi().gapi;return xe(n,r,"internal-error"),e.open({where:document.body,url:I2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R2,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const c=gi(r,"network-request-failed"),m=yi().setTimeout(()=>{u(c)},S2.get());function p(){yi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,x2=600,M2="_blank",V2="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P2(r,e,n,a=O2,o=x2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...N2,width:a.toString(),height:o.toString(),top:u,left:c},g=Nn().toLowerCase();n&&(m=Db(g)?M2:n),Cb(g)&&(e=e||V2,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[I,k])=>`${S}${I}=${k},`,"");if(eN(g)&&m!=="_self")return L2(e||"",m),new ST(null);const T=window.open(e||"",m,v);xe(T,r,"popup-blocked");try{T.focus()}catch{}return new ST(T)}function L2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="__/auth/handler",k2="emulator/auth/handler",z2=encodeURIComponent("fac");async function wT(r,e,n,a,o,u){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:$s,eventId:o};if(e instanceof zb){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",bI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Qu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${z2}=${encodeURIComponent(p)}`:"";return`${j2(r)}?${Gu(m).slice(1)}${g}`}function j2({config:r}){return r.emulator?ig(r,k2):`https://${r.authDomain}/${U2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class B2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gb,this._completeRedirectFn=h2,this._overrideRedirectResult=l2}async _openPopup(e,n,a,o){$i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await wT(e,n,a,_p(),o);return P2(e,u,ug())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await wT(e,n,a,_p(),o);return FN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($i(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await D2(e),a=new d2(e);return n.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tp,{type:tp},o=>{const u=o?.[0]?.[tp];u!==void 0&&n(!!u),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vb()||Ib()||sg()}}const H2=B2;var AT="@firebase/auth",RT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(r){Hs(new Wa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=a.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pb(r)},g=new sN(a,o,u,p);return gN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Hs(new Wa("auth-internal",e=>{const n=ll(e.getProvider("auth").getImmediate());return(a=>new q2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(AT,RT,F2(r)),pi(AT,RT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=300,Q2=fb("authIdTokenMaxAge")||K2;let CT=null;const Y2=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Q2)return;const o=n?.token;CT!==o&&(CT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $2(r=ng()){const e=Sf(r,"auth");if(e.isInitialized())return e.getImmediate();const n=pN(r,{popupRedirectResolver:H2,persistence:[ZN,BN,Gb]}),a=fb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const c=Y2(u.toString());LN(n,c,()=>c(n.currentUser)),PN(n,m=>c(m))}}const o=ub("auth");return o&&yN(n,`http://${o}`),n}function X2(){return document.getElementsByTagName("head")?.[0]??document}oN({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",X2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");var W2="firebase",J2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(W2,J2,"app");var IT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,Jb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function C(){}C.prototype=A.prototype,D.F=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(P,M,j){for(var N=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)N[Ve-2]=arguments[Ve];return A.prototype[M].apply(P,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,C){C||(C=0);const P=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)P[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;M<16;++M)P[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],M=D.g[2];let j=D.g[3],N;N=A+(j^C&(M^j))+P[0]+3614090360&4294967295,A=C+(N<<7&4294967295|N>>>25),N=j+(M^A&(C^M))+P[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=M+(C^j&(A^C))+P[2]+606105819&4294967295,M=j+(N<<17&4294967295|N>>>15),N=C+(A^M&(j^A))+P[3]+3250441966&4294967295,C=M+(N<<22&4294967295|N>>>10),N=A+(j^C&(M^j))+P[4]+4118548399&4294967295,A=C+(N<<7&4294967295|N>>>25),N=j+(M^A&(C^M))+P[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=M+(C^j&(A^C))+P[6]+2821735955&4294967295,M=j+(N<<17&4294967295|N>>>15),N=C+(A^M&(j^A))+P[7]+4249261313&4294967295,C=M+(N<<22&4294967295|N>>>10),N=A+(j^C&(M^j))+P[8]+1770035416&4294967295,A=C+(N<<7&4294967295|N>>>25),N=j+(M^A&(C^M))+P[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=M+(C^j&(A^C))+P[10]+4294925233&4294967295,M=j+(N<<17&4294967295|N>>>15),N=C+(A^M&(j^A))+P[11]+2304563134&4294967295,C=M+(N<<22&4294967295|N>>>10),N=A+(j^C&(M^j))+P[12]+1804603682&4294967295,A=C+(N<<7&4294967295|N>>>25),N=j+(M^A&(C^M))+P[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=M+(C^j&(A^C))+P[14]+2792965006&4294967295,M=j+(N<<17&4294967295|N>>>15),N=C+(A^M&(j^A))+P[15]+1236535329&4294967295,C=M+(N<<22&4294967295|N>>>10),N=A+(M^j&(C^M))+P[1]+4129170786&4294967295,A=C+(N<<5&4294967295|N>>>27),N=j+(C^M&(A^C))+P[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=M+(A^C&(j^A))+P[11]+643717713&4294967295,M=j+(N<<14&4294967295|N>>>18),N=C+(j^A&(M^j))+P[0]+3921069994&4294967295,C=M+(N<<20&4294967295|N>>>12),N=A+(M^j&(C^M))+P[5]+3593408605&4294967295,A=C+(N<<5&4294967295|N>>>27),N=j+(C^M&(A^C))+P[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=M+(A^C&(j^A))+P[15]+3634488961&4294967295,M=j+(N<<14&4294967295|N>>>18),N=C+(j^A&(M^j))+P[4]+3889429448&4294967295,C=M+(N<<20&4294967295|N>>>12),N=A+(M^j&(C^M))+P[9]+568446438&4294967295,A=C+(N<<5&4294967295|N>>>27),N=j+(C^M&(A^C))+P[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=M+(A^C&(j^A))+P[3]+4107603335&4294967295,M=j+(N<<14&4294967295|N>>>18),N=C+(j^A&(M^j))+P[8]+1163531501&4294967295,C=M+(N<<20&4294967295|N>>>12),N=A+(M^j&(C^M))+P[13]+2850285829&4294967295,A=C+(N<<5&4294967295|N>>>27),N=j+(C^M&(A^C))+P[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=M+(A^C&(j^A))+P[7]+1735328473&4294967295,M=j+(N<<14&4294967295|N>>>18),N=C+(j^A&(M^j))+P[12]+2368359562&4294967295,C=M+(N<<20&4294967295|N>>>12),N=A+(C^M^j)+P[5]+4294588738&4294967295,A=C+(N<<4&4294967295|N>>>28),N=j+(A^C^M)+P[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=M+(j^A^C)+P[11]+1839030562&4294967295,M=j+(N<<16&4294967295|N>>>16),N=C+(M^j^A)+P[14]+4259657740&4294967295,C=M+(N<<23&4294967295|N>>>9),N=A+(C^M^j)+P[1]+2763975236&4294967295,A=C+(N<<4&4294967295|N>>>28),N=j+(A^C^M)+P[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=M+(j^A^C)+P[7]+4139469664&4294967295,M=j+(N<<16&4294967295|N>>>16),N=C+(M^j^A)+P[10]+3200236656&4294967295,C=M+(N<<23&4294967295|N>>>9),N=A+(C^M^j)+P[13]+681279174&4294967295,A=C+(N<<4&4294967295|N>>>28),N=j+(A^C^M)+P[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=M+(j^A^C)+P[3]+3572445317&4294967295,M=j+(N<<16&4294967295|N>>>16),N=C+(M^j^A)+P[6]+76029189&4294967295,C=M+(N<<23&4294967295|N>>>9),N=A+(C^M^j)+P[9]+3654602809&4294967295,A=C+(N<<4&4294967295|N>>>28),N=j+(A^C^M)+P[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=M+(j^A^C)+P[15]+530742520&4294967295,M=j+(N<<16&4294967295|N>>>16),N=C+(M^j^A)+P[2]+3299628645&4294967295,C=M+(N<<23&4294967295|N>>>9),N=A+(M^(C|~j))+P[0]+4096336452&4294967295,A=C+(N<<6&4294967295|N>>>26),N=j+(C^(A|~M))+P[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=M+(A^(j|~C))+P[14]+2878612391&4294967295,M=j+(N<<15&4294967295|N>>>17),N=C+(j^(M|~A))+P[5]+4237533241&4294967295,C=M+(N<<21&4294967295|N>>>11),N=A+(M^(C|~j))+P[12]+1700485571&4294967295,A=C+(N<<6&4294967295|N>>>26),N=j+(C^(A|~M))+P[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=M+(A^(j|~C))+P[10]+4293915773&4294967295,M=j+(N<<15&4294967295|N>>>17),N=C+(j^(M|~A))+P[1]+2240044497&4294967295,C=M+(N<<21&4294967295|N>>>11),N=A+(M^(C|~j))+P[8]+1873313359&4294967295,A=C+(N<<6&4294967295|N>>>26),N=j+(C^(A|~M))+P[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=M+(A^(j|~C))+P[6]+2734768916&4294967295,M=j+(N<<15&4294967295|N>>>17),N=C+(j^(M|~A))+P[13]+1309151649&4294967295,C=M+(N<<21&4294967295|N>>>11),N=A+(M^(C|~j))+P[4]+4149444226&4294967295,A=C+(N<<6&4294967295|N>>>26),N=j+(C^(A|~M))+P[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=M+(A^(j|~C))+P[2]+718787259&4294967295,M=j+(N<<15&4294967295|N>>>17),N=C+(j^(M|~A))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+j&4294967295}a.prototype.v=function(D,A){A===void 0&&(A=D.length);const C=A-this.blockSize,P=this.C;let M=this.h,j=0;for(;j<A;){if(M==0)for(;j<=C;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<A;)if(P[M++]=D.charCodeAt(j++),M==this.blockSize){o(this,P),M=0;break}}else for(;j<A;)if(P[M++]=D[j++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=A},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)D[A++]=this.g[C]>>>P&255;return D};function u(D,A){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function c(D,A){this.h=A;const C=[];let P=!0;for(let M=D.length-1;M>=0;M--){const j=D[M]|0;P&&j==A||(C[M]=j,P=!1)}this.g=C}var m={};function p(D){return-128<=D&&D<128?u(D,function(A){return new c([A|0],A<0?-1:0)}):new c([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return U(g(-D));const A=[];let C=1;for(let P=0;D>=C;P++)A[P]=D/C|0,C*=4294967296;return new c(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return U(v(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let P=T;for(let j=0;j<D.length;j+=8){var M=Math.min(8,D.length-j);const N=parseInt(D.substring(j,j+M),A);M<8?(M=g(Math.pow(A,M)),P=P.j(M).add(g(N))):(P=P.j(C),P=P.add(g(N)))}return P}var T=p(0),S=p(1),I=p(16777216);r=c.prototype,r.m=function(){if(G(this))return-U(this).m();let D=0,A=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);D+=(P>=0?P:4294967296+P)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(G(this))return"-"+U(this).toString(D);const A=g(Math.pow(D,6));var C=this;let P="";for(;;){const M=de(C,A).g;C=Z(C,M.j(A));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=M,k(C))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function G(D){return D.h==-1}r.l=function(D){return D=Z(this,D),G(D)?-1:k(D)?0:1};function U(D){const A=D.g.length,C=[];for(let P=0;P<A;P++)C[P]=~D.g[P];return new c(C,~D.h).add(S)}r.abs=function(){return G(this)?U(this):this},r.add=function(D){const A=Math.max(this.g.length,D.g.length),C=[];let P=0;for(let M=0;M<=A;M++){let j=P+(this.i(M)&65535)+(D.i(M)&65535),N=(j>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);P=N>>>16,j&=65535,N&=65535,C[M]=N<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Z(D,A){return D.add(U(A))}r.j=function(D){if(k(this)||k(D))return T;if(G(this))return G(D)?U(this).j(U(D)):U(U(this).j(D));if(G(D))return U(this.j(U(D)));if(this.l(I)<0&&D.l(I)<0)return g(this.m()*D.m());const A=this.g.length+D.g.length,C=[];for(var P=0;P<2*A;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<D.g.length;M++){const j=this.i(P)>>>16,N=this.i(P)&65535,Ve=D.i(M)>>>16,it=D.i(M)&65535;C[2*P+2*M]+=N*it,ee(C,2*P+2*M),C[2*P+2*M+1]+=j*it,ee(C,2*P+2*M+1),C[2*P+2*M+1]+=N*Ve,ee(C,2*P+2*M+1),C[2*P+2*M+2]+=j*Ve,ee(C,2*P+2*M+2)}for(D=0;D<A;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=A;D<2*A;D++)C[D]=0;return new c(C,0)};function ee(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function te(D,A){this.g=D,this.h=A}function de(D,A){if(k(A))throw Error("division by zero");if(k(D))return new te(T,T);if(G(D))return A=de(U(D),A),new te(U(A.g),U(A.h));if(G(A))return A=de(D,U(A)),new te(U(A.g),A.h);if(D.g.length>30){if(G(D)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,P=A;P.l(D)<=0;)C=me(C),P=me(P);var M=H(C,1),j=H(P,1);for(P=H(P,2),C=H(C,2);!k(P);){var N=j.add(P);N.l(D)<=0&&(M=M.add(C),j=N),P=H(P,1),C=H(C,1)}return A=Z(D,M.j(A)),new te(M,A)}for(M=T;D.l(A)>=0;){for(C=Math.max(1,Math.floor(D.m()/A.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=g(C),N=j.j(A);G(N)||N.l(D)>0;)C-=P,j=g(C),N=j.j(A);k(j)&&(j=S),M=M.add(j),D=Z(D,N)}return new te(M,D)}r.B=function(D){return de(this,D).h},r.and=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)&D.i(P);return new c(C,this.h&D.h)},r.or=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)|D.i(P);return new c(C,this.h|D.h)},r.xor=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)^D.i(P);return new c(C,this.h^D.h)};function me(D){const A=D.g.length+1,C=[];for(let P=0;P<A;P++)C[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(C,D.h)}function H(D,A){const C=A>>5;A%=32;const P=D.g.length-C,M=[];for(let j=0;j<P;j++)M[j]=A>0?D.i(j+C)>>>A|D.i(j+C+1)<<32-A:D.i(j+C);return new c(M,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Jb=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Qa=c}).apply(typeof IT<"u"?IT:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zb,vu,eS,Hh,Tp,tS,nS,rS;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function o(h,y){if(y)e:{var E=a;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in E))break e;E=E[F]}h=h[h.length-1],w=E[h],y=y(w),y!=w&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,F,W){for(var fe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)fe[qe-2]=arguments[qe];return y.prototype[F].apply(w,fe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=h[w];return E}return[]}function k(h,y){for(let w=1;w<arguments.length;w++){const F=arguments[w];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const W=F.length||0;h.length=E+W;for(let fe=0;fe<W;fe++)h[E+fe]=F[fe]}else h.push(F)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function Z(){var h=D;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,E){const w=te.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var te=new G(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let me,H=!1,D=new ee,A=()=>{const h=Promise.resolve(void 0);me=()=>{h.then(C)}};function C(){for(var h;h=Z();){try{h.h.call(h.g)}catch(E){U(E)}var y=te;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}H=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Ve(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Ve,M),Ve.prototype.init=function(h,y){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ue(h,y,E,w,F){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=F,this.key=++Y,this.da=this.fa=!1}function ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Le(h,y,E){for(const w in h)y.call(E,h[w],w,h)}function ke(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function V(h){const y={};for(const E in h)y[E]=h[E];return y}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,y){let E,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(E in w)h[E]=w[E];for(let W=0;W<re.length;W++)E=re[W],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function ge(h){this.src=h,this.g={},this.h=0}ge.prototype.add=function(h,y,E,w,F){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const fe=Pe(h,y,w,F);return fe>-1?(y=h[fe],E||(y.fa=!1)):(y=new ue(y,this.src,W,!!w,F),y.fa=E,h.push(y)),y};function Ne(h,y){const E=y.type;if(E in h.g){var w=h.g[E],F=Array.prototype.indexOf.call(w,y,void 0),W;(W=F>=0)&&Array.prototype.splice.call(w,F,1),W&&(ve(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Pe(h,y,E,w){for(let F=0;F<h.length;++F){const W=h[F];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==w)return F}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),qt={};function Et(h,y,E,w,F){if(Array.isArray(y)){for(let W=0;W<y.length;W++)Et(h,y[W],E,w,F);return null}return E=cs(E),h&&h[it]?h.J(y,E,m(w)?!!w.capture:!1,F):Rt(h,y,E,!1,w,F)}function Rt(h,y,E,w,F,W){if(!y)throw Error("Invalid event type");const fe=m(F)?!!F.capture:!!F;let qe=Ai(h);if(qe||(h[$e]=qe=new ge(h)),E=qe.add(y,E,w,fe,W),E.proxy)return E;if(w=er(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)j||(F=fe),F===void 0&&(F=!1),h.addEventListener(y.toString(),w,F);else if(h.attachEvent)h.attachEvent(cn(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function er(){function h(E){return y.call(h.src,h.listener,E)}const y=us;return h}function wi(h,y,E,w,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)wi(h,y[W],E,w,F);else w=m(w)?!!w.capture:!!w,E=cs(E),h&&h[it]?(h=h.i,W=String(y).toString(),W in h.g&&(y=h.g[W],E=Pe(y,E,w,F),E>-1&&(ve(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[W],h.h--)))):h&&(h=Ai(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Pe(y,E,w,F)),(E=h>-1?y[h]:null)&&ea(E))}function ea(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[it])Ne(y.i,h);else{var E=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(E,w,h.capture):y.detachEvent?y.detachEvent(cn(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Ai(y))?(Ne(E,h),E.h==0&&(E.src=null,y[$e]=null)):ve(h)}}}function cn(h){return h in qt?qt[h]:qt[h]="on"+h}function us(h,y){if(h.da)h=!0;else{y=new Ve(y,this);const E=h.listener,w=h.ha||h.src;h.fa&&ea(h),h=E.call(w,y)}return h}function Ai(h){return h=h[$e],h instanceof ge?h:null}var ta="__closure_events_fn_"+(Math.random()*1e9>>>0);function cs(h){return typeof h=="function"?h:(h[ta]||(h[ta]=function(y){return h.handleEvent(y)}),h[ta])}function Pt(){P.call(this),this.i=new ge(this),this.M=this,this.G=null}T(Pt,P),Pt.prototype[it]=!0,Pt.prototype.removeEventListener=function(h,y,E,w){wi(this,h,y,E,w)};function Ft(h,y){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var F=y;y=new M(w,h),ce(y,F)}F=!0;let W,fe;if(E)for(fe=E.length-1;fe>=0;fe--)W=y.g=E[fe],F=Jr(W,w,!0,y)&&F;if(W=y.g=h,F=Jr(W,w,!0,y)&&F,F=Jr(W,w,!1,y)&&F,E)for(fe=0;fe<E.length;fe++)W=y.g=E[fe],F=Jr(W,w,!1,y)&&F}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let w=0;w<E.length;w++)ve(E[w]);delete h.g[y],h.h--}}this.G=null},Pt.prototype.J=function(h,y,E,w){return this.i.add(String(h),y,!1,E,w)},Pt.prototype.K=function(h,y,E,w){return this.i.add(String(h),y,!0,E,w)};function Jr(h,y,E,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let W=0;W<y.length;++W){const fe=y[W];if(fe&&!fe.da&&fe.capture==E){const qe=fe.listener,Kt=fe.ha||fe.src;fe.fa&&Ne(h.i,fe),F=qe.call(Kt,w)!==!1&&F}}return F&&!w.defaultPrevented}function xr(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Zr(h){h.g=xr(()=>{h.g=null,h.i&&(h.i=!1,Zr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class hn extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(h){P.call(this),this.h=h,this.g={}}T(Mr,P);var xn=[];function Mn(h){Le(h.g,function(y,E){this.g.hasOwnProperty(E)&&ea(y)},h),h.g={}}Mr.prototype.N=function(){Mr.Z.N.call(this),Mn(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=c.JSON.stringify,gl=c.JSON.parse,na=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function eo(){}function zn(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){M.call(this,"d")}T(Wt,M);function Vn(){M.call(this,"c")}T(Vn,M);var Ot={},hs=null;function Pr(){return hs=hs||new Pt}Ot.Ia="serverreachability";function fs(h){M.call(this,Ot.Ia,h)}T(fs,M);function Bn(h){const y=Pr();Ft(y,new fs(y))}Ot.STAT_EVENT="statevent";function Ri(h,y){M.call(this,Ot.STAT_EVENT,h),this.stat=y}T(Ri,M);function xt(h){const y=Pr();Ft(y,new Ri(y,h))}Ot.Ja="timingevent";function mr(h,y){M.call(this,Ot.Ja,h),this.size=y}T(mr,M);function tr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Sn(){this.g=!0}Sn.prototype.ua=function(){this.g=!1};function ra(h,y,E,w,F,W){h.info(function(){if(h.g)if(W){var fe="",qe=W.split("&");for(let lt=0;lt<qe.length;lt++){var Kt=qe[lt].split("=");if(Kt.length>1){const Dt=Kt[0];Kt=Kt[1];const vr=Dt.split("_");fe=vr.length>=2&&vr[1]=="type"?fe+(Dt+"="+Kt+"&"):fe+(Dt+"=redacted&")}}}else fe=null;else fe=W;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+E+`
`+fe})}function to(h,y,E,w,F,W,fe){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+E+`
`+W+" "+fe})}function pr(h,y,E,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+q(h,E)+(w?" "+w:"")})}function x(h,y){h.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function q(h,y){if(!h.g)return y;if(!y)return null;try{const W=JSON.parse(y);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var E=W[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let fe=1;fe<w.length;fe++)w[fe]=""}}}}return Vr(W)}catch{return y}}var X={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},le={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},he;function we(){}T(we,eo),we.prototype.g=function(){return new XMLHttpRequest},he=new we;function be(h){return encodeURIComponent(String(h))}function Ae(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Te(h,y,E,w){this.j=h,this.i=y,this.l=E,this.S=w||1,this.V=new Mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}var pe={},ye={};function ze(h,y,E){h.M=1,h.A=ds(kt(y)),h.u=E,h.R=!0,ot(h,null)}function ot(h,y){h.F=Date.now(),Xe(h),h.B=kt(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),ro(E.i,"t",w),h.C=0,E=h.j.L,h.h=new Ce,h.g=pc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new hn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,w=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(xn[0]=F.toString()),F=xn);for(let W=0;W<F.length;W++){const fe=Et(E,F[W],w||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Bn(),ra(h.i,h.v,h.B,h.l,h.S,h.u)}Te.prototype.ba=function(h){h=h.target;const y=this.O;y&&zr(h)==3?y.j():this.Y(h)},Te.prototype.Y=function(h){try{if(h==this.g)e:{const qe=zr(this.g),Kt=this.g.ya(),lt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||qe!=4||Kt==7||(Kt==8||lt<=0?Bn(3):Bn(2)),wn(this);var y=this.g.ca();this.X=y;var E=Lt(this);if(this.o=y==200,to(this.i,this.v,this.B,this.l,this.S,qe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var W=w;break t}}W=null}if(h=W)pr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qn(this,h);else{this.o=!1,this.m=3,xt(12),Ct(this),Gt(this);break e}}if(this.R){h=!0;let Dt;for(;!this.K&&this.C<E.length;)if(Dt=mt(this,E),Dt==ye){qe==4&&(this.m=4,xt(14),h=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==pe){this.m=4,xt(15),pr(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else pr(this.i,this.l,Dt,null),qn(this,Dt);if(Jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||E.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)pr(this.i,this.l,E,"[Invalid Chunked Response]"),Ct(this),Gt(this);else if(E.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Rl(fe),fe.P=!0,xt(11))}}else pr(this.i,this.l,E,null),qn(this,E);qe==4&&Ct(this),this.o&&!this.K&&(qe==4?hc(this.j,this):(this.o=!1,Xe(this)))}else Ii(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Ct(this),Gt(this)}}}catch{}finally{}};function Lt(h){if(!Jt(h))return h.g.la();const y=pn(h.g);if(y==="")return"";let E="";const w=y.length,F=zr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ct(h),Gt(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<w;W++)h.h.h=!0,E+=h.h.i.decode(y[W],{stream:!(F&&W==w-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Jt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function mt(h,y){var E=h.C,w=y.indexOf(`
`,E);return w==-1?ye:(E=Number(y.substring(E,w)),isNaN(E)?pe:(w+=1,w+E>y.length?ye:(y=y.slice(w,w+E),h.C=w+E,y)))}Te.prototype.cancel=function(){this.K=!0,Ct(this)};function Xe(h){h.T=Date.now()+h.H,Hn(h,h.H)}function Hn(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=tr(g(h.aa,h),y)}function wn(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Te.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(x(this.i,this.B),this.M!=2&&(Bn(),xt(17)),Ct(this),this.m=2,Gt(this)):Hn(this,this.T-h)};function Gt(h){h.j.I==0||h.K||hc(h.j,h)}function Ct(h){wn(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Mn(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function qn(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||je(E.h,h))){if(!h.L&&je(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)lo(E),ha(E);else break e;Es(E),xt(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=tr(g(E.Va,E),6e3));Pn(E.h)<=1&&E.ta&&(E.ta=void 0)}else si(E,11)}else if((h.L||E.g==h)&&lo(E),!N(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let lt=F[y];const Dt=lt[0];if(!(Dt<=E.K))if(E.K=Dt,lt=lt[1],E.I==2)if(lt[0]=="c"){E.M=lt[1],E.ba=lt[2];const vr=lt[3];vr!=null&&(E.ka=vr,E.j.info("VER="+E.ka));const oi=lt[4];oi!=null&&(E.za=oi,E.j.info("SVER="+E.za));const jr=lt[5];jr!=null&&typeof jr=="number"&&jr>0&&(w=1.5*jr,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Br=h.g;if(Br){const Ts=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var W=w.h;W.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ut(W,W.h),W.h=null))}if(w.G){const uo=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(w.wa=uo,ht(w.J,w.G,uo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var fe=h;if(w.na=mc(w,w.L?w.ba:null,w.W),fe.L){gr(w.h,fe);var qe=fe,Kt=w.O;Kt&&(qe.H=Kt),qe.D&&(wn(qe),Xe(qe)),w.g=fe}else uc(w);E.i.length>0&&ai(E)}else lt[0]!="stop"&&lt[0]!="close"||si(E,7);else E.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?si(E,7):wl(E):lt[0]!="noop"&&E.l&&E.l.qa(lt),E.A=0)}}Bn(4)}catch{}}var Tt=class{constructor(h,y){this.g=h,this.map=y}};function nr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ei(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pn(h){return h.h?1:h.g?h.g.size:0}function je(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ut(h,y){h.g?h.g.add(y):h.h=y}function gr(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}nr.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rr(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return I(h.i)}var It=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lr(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let F,W=null;w>=0?(F=h[E].substring(0,w),W=h[E].substring(w+1)):F=h[E],y(F,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof An?(this.l=h.l,fn(this,h.j),this.o=h.o,this.g=h.g,ia(this,h.u),this.h=h.h,yl(this,oc(h.i)),this.m=h.m):h&&(y=String(h).match(It))?(this.l=!1,fn(this,y[1]||"",!0),this.o=ti(y[2]||""),this.g=ti(y[3]||"",!0),ia(this,y[4]),this.h=ti(y[5]||"",!0),yl(this,y[6]||"",!0),this.m=ti(y[7]||"")):(this.l=!1,this.i=new sa(null,this.l))}An.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ms(y,no,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ms(y,no,!0),"@"),h.push(be(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ms(E,E.charAt(0)=="/"?_l:ic,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ms(E,ac)),h.join("")},An.prototype.resolve=function(h){const y=kt(this);let E=!!h.j;E?fn(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var w=h.h;if(E)ia(y,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=y.h.lastIndexOf("/");F!=-1&&(w=y.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const W=[];for(let fe=0;fe<F.length;){const qe=F[fe++];qe=="."?w&&fe==F.length&&W.push(""):qe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),w&&fe==F.length&&W.push("")):(W.push(qe),w=!0)}w=W.join("/")}else w=F}return E?y.h=w:E=h.i.toString()!=="",E?yl(y,oc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function kt(h){return new An(h)}function fn(h,y,E){h.j=E?ti(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ia(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function yl(h,y,E){y instanceof sa?(h.i=y,io(h.i,h.l)):(E||(y=ms(y,aa)),h.i=new sa(y,h.l))}function ht(h,y,E){h.i.set(y,E)}function ds(h){return ht(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ti(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ms(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var no=/[#\/\?@]/g,ic=/[#\?:]/g,_l=/[#\?]/g,aa=/[#\?@]/g,ac=/#/g;function sa(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Gn(h){h.g||(h.g=new Map,h.h=0,h.i&&Lr(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=sa.prototype,r.add=function(h,y){Gn(this),this.i=null,h=oa(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function sc(h,y){Gn(h),y=oa(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function vl(h,y){return Gn(h),y=oa(h,y),h.g.has(y)}r.forEach=function(h,y){Gn(this),this.g.forEach(function(E,w){E.forEach(function(F){h.call(y,F,w,this)},this)},this)};function El(h,y){Gn(h);let E=[];if(typeof y=="string")vl(h,y)&&(E=E.concat(h.g.get(oa(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}r.set=function(h,y){return Gn(this),this.i=null,h=oa(this,h),vl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=El(this,h),h.length>0?String(h[0]):y):y};function ro(h,y,E){sc(h,y),E.length>0&&(h.i=null,h.g.set(oa(h,y),I(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const F=be(E);E=El(this,E);for(let W=0;W<E.length;W++){let fe=F;E[W]!==""&&(fe+="="+be(E[W])),h.push(fe)}}return this.i=h.join("&")};function oc(h){const y=new sa;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function oa(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function io(h,y){y&&!h.j&&(Gn(h),h.i=null,h.g.forEach(function(E,w){const F=w.toLowerCase();w!=F&&(sc(this,w),ro(this,F,E))},h)),h.j=y}function Ur(h,y){const E=new Sn;if(c.Image){const w=new Image;w.onload=v(yr,E,"TestLoadImage: loaded",!0,y,w),w.onerror=v(yr,E,"TestLoadImage: error",!1,y,w),w.onabort=v(yr,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(yr,E,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function Tl(h,y){const E=new Sn,w=new AbortController,F=setTimeout(()=>{w.abort(),yr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(W=>{clearTimeout(F),W.ok?yr(E,"TestPingServer: ok",!0,y):yr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),yr(E,"TestPingServer: error",!1,y)})}function yr(h,y,E,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(E)}catch{}}function la(){this.g=new na}function ni(h){this.i=h.Sb||null,this.h=h.ab||!1}T(ni,eo),ni.prototype.g=function(){return new ps(this.i,this.h)};function ps(h,y){Pt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ps,Pt),r=ps.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,kr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ao(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ao(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ua(this):kr(this),this.readyState==3&&ao(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,ua(this))},r.Na=function(h){this.g&&(this.response=h,ua(this))},r.ga=function(){this.g&&ua(this)};function ua(h){h.readyState=4,h.l=null,h.j=null,h.B=null,kr(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function kr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function _r(h){let y="";return Le(h,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function gs(h,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=_r(E),typeof h=="string"?E!=null&&be(E):ht(h,y,E))}function pt(h){Pt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(pt,Pt);var ri=/^https?$/i,bl=["POST","PUT"];r=pt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():he.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){ys(this,W);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)E.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())E.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(bl,y,void 0)>=0)||w||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,fe]of E)this.g.setRequestHeader(W,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){ys(this,W)}};function ys(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Sl(h),Ci(h)}function Sl(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),Ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),pt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(h){if(h.h&&typeof u<"u"){if(h.v&&zr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),zr(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=W===0){let fe=String(h.D).match(It)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),w=!ri.test(fe?fe.toLowerCase():"")}E=w}if(E)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var F=zr(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",Sl(h)}}finally{Ci(h)}}}}function Ci(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Ft(h,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function zr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return zr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),gl(y)}};function pn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ii(h){const y={};h=(h.g&&zr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var E=Ae(h[w]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[F]||[];y[F]=W,W.push(E)}ke(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function ca(h){this.za=0,this.i=[],this.j=new Sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ii("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ii("baseRetryDelayMs",5e3,h),this.Za=ii("retryDelaySeedMs",1e4,h),this.Ta=ii("forwardChannelMaxRetries",2,h),this.va=ii("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nr(h&&h.concurrentRequestLimit),this.Ba=new la,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ca.prototype,r.ka=8,r.I=1,r.connect=function(h,y,E,w){xt(0),this.W=h,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=mc(this,null,this.W),ai(this)};function wl(h){if(so(h),h.I==3){var y=h.V++,E=kt(h.J);if(ht(E,"SID",h.M),ht(E,"RID",y),ht(E,"TYPE","terminate"),vs(h,E),y=new Te(h,h.j,y),y.M=2,y.A=ds(kt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=pc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Xe(y)}dc(h)}function ha(h){h.g&&(Rl(h),h.g.cancel(),h.g=null)}function so(h){ha(h),h.v&&(c.clearTimeout(h.v),h.v=null),lo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ai(h){if(!ei(h.h)&&!h.m){h.m=!0;var y=h.Ea;me||A(),H||(me(),H=!0),D.add(y,h),h.D=0}}function oo(h,y){return Pn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=tr(g(h.Ea,h,y),fc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Te(this,this.j,h);let W=this.o;if(this.U&&(W?(W=V(W),ce(W,this.U)):W=this.U),this.u!==null||this.R||(F.J=W,W=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=lc(this,F,y),E=kt(this.J),ht(E,"RID",h),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),vs(this,E),W&&(this.R?y="headers="+be(_r(W))+"&"+y:this.u&&gs(E,this.u,W)),Ut(this.h,F),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",y),ht(E,"SID","null"),F.U=!0,ze(F,E,null)):ze(F,E,y),this.I=2}}else this.I==3&&(h?Al(this,h):this.i.length==0||ei(this.h)||Al(this))};function Al(h,y){var E;y?E=y.l:E=h.V++;const w=kt(h.J);ht(w,"SID",h.M),ht(w,"RID",E),ht(w,"AID",h.K),vs(h,w),h.u&&h.o&&gs(w,h.u,h.o),E=new Te(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=lc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ut(h.h,E),ze(E,w,y)}function vs(h,y){h.H&&Le(h.H,function(E,w){ht(y,w,E)}),h.l&&Le({},function(E,w){ht(y,w,E)})}function lc(h,y,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let qe=-1;for(;;){const Kt=["count="+E];qe==-1?E>0?(qe=F[0].g,Kt.push("ofs="+qe)):qe=0:Kt.push("ofs="+qe);let lt=!0;for(let Dt=0;Dt<E;Dt++){var W=F[Dt].g;const vr=F[Dt].map;if(W-=qe,W<0)qe=Math.max(0,F[Dt].g-100),lt=!1;else try{W="req"+W+"_"||"";try{var fe=vr instanceof Map?vr:Object.entries(vr);for(const[oi,jr]of fe){let Br=jr;m(jr)&&(Br=Vr(jr)),Kt.push(W+oi+"="+encodeURIComponent(Br))}}catch(oi){throw Kt.push(W+"type="+encodeURIComponent("_badmap")),oi}}catch{w&&w(vr)}}if(lt){fe=Kt.join("&");break e}}fe=void 0}return h=h.i.splice(0,E),y.G=h,fe}function uc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;me||A(),H||(me(),H=!0),D.add(y,h),h.A=0}}function Es(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=tr(g(h.Da,h),fc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=tr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ha(this),cc(this))};function Rl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function cc(h){h.g=new Te(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=kt(h.na);ht(y,"RID","rpc"),ht(y,"SID",h.M),ht(y,"AID",h.K),ht(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&ht(y,"TO",h.ia),ht(y,"TYPE","xmlhttp"),vs(h,y),h.u&&h.o&&gs(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ds(kt(y)),E.u=null,E.R=!0,ot(E,h)}r.Va=function(){this.C!=null&&(this.C=null,ha(this),Es(this),xt(19))};function lo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function hc(h,y){var E=null;if(h.g==y){lo(h),Rl(h),h.g=null;var w=2}else if(je(h.h,y))E=y.G,gr(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;w=Pr(),Ft(w,new mr(w,E)),ai(h)}else uc(h);else if(F=y.m,F==3||F==0&&y.X>0||!(w==1&&oo(h,y)||w==2&&Es(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),F){case 1:si(h,5);break;case 4:si(h,10);break;case 3:si(h,6);break;default:si(h,2)}}}function fc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function si(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),w=h.Ua;const F=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fn(w,"https"),ds(w),F?Ur(w.toString(),E):Tl(w.toString(),E)}else xt(2);h.I=0,h.l&&h.l.pa(y),dc(h),so(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function dc(h){if(h.I=0,h.ja=[],h.l){const y=rr(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function mc(h,y,E){var w=E instanceof An?kt(E):new An(E);if(w.g!="")y&&(w.g=y+"."+w.g),ia(w,w.u);else{var F=c.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const W=new An(null);w&&fn(W,w),y&&(W.g=y),F&&ia(W,F),E&&(W.h=E),w=W}return E=h.G,y=h.wa,E&&y&&ht(w,E,y),ht(w,"VER",h.ka),vs(h,w),w}function pc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new pt(new ni({ab:E})):new pt(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}r=gc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fa(){}fa.prototype.g=function(h,y){return new Ln(h,y)};function Ln(h,y){Pt.call(this),this.g=new ca(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Di(this)}T(Ln,Pt),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){wl(this.g)},Ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Vr(h),h=E);y.i.push(new Tt(y.Ya++,h)),y.I==3&&ai(y)},Ln.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,Ln.Z.N.call(this)};function yc(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(yc,Wt);function _c(){Vn.call(this),this.status=1}T(_c,Vn);function Di(h){this.g=h}T(Di,gc),Di.prototype.ra=function(){Ft(this.g,"a")},Di.prototype.qa=function(h){Ft(this.g,new yc(h))},Di.prototype.pa=function(h){Ft(this.g,new _c)},Di.prototype.oa=function(){Ft(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,rS=function(){return new fa},nS=function(){return Pr()},tS=Ot,Tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},X.NO_ERROR=0,X.TIMEOUT=8,X.HTTP_ERROR=6,Hh=X,le.COMPLETE="complete",eS=le,zn.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,vu=zn,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,Zb=pt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const DT="@firebase/firestore",NT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new eg("@firebase/firestore");function Bo(){return Fs.logLevel}function Ee(r,...e){if(Fs.logLevel<=Ze.DEBUG){const n=e.map(hg);Fs.debug(`Firestore (${cl}): ${r}`,...n)}}function Xi(r,...e){if(Fs.logLevel<=Ze.ERROR){const n=e.map(hg);Fs.error(`Firestore (${cl}): ${r}`,...n)}}function tl(r,...e){if(Fs.logLevel<=Ze.WARN){const n=e.map(hg);Fs.warn(`Firestore (${cl}): ${r}`,...n)}}function hg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,iS(r,a,n)}function iS(r,e,n){let a=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Xi(a),new Error(a)}function ct(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||iS(e,o,a)}function He(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Ya;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ya,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ya)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ct(typeof a.accessToken=="string",31837,{l:a}),new aS(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class nO{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rO{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const a=u=>{u.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=aO(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function et(r,e){return r<e?-1:r>e?1:0}function bp(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return np(o)===np(u)?et(o,u):np(o)?1:-1}return et(r.length,e.length)}const sO=55296,oO=57343;function np(r){const e=r.charCodeAt(0);return e>=sO&&e<=oO}function nl(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="__name__";class fi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Me(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return et(e.length,n.length)}static compareSegments(e,n){const a=fi.isNumericId(e),o=fi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qa.fromString(e.substring(4,e.length-2))}}class bt extends fi{construct(e,n,a){return new bt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends fi{construct(e,n,a){return new Tn(e,n,a)}static isValidIdentifier(e){return lO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xT}static keyField(){return new Tn([xT])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new _e(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(a+=m,o++):(u(),o++)}if(u(),c)throw new _e(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(bt.fromString(e))}static fromName(e){return new De(bt.fromString(e).popFirst(5))}static empty(){return new De(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r,e,n){if(!n)throw new _e(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function uO(r,e,n,a){if(e===!0&&a===!0)throw new _e(se.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function MT(r){if(!De.isDocumentKey(r))throw new _e(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function VT(r){if(De.isDocumentKey(r))throw new _e(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function If(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Me(12329,{type:typeof r})}function Gs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=If(r);throw new _e(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(r,e){const n={typeString:r};return e&&(n.value=e),n}function $u(r,e){if(!oS(r))throw new _e(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const c=r[a];if(o&&typeof c!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new _e(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=-62135596800,LT=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*LT);return new At(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PT)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LT}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:sn("string",At._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new At(0,0))}static max(){return new Ue(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function cO(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(a===1e9?new At(n+1,0):new At(n,a));return new Ja(o,De.empty(),e)}function hO(r){return new Ja(r.readTime,r.key,Pu)}class Ja{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ja(Ue.min(),De.empty(),Pu)}static max(){return new Ja(Ue.max(),De.empty(),Pu)}}function fO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(r.documentKey,e.documentKey),n!==0?n:et(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==dO)throw r;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,a)=>{n(e)}))}static reject(e){return new oe(((n,a)=>{a(e)}))}static waitFor(e){return new oe(((n,a)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>a(p)))})),c=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const a of e)n=n.next((o=>o?oe.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new oe(((a,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{c[g]=v,++m,m===u&&a(c)}),(v=>o(v)))}}))}static doWhile(e,n){return new oe(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function pO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Nf(r){return r==null}function of(r){return r===0&&1/r==-1/0}function gO(r){return typeof r=="number"&&Number.isInteger(r)&&!of(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="";function yO(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=UT(e)),e=_O(r.get(n),e);return UT(e)}function _O(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case lS:n+="";break;default:n+=u}}return n}function UT(r){return r+lS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ss(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function uS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??En.RED,this.left=o??En.EMPTY,this.right=u??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new En(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return En.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zT(this.data.getIterator())}getIteratorFrom(e){return new zT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class zT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new fr([])}unionWith(e){let n=new un(Tn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cS("Invalid base64 string: "+u):u}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(r){if(ct(!!r,39018),typeof r=="string"){let e=0;const n=vO.exec(r);if(ct(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:$t(r.seconds),nanos:$t(r.nanos)}}function $t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?bn.fromBase64String(r):bn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="server_timestamp",fS="__type__",dS="__previous_value__",mS="__local_write_time__";function mg(r){return(r?.mapValue?.fields||{})[fS]?.stringValue===hS}function Of(r){const e=r.mapValue.fields[dS];return mg(e)?Of(e):e}function Lu(r){const e=Za(r.mapValue.fields[mS].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,a,o,u,c,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const lf="(default)";class Uu{constructor(e,n){this.projectId=e,this.database=n||lf}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="__type__",TO="__max__",Ih={mapValue:{}},gS="__vector__",uf="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mg(r)?4:SO(r)?9007199254740991:bO(r)?10:11:Me(28295,{value:r})}function bi(r,e){if(r===e)return!0;const n=ts(r);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Lu(r).isEqual(Lu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Za(o.timestampValue),m=Za(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return $t(o.geoPointValue.latitude)===$t(u.geoPointValue.latitude)&&$t(o.geoPointValue.longitude)===$t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return $t(o.integerValue)===$t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=$t(o.doubleValue),m=$t(u.doubleValue);return c===m?of(c)===of(m):isNaN(c)&&isNaN(m)}return!1})(r,e);case 9:return nl(r.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(kT(c)!==kT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!bi(c[p],m[p])))return!1;return!0})(r,e);default:return Me(52216,{left:r})}}function ku(r,e){return(r.values||[]).find((n=>bi(n,e)))!==void 0}function rl(r,e){if(r===e)return 0;const n=ts(r),a=ts(e);if(n!==a)return et(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(r.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=$t(u.integerValue||u.doubleValue),p=$t(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return jT(r.timestampValue,e.timestampValue);case 4:return jT(Lu(r),Lu(e));case 5:return bp(r.stringValue,e.stringValue);case 6:return(function(u,c){const m=es(u),p=es(c);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=et(m[g],p[g]);if(v!==0)return v}return et(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=et($t(u.latitude),$t(c.latitude));return m!==0?m:et($t(u.longitude),$t(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return BT(r.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[uf]?.arrayValue,v=p[uf]?.arrayValue,T=et(g?.values?.length||0,v?.values?.length||0);return T!==0?T:BT(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Ih.mapValue&&c===Ih.mapValue)return 0;if(u===Ih.mapValue)return 1;if(c===Ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=bp(p[T],v[T]);if(S!==0)return S;const I=rl(m[p[T]],g[v[T]]);if(I!==0)return I}return et(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function jT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return et(r,e);const n=Za(r),a=Za(e),o=et(n.seconds,a.seconds);return o!==0?o:et(n.nanos,a.nanos)}function BT(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=rl(n[o],a[o]);if(u)return u}return et(n.length,a.length)}function il(r){return Sp(r)}function Sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Za(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return De.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Sp(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of a)u?u=!1:o+=",",o+=`${c}:${Sp(n.fields[c])}`;return o+"}"})(r.mapValue):Me(61005,{value:r})}function qh(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Of(r);return e?16+qh(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+qh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ss(a.fields,((u,c)=>{o+=u.length+qh(c)})),o})(r.mapValue);default:throw Me(13486,{value:r})}}function HT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wp(r){return!!r&&"integerValue"in r}function pg(r){return!!r&&"arrayValue"in r}function qT(r){return!!r&&"nullValue"in r}function FT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fh(r){return!!r&&"mapValue"in r}function bO(r){return(r?.mapValue?.fields||{})[pS]?.stringValue===gS}function wu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ss(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=wu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(r.arrayValue.values[n]);return e}return{...r}}function SO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===TO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=Tn.emptyPath(),a={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}c?a[m.lastSegment()]=wu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ss(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Zn(wu(this.value))}}function yS(r){const e=[];return ss(r.fields,((n,a)=>{const o=new Tn([n]);if(Fh(a)){const u=yS(a.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,a,o,u,c,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Dn(e,0,Ue.min(),Ue.min(),Ue.min(),Zn.empty(),0)}static newFoundDocument(e,n,a,o){return new Dn(e,1,n,Ue.min(),a,o,0)}static newNoDocument(e,n){return new Dn(e,2,n,Ue.min(),Ue.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Ue.min(),Ue.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.position=e,this.inclusive=n}}function GT(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],c=r.position[o];if(u.field.isKeyField()?a=De.comparator(De.fromName(c.referenceValue),n.key):a=rl(c,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function KT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!bi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function wO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class an extends _S{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new RO(e,n,a):n==="array-contains"?new DO(e,a):n==="in"?new NO(e,a):n==="not-in"?new OO(e,a):n==="array-contains-any"?new xO(e,a):new an(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new CO(e,a):new IO(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $r(e,n)}matches(e){return vS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vS(r){return r.op==="and"}function ES(r){return AO(r)&&vS(r)}function AO(r){for(const e of r.filters)if(e instanceof $r)return!1;return!0}function Ap(r){if(r instanceof an)return r.field.canonicalString()+r.op.toString()+il(r.value);if(ES(r))return r.filters.map((e=>Ap(e))).join(",");{const e=r.filters.map((n=>Ap(n))).join(",");return`${r.op}(${e})`}}function TS(r,e){return r instanceof an?(function(a,o){return o instanceof an&&a.op===o.op&&a.field.isEqual(o.field)&&bi(a.value,o.value)})(r,e):r instanceof $r?(function(a,o){return o instanceof $r&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,c,m)=>u&&TS(c,o.filters[m])),!0):!1})(r,e):void Me(19439)}function bS(r){return r instanceof an?(function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`})(r):r instanceof $r?(function(n){return n.op.toString()+" {"+n.getFilters().map(bS).join(" ,")+"}"})(r):"Filter"}class RO extends an{constructor(e,n,a){super(e,n,a),this.key=De.fromName(a.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class CO extends an{constructor(e,n){super(e,"in",n),this.keys=SS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IO extends an{constructor(e,n){super(e,"not-in",n),this.keys=SS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function SS(r,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class DO extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pg(n)&&ku(n.arrayValue,this.value)}}class NO extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ku(this.value.arrayValue,n)}}class OO extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ku(this.value.arrayValue,n)}}class xO extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>ku(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n=null,a=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function QT(r,e=null,n=[],a=[],o=null,u=null,c=null){return new MO(r,e,n,a,o,u,c)}function gg(r){const e=He(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Ap(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>il(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>il(a))).join(",")),e.Te=n}return e.Te}function yg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!wO(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!TS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!KT(r.startAt,e.startAt)&&KT(r.endAt,e.endAt)}function Rp(r){return De.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n=null,a=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VO(r,e,n,a,o,u,c,m){return new dl(r,e,n,a,o,u,c,m)}function wS(r){return new dl(r)}function YT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AS(r){return r.collectionGroup!==null}function Au(r){const e=He(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new un(Tn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new zu(u,a))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new zu(Tn.keyField(),a))}return e.Ie}function _i(r){const e=He(r);return e.Ee||(e.Ee=PO(e,Au(r))),e.Ee}function PO(r,e){if(r.limitType==="F")return QT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new zu(o.field,u)}));const n=r.endAt?new cf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new cf(r.startAt.position,r.startAt.inclusive):null;return QT(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Cp(r,e){const n=r.filters.concat([e]);return new dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ip(r,e,n){return new dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function xf(r,e){return yg(_i(r),_i(e))&&r.limitType===e.limitType}function RS(r){return`${gg(_i(r))}|lt:${r.limitType}`}function Ho(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>bS(o))).join(", ")}]`),Nf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>il(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>il(o))).join(",")),`Target(${a})`})(_i(r))}; limitType=${r.limitType})`}function Mf(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):De.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of Au(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(c,m,p){const g=GT(c,m,p);return c.inclusive?g<=0:g<0})(a.startAt,Au(a),o)||a.endAt&&!(function(c,m,p){const g=GT(c,m,p);return c.inclusive?g>=0:g>0})(a.endAt,Au(a),o))})(r,e)}function LO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CS(r){return(e,n)=>{let a=!1;for(const o of Au(r)){const u=UO(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function UO(r,e,n){const a=r.field.isKeyField()?De.comparator(e.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?rl(p,g):Me(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Me(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Vt(De.comparator);function Wi(){return kO}const IS=new Vt(De.comparator);function Eu(...r){let e=IS;for(const n of r)e=e.insert(n.key,n);return e}function DS(r){let e=IS;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function zs(){return Ru()}function NS(){return Ru()}function Ru(){return new Ws((r=>r.toString()),((r,e)=>r.isEqual(e)))}const zO=new Vt(De.comparator),jO=new un(De.comparator);function tt(...r){let e=jO;for(const n of r)e=e.add(n);return e}const BO=new un(et);function HO(){return BO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function OS(r){return{integerValue:""+r}}function qO(r,e){return gO(e)?OS(e):_g(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function FO(r,e,n){return r instanceof hf?(function(o,u){const c={fields:{[fS]:{stringValue:hS},[mS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mg(u)&&(u=Of(u)),u&&(c.fields[dS]=u),{mapValue:c}})(n,e):r instanceof ju?MS(r,e):r instanceof Bu?VS(r,e):(function(o,u){const c=xS(o,u),m=$T(c)+$T(o.Ae);return wp(c)&&wp(o.Ae)?OS(m):_g(o.serializer,m)})(r,e)}function GO(r,e,n){return r instanceof ju?MS(r,e):r instanceof Bu?VS(r,e):n}function xS(r,e){return r instanceof ff?(function(a){return wp(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class hf extends Vf{}class ju extends Vf{constructor(e){super(),this.elements=e}}function MS(r,e){const n=PS(e);for(const a of r.elements)n.some((o=>bi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Bu extends Vf{constructor(e){super(),this.elements=e}}function VS(r,e){let n=PS(e);for(const a of r.elements)n=n.filter((o=>!bi(o,a)));return{arrayValue:{values:n}}}class ff extends Vf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $T(r){return $t(r.integerValue||r.doubleValue)}function PS(r){return pg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KO(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof ju&&o instanceof ju||a instanceof Bu&&o instanceof Bu?nl(a.elements,o.elements,bi):a instanceof ff&&o instanceof ff?bi(a.Ae,o.Ae):a instanceof hf&&o instanceof hf})(r.transform,e.transform)}class QO{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Pf{}function LS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vg(r.key,Qr.none()):new Xu(r.key,r.data,Qr.none());{const n=r.data,a=Zn.empty();let o=new un(Tn.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?a.delete(u):a.set(u,c),o=o.add(u)}return new os(r.key,a,new fr(o.toArray()),Qr.none())}}function YO(r,e,n){r instanceof Xu?(function(o,u,c){const m=o.value.clone(),p=WT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,n):r instanceof os?(function(o,u,c){if(!Gh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=WT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(US(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Cu(r,e,n,a){return r instanceof Xu?(function(u,c,m,p){if(!Gh(u.precondition,c))return m;const g=u.value.clone(),v=JT(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof os?(function(u,c,m,p){if(!Gh(u.precondition,c))return m;const g=JT(u.fieldTransforms,p,c),v=c.data;return v.setAll(US(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,a):(function(u,c,m){return Gh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(r,e,n)}function $O(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=xS(a.transform,o||null);u!=null&&(n===null&&(n=Zn.empty()),n.set(a.field,u))}return n||null}function XT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&nl(a,o,((u,c)=>KO(u,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xu extends Pf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends Pf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function US(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function WT(r,e,n){const a=new Map;ct(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],c=u.transform,m=e.data.field(u.field);a.set(u.field,GO(c,m,n[o]))}return a}function JT(r,e,n){const a=new Map;for(const o of r){const u=o.transform,c=n.data.field(o.field);a.set(o.field,FO(u,c,e))}return a}class vg extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XO extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&YO(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Cu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Cu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=NS();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=LS(c,m);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ue.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((n,a)=>XT(n,a)))&&nl(this.baseMutations,e.baseMutations,((n,a)=>XT(n,a)))}}class Eg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){ct(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return zO})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,a[c].version);return new Eg(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,rt;function ex(r){switch(r){case se.OK:return Me(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Me(15467,{code:r})}}function kS(r){if(r===void 0)return Xi("GRPC error has no .code"),se.UNKNOWN;switch(r){case rn.OK:return se.OK;case rn.CANCELLED:return se.CANCELLED;case rn.UNKNOWN:return se.UNKNOWN;case rn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case rn.INTERNAL:return se.INTERNAL;case rn.UNAVAILABLE:return se.UNAVAILABLE;case rn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case rn.NOT_FOUND:return se.NOT_FOUND;case rn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case rn.ABORTED:return se.ABORTED;case rn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case rn.DATA_LOSS:return se.DATA_LOSS;default:return Me(39323,{code:r})}}(rt=rn||(rn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Qa([4294967295,4294967295],0);function ZT(r){const e=tx().encode(r),n=new Jb;return n.update(e),new Uint8Array(n.digest())}function e0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qa([n,a],0),new Qa([o,u],0)]}class Tg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Tu(`Invalid padding: ${n}`);if(a<0)throw new Tu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qa.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Qa.fromNumber(a)));return o.compare(nx)===1&&(o=new Qa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZT(e),[a,o]=e0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);if(!this.we(c))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Tg(u,o,n);return a.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=ZT(e),[a,o]=e0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Lf(Ue.min(),o,new Vt(et),Wi(),tt())}}class Wu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Wu(a,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class zS{constructor(e,n){this.targetId=e,this.Ce=n}}class jS{constructor(e,n,a=bn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class t0{constructor(){this.ve=0,this.Fe=n0(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),a=tt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Me(38017,{changeType:u})}})),new Wu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=n0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wi(),this.Je=Dh(),this.He=Dh(),this.Ye=new Vt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rp(u))if(a===0){const c=new De(u.path);this.et(n,c,Dn.newNoDocument(c,Ue.min()))}else ct(a===1,20013,{expectedCount:a});else{const c=this._t(n);if(c!==a){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=es(a).toUint8Array()}catch(p){if(p instanceof cS)return tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Tg(c,o,u)}catch(p){return tl(p instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Rp(m.target)){const p=new De(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Dn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let a=tt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Lf(e,n,this.Ye,this.je,a);return this.je=Wi(),this.Je=Dh(),this.He=Dh(),this.Ye=new Vt(et),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new Vt(De.comparator)}function n0(){return new Vt(De.comparator)}const ix={asc:"ASCENDING",desc:"DESCENDING"},ax={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sx={and:"AND",or:"OR"};class ox{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(r,e){return r.useProto3Json||Nf(e)?e:{value:e}}function df(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function lx(r,e){return df(r,e.toTimestamp())}function vi(r){return ct(!!r,49232),Ue.fromTimestamp((function(n){const a=Za(n);return new At(a.seconds,a.nanos)})(r))}function bg(r,e){return Np(r,e).canonicalString()}function Np(r,e){const n=(function(o){return new bt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function HS(r){const e=bt.fromString(r);return ct(QS(e),10190,{key:e.toString()}),e}function Op(r,e){return bg(r.databaseId,e.path)}function rp(r,e){const n=HS(e);if(n.get(1)!==r.databaseId.projectId)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new De(FS(n))}function qS(r,e){return bg(r.databaseId,e)}function ux(r){const e=HS(r);return e.length===4?bt.emptyPath():FS(e)}function xp(r){return new bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FS(r){return ct(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function r0(r,e,n){return{name:Op(r,e),fields:n.value.mapValue.fields}}function cx(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Me(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ct(v===void 0||typeof v=="string",58123),bn.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),bn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?se.UNKNOWN:kS(g.code);return new _e(v,g.message||"")})(c);n=new jS(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=rp(r,a.document.name),u=vi(a.document.updateTime),c=a.document.createTime?vi(a.document.createTime):Ue.min(),m=new Zn({mapValue:{fields:a.document.fields}}),p=Dn.newFoundDocument(o,u,c,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new Kh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=rp(r,a.document),u=a.readTime?vi(a.readTime):Ue.min(),c=Dn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Kh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=rp(r,a.document),u=a.removedTargetIds||[];n=new Kh([],u,o,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,c=new ZO(o,u),m=a.targetId;n=new zS(m,c)}}return n}function hx(r,e){let n;if(e instanceof Xu)n={update:r0(r,e.key,e.value)};else if(e instanceof vg)n={delete:Op(r,e.key)};else if(e instanceof os)n={update:r0(r,e.key,e.data),updateMask:Ex(e.fieldMask)};else{if(!(e instanceof XO))return Me(16599,{Vt:e.type});n={verify:Op(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,c){const m=c.transform;if(m instanceof hf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ff)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Me(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:lx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Me(27497)})(r,e.precondition)),n}function fx(r,e){return r&&r.length>0?(ct(e!==void 0,14353),r.map((n=>(function(o,u){let c=o.updateTime?vi(o.updateTime):vi(u);return c.isEqual(Ue.min())&&(c=vi(u)),new QO(c,o.transformResults||[])})(n,e)))):[]}function dx(r,e){return{documents:[qS(r,e.path)]}}function mx(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=qS(r,o);const u=(function(g){if(g.length!==0)return KS($r.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:qo(S.field),direction:yx(S.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Dp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function px(r){let e=ux(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){ct(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const S=GS(T);return S instanceof $r&&ES(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(k){return new zu(Fo(k.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Nf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,I=T.values||[];return new cf(I,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,I=T.values||[];return new cf(I,S)})(n.endAt)),VO(e,o,c,u,m,"F",p,g)}function gx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Fo(n.unaryFilter.field);return an.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Fo(n.unaryFilter.field);return an.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fo(n.unaryFilter.field);return an.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Fo(n.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(r):r.fieldFilter!==void 0?(function(n){return an.create(Fo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return $r.create(n.compositeFilter.filters.map((a=>GS(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(r):Me(30097,{filter:r})}function yx(r){return ix[r]}function _x(r){return ax[r]}function vx(r){return sx[r]}function qo(r){return{fieldPath:r.canonicalString()}}function Fo(r){return Tn.fromServerFormat(r.fieldPath)}function KS(r){return r instanceof an?(function(n){if(n.op==="=="){if(FT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(qT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(qT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:_x(n.op),value:n.value}}})(r):r instanceof $r?(function(n){const a=n.getFilters().map((o=>KS(o)));return a.length===1?a[0]:{compositeFilter:{op:vx(n.op),filters:a}}})(r):Me(54877,{filter:r})}function Ex(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,a,o,u=Ue.min(),c=Ue.min(),m=bn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.yt=e}}function bx(r){const e=px({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.Cn=new wx}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ja.min())}updateCollectionGroup(e,n,a){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class wx{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new un(bt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new un(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YS=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(YS,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LruGarbageCollector",Ax=1048576;function s0([r,e],[n,a]){const o=et(r,n);return o===0?et(e,a):o}class Rx{constructor(e){this.Ir=e,this.buffer=new un(s0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();s0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Cx{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(a0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?Ee(a0,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Vr(3e5)}))}}class Ix{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Df.ce);const a=new Rx(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(i0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,m=Date.now(),this.removeTargets(e,a,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(g=Date.now(),Bo()<=Ze.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Dx(r,e){return new Ix(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.changes=new Ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?oe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Cu(a.mutation,o,fr.empty(),At.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,tt()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=tt()){const o=zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let c=Eu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=zs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,tt())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,a,o){let u=Wi();const c=Ru(),m=(function(){return Ru()})();return n.forEach(((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof os)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Cu(v.mutation,g,v.mutation.getFieldMask(),At.now())):c.set(g.key,fr.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>m.set(g,new Ox(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Ru();let o=new Vt(((c,m)=>c-m)),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||fr.empty();v=m.applyToLocalView(g,v),a.set(p,v);const T=(o.get(m.batchId)||tt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=NS();v.forEach((S=>{if(!u.has(S)){const I=LS(n.get(S),a.get(S));I!==null&&T.set(S,I),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return oe.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):oe.resolve(zs());let m=Pu,p=u;return c.next((g=>oe.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,tt()))).next((v=>({batchId:m,changes:DS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((a=>{let o=Eu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let c=Eu();return this.indexManager.getCollectionParents(e,u).next((m=>oe.forEach(m,(p=>{const g=(function(T,S){return new dl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((v=>{v.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Dn.newInvalidDocument(v)))}));let m=Eu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Cu(v.mutation,g,fr.empty(),At.now()),Mf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:bx(o.bundledQuery),readTime:vi(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.overlays=new Vt(De.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=zs();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),oe.resolve()}getOverlaysForCollection(e,n,a){const o=zs(),u=n.length+1,c=new De(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Vt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=zs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return oe.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new JO(n,a));let u=this.qr.get(n);u===void 0&&(u=tt(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.Qr=new un(mn.$r),this.Ur=new un(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new mn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new De(new bt([])),a=new mn(n,e),o=new mn(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new bt([])),a=new mn(n,e),o=new mn(n,e+1);let u=tt();return this.Ur.forEachInRange([a,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new mn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(mn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WO(u,n,a,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new mn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?dg:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new mn(n,0),o=new mn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new un(et);return n.forEach((o=>{const u=new mn(o,0),c=new mn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{a=a.add(m.Yr)}))})),oe.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;De.isDocumentKey(u)||(u=u.child(""));const c=new mn(new De(u),0);let m=new un(et);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),oe.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return oe.forEach(n.mutations,(o=>{const u=new mn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new mn(n,0),o=this.Zr.firstAfterOrEqual(a);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.ri=e,this.docs=(function(){return new Vt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return oe.resolve(a?a.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let a=Wi();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Dn.newInvalidDocument(o))})),oe.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Wi();const c=n.path,m=new De(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||fO(hO(v),a)<=0||(o.has(v.key)||Mf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Me(9500)}ii(e,n){return oe.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new kx(this)}getSize(e){return oe.resolve(this.size)}}class kx extends Nx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.persistence=e,this.si=new Ws((n=>gg(n)),yg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Sg,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return oe.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),oe.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return oe.resolve(a)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new Px,this.referenceDelegate=e(this),this.Pi=new zx(this),this.indexManager=new Sx,this.remoteDocumentCache=(function(o){return new Ux(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Tx(n),this.Ii=new Mx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new Lx(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){Ee("MemoryPersistence","Starting transaction:",e);const o=new jx(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return oe.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class jx extends mO{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ri=new Sg,this.Vi=null}static mi(e){return new wg(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),oe.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(a=>{const o=De.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mf{constructor(e,n){this.persistence=e,this.pi=new Ws((a=>yO(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Dx(this,n)}static mi(e,n){return new mf(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(a++,u.removeEntry(c,Ue.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qh(e.data.value)),n}br(e,n,a){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return oe.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=tt(),o=tt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ag(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gI()?8:pO(Nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new Bx;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Bo()<=Ze.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Bo()<=Ze.DEBUG&&Ee("QueryEngine","Query:",Ho(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Bo()<=Ze.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):oe.resolve())}ys(e,n){if(YT(n))return oe.resolve(null);let a=_i(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ip(n,null,"F"),a=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const c=tt(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,Ip(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,o){return YT(n)||o.isEqual(Ue.min())?oe.resolve(null):this.ps.getDocuments(e,a).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,a,o)?oe.resolve(null):(Bo()<=Ze.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ho(n)),this.vs(e,c,n,cO(o,Pu)).next((m=>m)))}))}Ds(e,n){let a=new un(CS(e));return n.forEach(((o,u)=>{Mf(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Bo()<=Ze.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Ja.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",qx=3e8;class Fx{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Vt(et),this.xs=new Ws((u=>gg(u)),yg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Gx(r,e,n,a){return new Fx(r,e,n,a)}async function XS(r,e){const n=He(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const c=[],m=[];let p=tt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function Kx(r,e){const n=He(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,S=T.keys();let I=oe.resolve();return S.forEach((k=>{I=I.next((()=>v.getEntry(p,k))).next((G=>{const U=g.docVersions.get(k);ct(U!==null,48541),G.version.compareTo(U)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=tt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function WS(r){const e=He(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Qx(r,e){const n=He(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let I=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(bn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,a)),o=o.insert(T,I),(function(G,U,Z){return G.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=qx?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,I,v)&&m.push(n.Pi.updateTargetData(u,I))}));let p=Wi(),g=tt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(Yx(u,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!a.isEqual(Ue.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(v)}return oe.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function Yx(r,e,n){let a=tt(),o=tt();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let c=Wi();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ue.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):Ee(Rg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function $x(r,e){const n=He(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=dg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Xx(r,e){const n=He(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,oe.resolve(o)):n.Pi.allocateTargetId(a).next((c=>(o=new qa(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Mp(r,e,n){const a=He(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!fl(c))throw c;Ee(Rg,`Failed to update sequence numbers for target ${e}: ${c}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function o0(r,e,n){const a=He(r);let o=Ue.min(),u=tt();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=He(p),S=T.xs.get(v);return S!==void 0?oe.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,v)})(a,c,_i(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(c,e,n?o:Ue.min(),n?u:tt()))).next((m=>(Wx(a,LO(e),m),{documents:m,Qs:u})))))}function Wx(r,e,n){let a=r.Os.get(e)||Ue.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class l0{constructor(){this.activeTargetIds=HO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jx{constructor(){this.Mo=new l0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="ConnectivityMonitor";class c0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(u0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(u0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Vp(){return Nh===null?Nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",eM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===lf?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const c=Vp(),m=this.zo(e,n.toUriEncodedString());Ee(ip,`Sending RPC '${e}' ${c}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=as(g);return this.Jo(e,m,p,a,v).then((T=>(Ee(ip,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw tl(ip,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",a),T}))}Ho(e,n,a,o,u,c){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=eM[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class rM extends tM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const c=Vp();return new Promise(((m,p)=>{const g=new Zb;g.setWithCredentials(!0),g.listenOnce(eS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Hh.NO_ERROR:const T=g.getResponseJson();Ee(Cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Hh.TIMEOUT:Ee(Cn,`RPC '${e}' ${c} timed out`),p(new _e(se.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const S=g.getStatus();if(Ee(Cn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I?.error;if(k&&k.status&&k.message){const G=(function(Z){const ee=Z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(ee)>=0?ee:se.UNKNOWN})(k.status);p(new _e(G,k.message))}else p(new _e(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _e(se.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ee(Cn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);Ee(Cn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",v,a,15)}))}T_(e,n,a){const o=Vp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rS(),m=nS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=u.join("");Ee(Cn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let S=!1,I=!1;const k=new nM({Yo:U=>{I?Ee(Cn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(Ee(Cn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),Ee(Cn,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),G=(U,Z,ee)=>{U.listen(Z,(te=>{try{ee(te)}catch(de){setTimeout((()=>{throw de}),0)}}))};return G(T,vu.EventType.OPEN,(()=>{I||(Ee(Cn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),G(T,vu.EventType.CLOSE,(()=>{I||(I=!0,Ee(Cn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(T))})),G(T,vu.EventType.ERROR,(U=>{I||(I=!0,tl(Cn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),k.a_(new _e(se.UNAVAILABLE,"The operation could not be completed")))})),G(T,vu.EventType.MESSAGE,(U=>{if(!I){const Z=U.data[0];ct(!!Z,16349);const ee=Z,te=ee?.error||ee[0]?.error;if(te){Ee(Cn,`RPC '${e}' stream ${o} received error:`,te);const de=te.status;let me=(function(A){const C=rn[A];if(C!==void 0)return kS(C)})(de),H=te.message;me===void 0&&(me=se.INTERNAL,H="Unknown error status: "+de+" with message "+te.message),I=!0,k.a_(new _e(me,H)),T.close()}else Ee(Cn,`RPC '${e}' stream ${o} received:`,Z),k.u_(Z)}})),G(m,tS.STAT_EVENT,(U=>{U.stat===Tp.PROXY?Ee(Cn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Tp.NOPROXY&&Ee(Cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r){return new ox(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="PersistentStream";class ZS{constructor(e,n,a,o,u,c,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new _e(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(h0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iM extends ZS{constructor(e,n,a,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cx(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ue.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?vi(c.readTime):Ue.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=xp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=Rp(p)?{documents:dx(u,p)}:{query:mx(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=BS(u,c.resumeToken);const g=Dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ue.min())>0){m.readTime=df(u,c.snapshotVersion.toTimestamp());const g=Dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=gx(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.q_(n)}}class aM extends ZS{constructor(e,n,a,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fx(e.writeResults,e.commitTime),a=vi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=xp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>hx(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{}class oM extends sM{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Np(n,a),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(se.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,Np(n,a),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class uM{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{a.enqueueAndForget((async()=>{Js(this)&&(Ee(Ks,"Restarting streams for network reachability change."),await(async function(p){const g=He(p);g.Ea.add(4),await Ju(g),g.Ra.set("Unknown"),g.Ea.delete(4),await kf(g)})(this))}))})),this.Ra=new lM(a,o)}}async function kf(r){if(Js(r))for(const e of r.da)await e(!0)}async function Ju(r){for(const e of r.da)await e(!1)}function ew(r,e){const n=He(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ng(n)?Dg(n):ml(n).O_()&&Ig(n,e))}function Cg(r,e){const n=He(r),a=ml(n);n.Ia.delete(e),a.O_()&&tw(n,e),n.Ia.size===0&&(a.O_()?a.L_():Js(n)&&n.Ra.set("Unknown"))}function Ig(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ml(r).Y_(e)}function tw(r,e){r.Va.Ue(e),ml(r).Z_(e)}function Dg(r){r.Va=new rx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ml(r).start(),r.Ra.ua()}function Ng(r){return Js(r)&&!ml(r).x_()&&r.Ia.size>0}function Js(r){return He(r).Ea.size===0}function nw(r){r.Va=void 0}async function cM(r){r.Ra.set("Online")}async function hM(r){r.Ia.forEach(((e,n)=>{Ig(r,e)}))}async function fM(r,e){nw(r),Ng(r)?(r.Ra.ha(e),Dg(r)):r.Ra.set("Unknown")}async function dM(r,e,n){if(r.Ra.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){Ee(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await pf(r,a)}else if(e instanceof Kh?r.Va.Ze(e):e instanceof zS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ue.min()))try{const a=await WS(r.localStore);n.compareTo(a)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(bn.EMPTY_BYTE_STRING,v.snapshotVersion)),tw(u,p);const T=new qa(v.target,p,g,v.sequenceNumber);Ig(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){Ee(Ks,"Failed to raise snapshot:",a),await pf(r,a)}}async function pf(r,e,n){if(!fl(e))throw e;r.Ea.add(1),await Ju(r),r.Ra.set("Offline"),n||(n=()=>WS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ee(Ks,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kf(r)}))}function rw(r,e){return e().catch((n=>pf(r,n,e)))}async function zf(r){const e=He(r),n=ns(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dg;for(;mM(e);)try{const o=await $x(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,pM(e,o)}catch(o){await pf(e,o)}iw(e)&&aw(e)}function mM(r){return Js(r)&&r.Ta.length<10}function pM(r,e){r.Ta.push(e);const n=ns(r);n.O_()&&n.X_&&n.ea(e.mutations)}function iw(r){return Js(r)&&!ns(r).x_()&&r.Ta.length>0}function aw(r){ns(r).start()}async function gM(r){ns(r).ra()}async function yM(r){const e=ns(r);for(const n of r.Ta)e.ea(n.mutations)}async function _M(r,e,n){const a=r.Ta.shift(),o=Eg.from(a,e,n);await rw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await zf(r)}async function vM(r,e){e&&ns(r).X_&&await(async function(a,o){if((function(c){return ex(c)&&c!==se.ABORTED})(o.code)){const u=a.Ta.shift();ns(a).B_(),await rw(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zf(a)}})(r,e),iw(r)&&aw(r)}async function f0(r,e){const n=He(r);n.asyncQueue.verifyOperationInProgress(),Ee(Ks,"RemoteStore received new credentials");const a=Js(n);n.Ea.add(3),await Ju(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kf(n)}async function EM(r,e){const n=He(r);e?(n.Ea.delete(2),await kf(n)):e||(n.Ea.add(2),await Ju(n),n.Ra.set("Unknown"))}function ml(r){return r.ma||(r.ma=(function(n,a,o){const u=He(n);return u.sa(),new iM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:cM.bind(null,r),t_:hM.bind(null,r),r_:fM.bind(null,r),H_:dM.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ng(r)?Dg(r):r.Ra.set("Unknown")):(await r.ma.stop(),nw(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,a,o){const u=He(n);return u.sa(),new aM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:gM.bind(null,r),r_:vM.bind(null,r),ta:yM.bind(null,r),na:_M.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await zf(r)):(await r.fa.stop(),r.Ta.length>0&&(Ee(Ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const c=Date.now()+a,m=new Og(e,n,c,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(r,e){if(Xi("AsyncQueue",`${e}: ${r}`),fl(r))return new _e(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||De.comparator(n.key,a.key):(n,a)=>De.comparator(n.key,a.key),this.keyedMap=Eu(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Xo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.ga=new Vt(De.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class sl{constructor(e,n,a,o,u,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new sl(e,n,Xo.emptySet(n),c,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bM{constructor(){this.queries=m0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=He(n),u=o.queries;o.queries=m0(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new _e(se.ABORTED,"Firestore shutting down"))}}function m0(){return new Ws((r=>RS(r)),xf)}async function SM(r,e){const n=He(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new TM,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=xg(c,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Mg(n)}async function wM(r,e){const n=He(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function AM(r,e){const n=He(r);let a=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(a=!0);c.wa=o}}a&&Mg(n)}function RM(r,e,n){const a=He(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Mg(r){r.Ca.forEach((e=>{e.next()}))}var Pp,p0;(p0=Pp||(Pp={})).Ma="default",p0.Cache="cache";class CM{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new sl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.key=e}}class ow{constructor(e){this.key=e}}class IM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=CS(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new d0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const S=o.get(v),I=Mf(this.query,T)?T:null,k=!!S&&this.mutatedKeys.has(S.key),G=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;S&&I?S.data.isEqual(I.data)?k!==G&&(a.track({type:3,doc:I}),U=!0):this.su(S,I)||(a.track({type:2,doc:I}),U=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!S&&I?(a.track({type:0,doc:I}),U=!0):S&&!I&&(a.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(I?(c=c.add(I),u=G?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{tu:c,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(I,k){const G=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:U})}};return G(I)-G(k)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new sl(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new ow(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new sw(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vg="SyncEngine";class DM{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class NM{constructor(e){this.key=e,this.hu=!1}}class OM{constructor(e,n,a,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ws((m=>RS(m)),xf),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(De.comparator),this.Au=new Map,this.Ru=new Sg,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xM(r,e,n=!0){const a=dw(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await lw(a,e,n,!0),o}async function MM(r,e){const n=dw(r);await lw(n,e,!0,!1)}async function lw(r,e,n,a){const o=await Xx(r.localStore,_i(e)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await VM(r,e,u,c==="current",o.resumeToken)),r.isPrimaryClient&&n&&ew(r.remoteStore,o),m}async function VM(r,e,n,a,o){r.pu=(T,S,I)=>(async function(G,U,Z,ee){let te=U.view.ru(Z);te.Cs&&(te=await o0(G.localStore,U.query,!1).then((({documents:D})=>U.view.ru(D,te))));const de=ee&&ee.targetChanges.get(U.targetId),me=ee&&ee.targetMismatches.get(U.targetId)!=null,H=U.view.applyChanges(te,G.isPrimaryClient,de,me);return y0(G,U.targetId,H.au),H.snapshot})(r,T,S,I);const u=await o0(r.localStore,e,!0),c=new IM(e,u.Qs),m=c.ru(u.documents),p=Wu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=c.applyChanges(m,r.isPrimaryClient,p);y0(r,n,g.au);const v=new DM(e,n,c);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function PM(r,e,n){const a=He(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((c=>!xf(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Mp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Cg(a.remoteStore,o.targetId),Lp(a,o.targetId)})).catch(hl)):(Lp(a,o.targetId),await Mp(a.localStore,o.targetId,!0))}async function LM(r,e){const n=He(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Cg(n.remoteStore,a.targetId))}async function UM(r,e,n){const a=FM(r);try{const o=await(function(c,m){const p=He(c),g=At.now(),v=m.reduce(((I,k)=>I.add(k.key)),tt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let k=Wi(),G=tt();return p.Ns.getEntries(I,v).next((U=>{k=U,k.forEach(((Z,ee)=>{ee.isValidDocument()||(G=G.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,k))).next((U=>{T=U;const Z=[];for(const ee of m){const te=$O(ee,T.get(ee.key).overlayedDocument);te!=null&&Z.push(new os(ee.key,te,yS(te.value.mapValue),Qr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,Z,m)})).next((U=>{S=U;const Z=U.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(I,U.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:DS(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new Vt(et)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(a,o.batchId,n),await Zu(a,o.changes),await zf(a.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");n.reject(u)}}async function uw(r,e){const n=He(r);try{const a=await Qx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ct(c.hu,14607):o.removedDocuments.size>0&&(ct(c.hu,42227),c.hu=!1))})),await Zu(n,a,e)}catch(a){await hl(a)}}function g0(r,e,n){const a=He(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=He(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&Mg(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function kM(r,e,n){const a=He(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let c=new Vt(De.comparator);c=c.insert(u,Dn.newNoDocument(u,Ue.min()));const m=tt().add(u),p=new Lf(Ue.min(),new Map,new Vt(et),c,m);await uw(a,p),a.du=a.du.remove(u),a.Au.delete(e),Pg(a)}else await Mp(a.localStore,e,!1).then((()=>Lp(a,e,n))).catch(hl)}async function zM(r,e){const n=He(r),a=e.batch.batchId;try{const o=await Kx(n.localStore,e);hw(n,a,null),cw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Zu(n,o)}catch(o){await hl(o)}}async function jM(r,e,n){const a=He(r);try{const o=await(function(c,m){const p=He(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(ct(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(a.localStore,e);hw(a,e,n),cw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Zu(a,o)}catch(o){await hl(o)}}function cw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function hw(r,e,n){const a=He(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Lp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||fw(r,a)}))}function fw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Cg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Pg(r))}function y0(r,e,n){for(const a of n)a instanceof sw?(r.Ru.addReference(a.key,e),BM(r,a)):a instanceof ow?(Ee(Vg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||fw(r,a.key)):Me(19791,{wu:a})}function BM(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(Ee(Vg,"New document in limbo: "+n),r.Eu.add(a),Pg(r))}function Pg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new De(bt.fromString(e)),a=r.fu.next();r.Au.set(a,new NM(n)),r.du=r.du.insert(n,a),ew(r.remoteStore,new qa(_i(wS(n.path)),a,"TargetPurposeLimboResolution",Df.ce))}}async function Zu(r,e,n){const a=He(r),o=[],u=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{c.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Ag.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),a.Pu.H_(o),await(async function(p,g){const v=He(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>oe.forEach(g,(S=>oe.forEach(S.Es,(I=>v.persistence.referenceDelegate.addReference(T,S.targetId,I))).next((()=>oe.forEach(S.ds,(I=>v.persistence.referenceDelegate.removeReference(T,S.targetId,I)))))))))}catch(T){if(!fl(T))throw T;Ee(Rg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const I=v.Ms.get(S),k=I.snapshotVersion,G=I.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(S,G)}}})(a.localStore,u))}async function HM(r,e){const n=He(r);if(!n.currentUser.isEqual(e)){Ee(Vg,"User change. New user:",e.toKey());const a=await XS(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new _e(se.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Zu(n,a.Ls)}}function qM(r,e){const n=He(r),a=n.Au.get(e);if(a&&a.hu)return tt().add(a.key);{let o=tt();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function dw(r){const e=He(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kM.bind(null,e),e.Pu.H_=AM.bind(null,e.eventManager),e.Pu.yu=RM.bind(null,e.eventManager),e}function FM(r){const e=He(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jM.bind(null,e),e}class gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Gx(this.persistence,new Hx,e.initialUser,this.serializer)}Cu(e){return new $S(wg.mi,this.serializer)}Du(e){return new Jx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gf.provider={build:()=>new gf};class GM extends gf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof mf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Cx(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new $S((a=>mf.mi(a,n)),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>g0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=HM.bind(null,this.syncEngine),await EM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bM})()}createDatastore(e){const n=Uf(e.databaseInfo.databaseId),a=(function(u){return new rM(u)})(e.databaseInfo);return(function(u,c,m,p){return new oM(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,c,m){return new uM(a,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>g0(this.syncEngine,n,0)),(function(){return c0.v()?new c0:new Zx})())}createSyncEngine(e,n){return(function(o,u,c,m,p,g,v){const T=new OM(o,u,c,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=He(n);Ee(Ks,"RemoteStore shutting down."),a.Ea.add(5),await Ju(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class QM{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=In.UNAUTHENTICATED,this.clientId=fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async c=>{Ee(rs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(Ee(rs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=xg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function sp(r,e){r.asyncQueue.verifyOperationInProgress(),Ee(rs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await XS(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function _0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await YM(r);Ee(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>f0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>f0(e.remoteStore,o))),r._onlineComponents=e}async function YM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ee(rs,"Using user provided OfflineComponentProvider");try{await sp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await sp(r,new gf)}}else Ee(rs,"Using default OfflineComponentProvider"),await sp(r,new GM(void 0));return r._offlineComponents}async function mw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ee(rs,"Using user provided OnlineComponentProvider"),await _0(r,r._uninitializedComponentsProvider._online)):(Ee(rs,"Using default OnlineComponentProvider"),await _0(r,new Up))),r._onlineComponents}function $M(r){return mw(r).then((e=>e.syncEngine))}async function XM(r){const e=await mw(r),n=e.eventManager;return n.onListen=xM.bind(null,e.syncEngine),n.onUnlisten=PM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LM.bind(null,e.syncEngine),n}function WM(r,e,n={}){const a=new Ya;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new KM({next:S=>{v.Nu(),c.enqueueAndForget((()=>wM(u,T))),S.fromCache&&p.source==="server"?g.reject(new _e(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new CM(m,v,{includeMetadataChanges:!0,qa:!0});return SM(u,T)})(await XM(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firestore.googleapis.com",E0=!0;class T0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gw,this.ssl=E0}else this.host=e.host,this.ssl=e.ssl??E0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ax)throw new _e(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Z2;switch(a.type){case"firstParty":return new rO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=v0.get(n);a&&(Ee("ComponentProvider","Removing Datastore"),v0.delete(n),a.terminate())})(this),Promise.resolve()}}function JM(r,e,n,a={}){r=Gs(r,jf);const o=as(e),u=r._getSettings(),c={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Jp(`https://${m}`),Zp("Firestore",!0)),u.host!==gw&&u.host!==m&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Bs(p,c)&&(r._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=In.MOCK_USER;else{g=db(a.mockUserToken,r._app?.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new _e(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new In(T)}r._authCredentials=new eO(new aS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class ln{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if($u(n,ln._jsonSchema))return new ln(e,a||null,new De(bt.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:sn("string",ln._jsonSchemaVersion),referencePath:sn("string")};class $a extends Zs{constructor(e,n,a){super(e,n,wS(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new De(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function Bf(r,e,...n){if(r=Mt(r),sS("collection","path",e),r instanceof jf){const a=bt.fromString(e,...n);return VT(a),new $a(r,null,a)}{if(!(r instanceof ln||r instanceof $a))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(bt.fromString(e,...n));return VT(a),new $a(r.firestore,null,a)}}function ec(r,e,...n){if(r=Mt(r),arguments.length===1&&(e=fg.newId()),sS("doc","path",e),r instanceof jf){const a=bt.fromString(e,...n);return MT(a),new ln(r,null,new De(a))}{if(!(r instanceof ln||r instanceof $a))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(bt.fromString(e,...n));return MT(a),new ln(r.firestore,r instanceof $a?r.converter:null,new De(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class S0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JS(this,"async_queue_retry"),this._c=()=>{const a=ap();a&&Ee(b0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ya;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;Ee(b0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",w0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Og.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Me(47125,{Pc:w0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function w0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class tc extends jf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new S0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S0(e),this._firestoreClient=void 0,await e}}}function ZM(r,e){const n=typeof r=="object"?r:ng(),a=typeof r=="string"?r:lf,o=Sf(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=cb("firestore");u&&JM(o,...u)}return o}function yw(r){if(r._terminated)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eV(r),r._firestoreClient}function eV(r){const e=r._freezeSettings(),n=(function(o,u,c,m){return new EO(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,pw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new QM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nr(bn.fromBase64String(e))}catch(n){throw new _e(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,Nr._jsonSchema))return Nr.fromBase64String(e.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:sn("string",Nr._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if($u(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:sn("string",Ei._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ti(e.vectorValues);throw new _e(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:sn("string",Ti._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=/^__.*__$/;class nV{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}class _w{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:r})}}class Ug{constructor(e,n,a,o,u,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vw(this.Ac)&&tV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rV{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Uf(e)}Cc(e,n,a,o=!1){return new Ug({Ac:e,methodName:n,Dc:a,path:Tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kg(r){const e=r._freezeSettings(),n=Uf(r._databaseId);return new rV(r._databaseId,!!e.ignoreUndefinedProperties,n)}function iV(r,e,n,a,o,u={}){const c=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);zg("Data must be an object, but it was:",c,a);const m=Ew(a,c);let p,g;if(u.merge)p=new fr(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=kp(e,T,n);if(!c.contains(S))throw new _e(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);bw(v,S)||v.push(S)}p=new fr(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new nV(new Zn(m),p,g)}class qf extends Lg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function aV(r,e,n,a){const o=r.Cc(1,e,n);zg("Data must be an object, but it was:",o,a);const u=[],c=Zn.empty();ss(a,((p,g)=>{const v=jg(e,p,n);g=Mt(g);const T=o.yc(v);if(g instanceof qf)u.push(v);else{const S=nc(g,T);S!=null&&(u.push(v),c.set(v,S))}}));const m=new fr(u);return new _w(c,m,o.fieldTransforms)}function sV(r,e,n,a,o,u){const c=r.Cc(1,e,n),m=[kp(e,a,n)],p=[o];if(u.length%2!=0)throw new _e(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(kp(e,u[S])),p.push(u[S+1]);const g=[],v=Zn.empty();for(let S=m.length-1;S>=0;--S)if(!bw(g,m[S])){const I=m[S];let k=p[S];k=Mt(k);const G=c.yc(I);if(k instanceof qf)g.push(I);else{const U=nc(k,G);U!=null&&(g.push(I),v.set(I,U))}}const T=new fr(g);return new _w(v,T,c.fieldTransforms)}function oV(r,e,n,a=!1){return nc(n,r.Cc(a?4:3,e))}function nc(r,e){if(Tw(r=Mt(r)))return zg("Unsupported field value:",e,r),Ew(r,e);if(r instanceof Lg)return(function(a,o){if(!vw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let c=0;for(const m of a){let p=nc(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Mt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return qO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=At.fromDate(a);return{timestampValue:df(o.serializer,u)}}if(a instanceof At){const u=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:df(o.serializer,u)}}if(a instanceof Ei)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Nr)return{bytesValue:BS(o.serializer,a._byteString)};if(a instanceof ln){const u=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ti)return(function(c,m){return{mapValue:{fields:{[pS]:{stringValue:gS},[uf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return _g(m.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${If(a)}`)})(r,e)}function Ew(r,e){const n={};return uS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(r,((a,o)=>{const u=nc(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function Tw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof At||r instanceof Ei||r instanceof Nr||r instanceof ln||r instanceof Lg||r instanceof Ti)}function zg(r,e,n){if(!Tw(n)||!oS(n)){const a=If(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function kp(r,e,n){if((e=Mt(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return jg(r,e);throw yf("Field path arguments must be of type string or ",r,!1,void 0,n)}const lV=new RegExp("[~\\*/\\[\\]]");function jg(r,e,n){if(e.search(lV)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Hf(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function yf(r,e,n,a,o){const u=a&&!a.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new _e(se.INVALID_ARGUMENT,m+r+p)}function bw(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uV extends Sw{data(){return super.data()}}function Bg(r,e){return typeof e=="string"?jg(r,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class ww extends Hg{}function hV(r,e,...n){let a=[];e instanceof Hg&&a.push(e),a=a.concat(n),(function(u){const c=u.filter((p=>p instanceof Fg)).length,m=u.filter((p=>p instanceof qg)).length;if(c>1||c>0&&m>0)throw new _e(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class qg extends ww{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new qg(e,n,a)}_apply(e){const n=this._parse(e);return Aw(e._query,n),new Zs(e.firestore,e.converter,Cp(e._query,n))}_parse(e){const n=kg(e.firestore);return(function(u,c,m,p,g,v,T){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){R0(T,v);const k=[];for(const G of T)k.push(A0(p,u,G));S={arrayValue:{values:k}}}else S=A0(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||R0(T,v),S=oV(m,c,T,v==="in"||v==="not-in");return an.create(g,v,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fg extends Hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)Aw(c,p),c=Cp(c,p)})(e._query,n),new Zs(e.firestore,e.converter,Cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends ww{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gg(e,n)}_apply(e){const n=(function(o,u,c){if(o.startAt!==null)throw new _e(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zu(u,c)})(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new dl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function fV(r,e="asc"){const n=e,a=Bg("orderBy",r);return Gg._create(a,n)}function A0(r,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new _e(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AS(e)&&n.indexOf("/")!==-1)throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(bt.fromString(n));if(!De.isDocumentKey(a))throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return HT(r,new De(a))}if(n instanceof ln)return HT(r,n._key);throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(n)}.`)}function R0(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Aw(r,e){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dV{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ss(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[uf].arrayValue?.values?.map((a=>$t(a.doubleValue)));return new Ti(n)}convertGeoPoint(e){return new Ei($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Of(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=Za(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=bt.fromString(e);ct(QS(a),9688,{name:e});const o=new Uu(a.get(1),a.get(3)),u=new De(a.popFirst(5));return o.isEqual(n)||Xi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class Oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wo extends Sw{constructor(e,n,a,o,u,c){super(e,n,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Bg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wo._jsonSchema={type:sn("string",Wo._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class Qh extends Wo{data(e={}){return super.data(e)}}class Jo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Oh(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Qh(this._firestore,this._userDataWriter,a.key,a,new Oh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:pV(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:r})}}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:sn("string",Jo._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class gV extends dV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function Rw(r){r=Gs(r,Zs);const e=Gs(r.firestore,tc),n=yw(e),a=new gV(e);return cV(r._query),WM(n,r._query).then((o=>new Jo(e,a,r,o)))}function Cw(r,e,n,...a){r=Gs(r,ln);const o=Gs(r.firestore,tc),u=kg(o);let c;return c=typeof(e=Mt(e))=="string"||e instanceof Hf?sV(u,"updateDoc",r._key,e,n,a):aV(u,"updateDoc",r._key,e),Kg(o,[c.toMutation(r._key,Qr.exists(!0))])}function Iw(r){return Kg(Gs(r.firestore,tc),[new vg(r._key,Qr.none())])}function Dw(r,e){const n=Gs(r.firestore,tc),a=ec(r),o=mV(r.converter,e);return Kg(n,[iV(kg(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Qr.exists(!1))]).then((()=>a))}function Kg(r,e){return(function(a,o){const u=new Ya;return a.asyncQueue.enqueueAndForget((async()=>UM(await $M(a),o,u))),u.promise})(yw(r),e)}(function(e,n=!0){(function(o){cl=o})($s),Hs(new Wa("firestore",((a,{instanceIdentifier:o,options:u})=>{const c=a.getProvider("app").getImmediate(),m=new tc(new tO(a.getProvider("auth-internal")),new iO(c,a.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),pi(DT,NT,e),pi(DT,NT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firebasestorage.googleapis.com",Ow="storageBucket",yV=120*1e3,_V=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends Si{constructor(e,n,a=0){super(op(e),`Firebase Storage: ${n} (${op(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return op(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bt||(Bt={}));function op(r){return"storage/"+r}function Qg(){const r="An unknown error occurred, please check the error payload for server response.";return new Ht(Bt.UNKNOWN,r)}function vV(r){return new Ht(Bt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function EV(r){return new Ht(Bt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TV(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht(Bt.UNAUTHENTICATED,r)}function bV(){return new Ht(Bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function SV(r){return new Ht(Bt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function wV(){return new Ht(Bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AV(){return new Ht(Bt.CANCELED,"User canceled the upload/download.")}function RV(r){return new Ht(Bt.INVALID_URL,"Invalid URL '"+r+"'.")}function CV(r){return new Ht(Bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function IV(){return new Ht(Bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ow+"' property when initializing the app?")}function DV(){return new Ht(Bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NV(){return new Ht(Bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OV(r){return new Ht(Bt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zp(r){return new Ht(Bt.INVALID_ARGUMENT,r)}function xw(){return new Ht(Bt.APP_DELETED,"The Firebase app was deleted.")}function xV(r){return new Ht(Bt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Iu(r,e){return new Ht(Bt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function mu(r){throw new Ht(Bt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=dr.makeFromUrl(e,n)}catch{return new dr(e,"")}if(a.path==="")return a;throw CV(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(de){de.path_=decodeURIComponent(de.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",I=new RegExp(`^https?://${T}/${v}/b/${o}/o${S}`,"i"),k={bucket:1,path:3},G=n===Nw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",Z=new RegExp(`^https?://${G}/${o}/${U}`,"i"),te=[{regex:m,indices:p,postModify:u},{regex:I,indices:k,postModify:g},{regex:Z,indices:{bucket:1,path:2},postModify:g}];for(let de=0;de<te.length;de++){const me=te[de],H=me.regex.exec(e);if(H){const D=H[me.indices.bucket];let A=H[me.indices.path];A||(A=""),a=new dr(D,A),me.postModify(a);break}}if(a==null)throw RV(e);return a}}class MV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(r,e,n){let a=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...U){g||(g=!0,e.apply(null,U))}function T(U){o=setTimeout(()=>{o=null,r(I,p())},U)}function S(){u&&clearTimeout(u)}function I(U,...Z){if(g){S();return}if(U){S(),v.call(null,U,...Z);return}if(p()||c){S(),v.call(null,U,...Z);return}a<64&&(a*=2);let te;m===1?(m=2,te=0):te=(a+Math.random())*1e3,T(te)}let k=!1;function G(U){k||(k=!0,S(),!g&&(o!==null?(U||(m=2),clearTimeout(o),T(0)):U||(m=1)))}return T(0),u=setTimeout(()=>{c=!0,G(!0)},n),G}function PV(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(r){return r!==void 0}function UV(r){return typeof r=="object"&&!Array.isArray(r)}function Yg(r){return typeof r=="string"||r instanceof String}function C0(r){return $g()&&r instanceof Blob}function $g(){return typeof Blob<"u"}function I0(r,e,n,a){if(a<e)throw zp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw zp(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function Mw(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var js;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(js||(js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,a,o,u,c,m,p,g,v,T,S=!0,I=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,G)=>{this.resolve_=k,this.reject_=G,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new xh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===js.NO_ERROR,p=u.getStatus();if(!m||kV(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===js.ABORT;a(!1,new xh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new xh(g,u))})},n=(a,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());LV(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=Qg();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?xw():AV();c(p)}else{const p=wV();c(p)}};this.canceled_?n(!1,new xh(!1,null,!0)):this.backoffId_=VV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xh{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function jV(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function BV(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HV(r,e){e&&(r["X-Firebase-GMPID"]=e)}function qV(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function FV(r,e,n,a,o,u,c=!0,m=!1){const p=Mw(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return HV(v,e),jV(v,n),BV(v,u),qV(v,a),new zV(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KV(...r){const e=GV();if(e!==void 0){const n=new e;for(let a=0;a<r.length;a++)n.append(r[a]);return n.getBlob()}else{if($g())return new Blob(r);throw new Ht(Bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function QV(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(r){if(typeof atob>"u")throw OV("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lp{constructor(e,n){this.data=e,this.contentType=n||null}}function $V(r,e){switch(r){case di.RAW:return new lp(Vw(e));case di.BASE64:case di.BASE64URL:return new lp(Pw(r,e));case di.DATA_URL:return new lp(WV(e),JV(e))}throw Qg()}function Vw(r){const e=[];for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=a,c=r.charCodeAt(++n);a=65536|(u&1023)<<10|c&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function XV(r){let e;try{e=decodeURIComponent(r)}catch{throw Iu(di.DATA_URL,"Malformed data URL.")}return Vw(e)}function Pw(r,e){switch(r){case di.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Iu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case di.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Iu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YV(e)}catch(o){throw o.message.includes("polyfill")?o:Iu(r,"Invalid character found")}const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}class Lw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Iu(di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=ZV(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function WV(r){const e=new Lw(r);return e.base64?Pw(di.BASE64,e.rest):XV(e.rest)}function JV(r){return new Lw(r).contentType}function ZV(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){let a=0,o="";C0(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(C0(this.data_)){const a=this.data_,o=QV(a,e,n);return o===null?null:new Ha(o)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Ha(a,!0)}}static getBlob(...e){if($g()){const n=e.map(a=>a instanceof Ha?a.data_:a);return new Ha(KV.apply(null,n))}else{const n=e.map(c=>Yg(c)?$V(di.RAW,c).data:c.data_);let a=0;n.forEach(c=>{a+=c.byteLength});const o=new Uint8Array(a);let u=0;return n.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new Ha(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){let e;try{e=JSON.parse(r)}catch{return null}return UV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function tP(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function kw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(r,e){return e}class kn{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||nP}}let Mh=null;function rP(r){return!Yg(r)||r.length<2?r:kw(r)}function zw(){if(Mh)return Mh;const r=[];r.push(new kn("bucket")),r.push(new kn("generation")),r.push(new kn("metageneration")),r.push(new kn("name","fullPath",!0));function e(u,c){return rP(c)}const n=new kn("name");n.xform=e,r.push(n);function a(u,c){return c!==void 0?Number(c):c}const o=new kn("size");return o.xform=a,r.push(o),r.push(new kn("timeCreated")),r.push(new kn("updated")),r.push(new kn("md5Hash",null,!0)),r.push(new kn("cacheControl",null,!0)),r.push(new kn("contentDisposition",null,!0)),r.push(new kn("contentEncoding",null,!0)),r.push(new kn("contentLanguage",null,!0)),r.push(new kn("contentType",null,!0)),r.push(new kn("metadata","customMetadata",!0)),Mh=r,Mh}function iP(r,e){function n(){const a=r.bucket,o=r.fullPath,u=new dr(a,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function aP(r,e,n){const a={};a.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];a[c.local]=c.xform(a,e[c.server])}return iP(a,r),a}function jw(r,e,n){const a=Uw(e);return a===null?null:aP(r,a,n)}function sP(r,e,n,a){const o=Uw(e);if(o===null||!Yg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const v=r.bucket,T=r.fullPath,S="/b/"+c(v)+"/o/"+c(T),I=Xg(S,n,a),k=Mw({alt:"media",token:g});return I+k})[0]}function oP(r,e){const n={},a=e.length;for(let o=0;o<a;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class Bw{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){if(!r)throw Qg()}function lP(r,e){function n(a,o){const u=jw(r,o,e);return Hw(u!==null),u}return n}function uP(r,e){function n(a,o){const u=jw(r,o,e);return Hw(u!==null),sP(u,o,r.host,r._protocol)}return n}function qw(r){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=bV():o=TV():n.getStatus()===402?o=EV(r.bucket):n.getStatus()===403?o=SV(r.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function cP(r){const e=qw(r);function n(a,o){let u=e(a,o);return a.getStatus()===404&&(u=vV(r.path)),u.serverResponse=o.serverResponse,u}return n}function hP(r,e,n){const a=e.fullServerUrl(),o=Xg(a,r.host,r._protocol),u="GET",c=r.maxOperationRetryTime,m=new Bw(o,u,uP(r,n),c);return m.errorHandler=cP(e),m}function fP(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function dP(r,e,n){const a=Object.assign({},n);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=fP(null,e)),a}function mP(r,e,n,a,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let te="";for(let de=0;de<2;de++)te=te+Math.random().toString().slice(2);return te}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=dP(e,a,o),v=oP(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",I=Ha.getBlob(T,a,S);if(I===null)throw DV();const k={name:g.fullPath},G=Xg(u,r.host,r._protocol),U="POST",Z=r.maxUploadRetryTime,ee=new Bw(G,U,lP(r,n),Z);return ee.urlParams=k,ee.headers=c,ee.body=I.uploadData(),ee.errorHandler=qw(e),ee}class pP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o,u){if(this.sent_)throw mu("cannot .send() more than once");if(as(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gP extends pP{initXhr(){this.xhr_.responseType="text"}}function Fw(){return new gP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this._service=e,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qs(e,n)}get root(){const e=new dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kw(this._location.path)}get storage(){return this._service}get parent(){const e=eP(this._location.path);if(e===null)return null;const n=new dr(this._location.bucket,e);return new Qs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xV(e)}}function yP(r,e,n){r._throwIfRoot("uploadBytes");const a=mP(r.storage,r._location,zw(),new Ha(e,!0),n);return r.storage.makeRequestWithTokens(a,Fw).then(o=>({metadata:o,ref:r}))}function _P(r){r._throwIfRoot("getDownloadURL");const e=hP(r.storage,r._location,zw());return r.storage.makeRequestWithTokens(e,Fw).then(n=>{if(n===null)throw NV();return n})}function vP(r,e){const n=tP(r._location.path,e),a=new dr(r._location.bucket,n);return new Qs(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(r){return/^[A-Za-z]+:\/\//.test(r)}function TP(r,e){return new Qs(r,e)}function Gw(r,e){if(r instanceof Wg){const n=r;if(n._bucket==null)throw IV();const a=new Qs(n,n._bucket);return e!=null?Gw(a,e):a}else return e!==void 0?vP(r,e):r}function bP(r,e){if(e&&EP(e)){if(r instanceof Wg)return TP(r,e);throw zp("To use ref(service, url), the first argument must be a Storage instance.")}else return Gw(r,e)}function D0(r,e){const n=e?.[Ow];return n==null?null:dr.makeFromBucketSpec(n,r)}function SP(r,e,n,a={}){r.host=`${e}:${n}`;const o=as(e);o&&(Jp(`https://${r.host}/b`),Zp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:db(u,r.app.options.projectId))}class Wg{constructor(e,n,a,o,u,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=Nw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yV,this._maxUploadRetryTime=_V,this._requests=new Set,o!=null?this._bucket=dr.makeFromBucketSpec(o,this._host):this._bucket=D0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,e):this._bucket=D0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qs(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new MV(xw());{const c=FV(e,this._appId,a,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const N0="@firebase/storage",O0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="storage";function wP(r,e,n){return r=Mt(r),yP(r,e,n)}function AP(r){return r=Mt(r),_P(r)}function RP(r,e){return r=Mt(r),bP(r,e)}function CP(r=ng(),e){r=Mt(r);const a=Sf(r,Kw).getImmediate({identifier:e}),o=cb("storage");return o&&IP(a,...o),a}function IP(r,e,n,a={}){SP(r,e,n,a)}function DP(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Wg(n,a,o,e,$s)}function NP(){Hs(new Wa(Kw,DP,"PUBLIC").setMultipleInstances(!0)),pi(N0,O0,""),pi(N0,O0,"esm2020")}NP();const OP={apiKey:"AIzaSyBgQwHnwsDywktHwm_XeESsbQlrQfadRas",authDomain:"coffee-alarrab.firebaseapp.com",projectId:"coffee-alarrab",storageBucket:"coffee-alarrab.firebasestorage.app",messagingSenderId:"300698805423",appId:"1:300698805423:web:34a81e33d9236c172fe05a",measurementId:"G-PZZJBG1BMX"},Jg=gb(OP),pu=$2(Jg),ls=ZM(Jg),xP=CP(Jg),Qw=z.createContext(),rc=()=>{const r=z.useContext(Qw);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},MP=({children:r})=>{const[e,n]=z.useState(null),[a,o]=z.useState(!0);z.useEffect(()=>UN(pu,v=>{console.log("Auth state changed:",v?.email),n(v),o(!1)}),[]);const p={user:e,login:async(g,v)=>{try{const T=await xN(pu,g,v);return console.log("Login successful:",T.user.email),T}catch(T){throw console.error("Login error:",T.code,T.message),T}},logout:async()=>{try{await kN(pu),console.log("Logout successful")}catch(g){throw console.error("Logout error:",g),g}},changePassword:async g=>{if(pu.currentUser)try{await MN(pu.currentUser,g),console.log("Password changed successfully")}catch(v){throw console.error("Password change error:",v),v}else throw new Error("No user logged in")},loading:a};return R.jsx(Qw.Provider,{value:p,children:!a&&r})},VP=async()=>{const r=hV(Bf(ls,"categories"),fV("order"));return(await Rw(r)).docs.map(n=>({id:n.id,...n.data()}))},PP=async r=>await Dw(Bf(ls,"categories"),{...r,createdAt:new Date().toISOString()}),LP=async(r,e)=>{const n=ec(ls,"categories",r);return await Cw(n,{...e,updatedAt:new Date().toISOString()})},UP=async r=>{const e=ec(ls,"categories",r);return await Iw(e)},kP=async()=>(await Rw(Bf(ls,"items"))).docs.map(e=>({id:e.id,...e.data()})),zP=async r=>await Dw(Bf(ls,"items"),{...r,createdAt:new Date().toISOString()}),jP=async(r,e)=>{const n=ec(ls,"items",r);return await Cw(n,{...e,updatedAt:new Date().toISOString()})},BP=async r=>{const e=ec(ls,"items",r);return await Iw(e)},Yw=async(r,e)=>{const n=RP(xP,`${e}/${Date.now()}_${r.name}`);return await wP(n,r),await AP(n)},$w=z.createContext(),pl=()=>{const r=z.useContext($w);if(!r)throw new Error("useApp must be used within AppProvider");return r},HP=({children:r})=>{const[e,n]=z.useState([]),[a,o]=z.useState([]),[u,c]=z.useState(!0);z.useEffect(()=>{m()},[]);const m=async()=>{try{const[g,v]=await Promise.all([VP(),kP()]);n(g),o(v)}catch(g){console.error("Error loading data:",g)}finally{c(!1)}},p={categories:e,items:a,loading:u,refreshData:m};return R.jsx($w.Provider,{value:p,children:r})},qP=({isOpen:r,onClose:e,isMobile:n})=>{const a=Ji(),o=[{path:"/dashboard",icon:"speedometer2",label:"Dashboard"},{path:"/categories",icon:"grid-3x3",label:"Categories"},{path:"/items",icon:"cup-hot",label:"Items"}];return R.jsxs("div",{className:`sidebar ${r?"open":"closed"}`,children:[R.jsxs("div",{className:"sidebar-header",children:[R.jsx("h4",{className:"text-white mb-0",children:" Caf Admin"}),n&&R.jsx("button",{className:"btn btn-link text-white p-0 sidebar-close-btn",onClick:e,"aria-label":"Close Sidebar",children:R.jsx("i",{className:"bi bi-x-lg"})})]}),R.jsx("ul",{className:"sidebar-menu",children:o.map(u=>R.jsx("li",{className:a.pathname===u.path?"active":"",children:R.jsxs(Wp,{to:u.path,onClick:e,children:[R.jsx("i",{className:`bi bi-${u.icon}`})," ",u.label]})},u.path))})]})},FP=({onChangePassword:r,onToggleSidebar:e})=>{const[n,a]=z.useState(!1),{user:o,logout:u}=rc(),c=async()=>{await u()};return R.jsxs("div",{className:"header",children:[R.jsxs("div",{className:"d-flex align-items-center gap-3",children:[R.jsx("button",{className:"btn btn-light sidebar-toggle",onClick:e,"aria-label":"Toggle Sidebar",children:R.jsx("i",{className:"bi bi-list"})}),R.jsx("h5",{className:"mb-0",children:"Admin Panel"})]}),R.jsxs("div",{className:"position-relative",children:[R.jsxs("button",{className:"btn btn-light",onClick:()=>a(!n),children:[R.jsx("i",{className:"bi bi-person-circle"})," ",o?.email||"Admin"]}),n&&R.jsxs("div",{className:"dropdown-menu-custom",children:[R.jsxs("button",{onClick:r,children:[R.jsx("i",{className:"bi bi-key"})," Change Password"]}),R.jsxs("button",{onClick:c,children:[R.jsx("i",{className:"bi bi-box-arrow-right"})," Logout"]})]})]})]})},Ff=({isOpen:r,onClose:e,title:n,children:a,size:o="md"})=>r?R.jsx("div",{className:"modal-overlay",onClick:e,children:R.jsxs("div",{className:`modal-content modal-${o}`,onClick:u=>u.stopPropagation(),children:[R.jsxs("div",{className:"modal-header",children:[R.jsx("h4",{children:n}),R.jsx("button",{className:"modal-close",onClick:e,children:R.jsx("i",{className:"bi bi-x-lg"})})]}),R.jsx("div",{className:"modal-body",children:a})]})}):null,Gr=({label:r,type:e="text",value:n,onChange:a,placeholder:o,required:u=!1,error:c,disabled:m=!1,...p})=>R.jsxs("div",{className:"form-group mb-3",children:[r&&R.jsxs("label",{className:"form-label",children:[r," ",u&&R.jsx("span",{className:"text-danger",children:"*"})]}),R.jsx("input",{type:e,className:`form-control ${c?"is-invalid":""}`,value:n,onChange:a,placeholder:o,required:u,disabled:m,...p}),c&&R.jsx("div",{className:"invalid-feedback",children:c})]}),On=({children:r,onClick:e,type:n="button",variant:a="primary",size:o="md",disabled:u=!1,icon:c,fullWidth:m=!1})=>R.jsxs("button",{type:n,className:`btn btn-${a} btn-${o} ${m?"w-100":""}`,onClick:e,disabled:u,children:[c&&R.jsx("i",{className:`bi bi-${c} me-2`}),r]}),GP=()=>{const[r,e]=z.useState(!1),[n,a]=z.useState(""),[o,u]=z.useState(""),[c,m]=z.useState(""),[p,g]=z.useState(!0),[v,T]=z.useState(!1),{changePassword:S}=rc();z.useEffect(()=>{const U=()=>{const Z=window.innerWidth<768;T(Z),g(!Z)};return U(),window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]);const I=async U=>{if(U.preventDefault(),m(""),n!==o){m("Passwords do not match");return}if(n.length<6){m("Password must be at least 6 characters");return}try{await S(n),alert("Password changed successfully!"),e(!1),a(""),u("")}catch(Z){m(Z.message)}},k=()=>{g(!p)},G=()=>{v&&g(!1)};return R.jsxs("div",{className:"admin-layout",children:[p&&v&&R.jsx("div",{className:"sidebar-overlay",onClick:G}),R.jsx(qP,{isOpen:p,onClose:G,isMobile:v}),R.jsxs("div",{className:`main-content ${p?"sidebar-open":"sidebar-closed"}`,children:[R.jsx(FP,{onChangePassword:()=>e(!0),onToggleSidebar:k}),R.jsx("div",{className:"content-wrapper",children:R.jsx(pC,{})})]}),R.jsx(Ff,{isOpen:r,onClose:()=>e(!1),title:"Change Password",children:R.jsxs("form",{onSubmit:I,children:[R.jsx(Gr,{label:"New Password",type:"password",value:n,onChange:U=>a(U.target.value),required:!0,error:c}),R.jsx(Gr,{label:"Confirm Password",type:"password",value:o,onChange:U=>u(U.target.value),required:!0}),R.jsxs("div",{className:"d-flex gap-2",children:[R.jsx(On,{type:"submit",variant:"primary",children:"Change Password"}),R.jsx(On,{type:"button",variant:"secondary",onClick:()=>e(!1),children:"Cancel"})]})]})})]})},KP=()=>{const[r,e]=z.useState(""),[n,a]=z.useState(""),[o,u]=z.useState(!1),[c,m]=z.useState(""),[p,g]=z.useState(!1),{login:v}=rc(),T=Kp(),S=async I=>{I.preventDefault(),m(""),g(!0);try{await v(r,n),T("/dashboard")}catch(k){console.error("Login error:",k),m("Invalid email or password. Please try again.")}finally{g(!1)}};return R.jsx("div",{className:"login-container",children:R.jsxs("div",{className:"login-card",children:[R.jsxs("div",{className:"text-center mb-4",children:[R.jsx("div",{className:"login-logo mb-3",children:R.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQX3QR-O4jI1THzjCUKf2HOmBSYjiEyiqopEg&s",alt:"Caf Logo",className:"cafe-logo"})}),R.jsx("h2",{children:"Caf Admin"}),R.jsx("p",{className:"text-muted",children:"Login to your dashboard"})]}),c&&R.jsx("div",{className:"alert alert-danger",role:"alert",children:c}),R.jsxs("form",{onSubmit:S,children:[R.jsxs("div",{className:"form-group mb-3",children:[R.jsx("label",{className:"form-label",children:"Email"}),R.jsx("input",{type:"email",className:"form-control",value:r,onChange:I=>e(I.target.value),placeholder:"Enter your email",required:!0,disabled:p})]}),R.jsxs("div",{className:"form-group mb-4",children:[R.jsx("label",{className:"form-label",children:"Password"}),R.jsxs("div",{className:"password-input-wrapper",children:[R.jsx("input",{type:o?"text":"password",className:"form-control",value:n,onChange:I=>a(I.target.value),placeholder:"Enter your password",required:!0,disabled:p}),R.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>u(!o),tabIndex:"-1",children:R.jsx("i",{className:`bi ${o?"bi-eye-slash":"bi-eye"}`})})]})]}),R.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:p,children:p?R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Logging in..."]}):"Login"})]}),R.jsx("div",{className:"mt-4 text-center",children:R.jsx("small",{className:"text-muted",children:"Don't have an account? Contact administrator."})})]})})},QP=({title:r,value:e,icon:n,color:a,trend:o,delay:u})=>R.jsxs("div",{className:"stat-card",style:{borderLeftColor:a,animationDelay:`${u}s`},children:[R.jsx("div",{className:"stat-icon",style:{backgroundColor:a},children:R.jsx("i",{className:`bi bi-${n}`})}),R.jsxs("div",{className:"stat-content",children:[R.jsx("h3",{children:e}),R.jsx("p",{children:r}),o&&R.jsx("span",{className:"stat-trend",style:{color:a},children:o})]})]}),Zg=({fullScreen:r=!1})=>R.jsxs("div",{className:`loading-container ${r?"fullscreen":""}`,children:[R.jsx("div",{className:"spinner"}),R.jsx("p",{children:"Loading..."})]}),YP=()=>{const{categories:r,items:e,loading:n}=pl();if(n)return R.jsx(Zg,{fullScreen:!0});const a=[{title:"Total Categories",value:r.length,icon:"grid-3x3",color:"#FF6B6B",trend:"+12%"},{title:"Total Items",value:e.length,icon:"cup-hot",color:"#4ECDC4",trend:"+8%"},{title:"Active Categories",value:r.length,icon:"check-circle",color:"#95E1D3",trend:"100%"},{title:"Avg Price",value:e.length>0?`${(e.reduce((o,u)=>o+parseFloat(u.price||0),0)/e.length).toFixed(2)} EGP`:"0 EGP",icon:"currency-dollar",color:"#FFE66D",trend:"+5%"}];return R.jsxs("div",{className:"dashboard-page",children:[R.jsx("h2",{className:"page-title",children:"Dashboard Overview"}),R.jsx("div",{className:"stats-grid",children:a.map((o,u)=>R.jsx(QP,{...o,delay:u*.1},u))}),R.jsxs("div",{className:"row mt-4",children:[R.jsx("div",{className:"col-md-6",children:R.jsx("div",{className:"card",children:R.jsxs("div",{className:"card-body",children:[R.jsxs("h5",{className:"card-title",children:[R.jsx("i",{className:"bi bi-grid-3x3 me-2"}),"Recent Categories"]}),R.jsxs("div",{className:"list-group list-group-flush",children:[r.slice(0,5).map(o=>R.jsx("div",{className:"list-group-item",children:R.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[R.jsxs("div",{children:[R.jsx("strong",{children:o.name}),R.jsx("p",{className:"mb-0 text-muted small",children:o.nameEn})]}),R.jsxs("span",{className:"badge bg-primary rounded-pill",children:["Order: ",o.order]})]})},o.id)),r.length===0&&R.jsx("div",{className:"list-group-item text-center text-muted",children:"No categories yet"})]})]})})}),R.jsx("div",{className:"col-md-6",children:R.jsx("div",{className:"card",children:R.jsxs("div",{className:"card-body",children:[R.jsxs("h5",{className:"card-title",children:[R.jsx("i",{className:"bi bi-cup-hot me-2"}),"Recent Items"]}),R.jsxs("div",{className:"list-group list-group-flush",children:[e.slice(0,5).map(o=>R.jsx("div",{className:"list-group-item",children:R.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[R.jsxs("div",{children:[R.jsx("strong",{children:o.nameAr}),R.jsx("p",{className:"mb-0 text-muted small",children:o.nameEn})]}),R.jsxs("span",{className:"badge bg-success rounded-pill",children:[o.price," EGP"]})]})},o.id)),e.length===0&&R.jsx("div",{className:"list-group-item text-center text-muted",children:"No items yet"})]})]})})})]})]})},Xw=()=>{const{refreshData:r}=pl(),[e,n]=z.useState(!1),[a,o]=z.useState(null);return{addCategory:async p=>{n(!0),o(null);try{return await PP(p),await r(),{success:!0}}catch(g){return o(g.message),{success:!1,error:g.message}}finally{n(!1)}},updateCategory:async(p,g)=>{n(!0),o(null);try{return await LP(p,g),await r(),{success:!0}}catch(v){return o(v.message),{success:!1,error:v.message}}finally{n(!1)}},deleteCategory:async p=>{n(!0),o(null);try{return await UP(p),await r(),{success:!0}}catch(g){return o(g.message),{success:!1,error:g.message}}finally{n(!1)}},loading:e,error:a}},$P=({category:r,onEdit:e,onDelete:n,delay:a})=>R.jsxs("div",{className:"category-card",style:{animationDelay:`${a}s`},children:[R.jsx("div",{className:"category-image",children:r.image?R.jsx("img",{src:r.image,alt:r.name}):R.jsx("i",{className:"bi bi-image"})}),R.jsxs("div",{className:"category-info",children:[R.jsx("h5",{children:r.name}),R.jsx("p",{children:r.nameEn}),R.jsxs("span",{className:"badge bg-secondary",children:["Order: ",r.order]})]}),R.jsxs("div",{className:"category-actions",children:[R.jsx(On,{size:"sm",variant:"warning",icon:"pencil",onClick:e}),R.jsx(On,{size:"sm",variant:"danger",icon:"trash",onClick:n})]})]}),Du=r=>r&&r.trim().length>0,XP=r=>!isNaN(r)&&parseFloat(r)>0,WP=r=>{const e={};return Du(r.name)||(e.name="Arabic name is required"),Du(r.nameEn)||(e.nameEn="English name is required"),(!r.order||r.order<1)&&(e.order="Order must be greater than 0"),{isValid:Object.keys(e).length===0,errors:e}},JP=r=>{const e={};return Du(r.nameAr)||(e.nameAr="Arabic name is required"),Du(r.nameEn)||(e.nameEn="English name is required"),Du(r.categoryId)||(e.categoryId="Category is required"),XP(r.price)||(e.price="Valid price is required"),{isValid:Object.keys(e).length===0,errors:e}},x0={name:"",nameEn:"",image:"",order:1},M0={nameAr:"",nameEn:"",categoryId:"",price:"",size:"",image:""},ZP=({isOpen:r,onClose:e,category:n})=>{const[a,o]=z.useState(x0),[u,c]=z.useState({}),[m,p]=z.useState(null),[g,v]=z.useState(!1),{addCategory:T,updateCategory:S,loading:I}=Xw();z.useEffect(()=>{o(n||x0),c({}),p(null)},[n,r]);const k=Z=>{const{name:ee,value:te}=Z.target;o(de=>({...de,[ee]:te})),u[ee]&&c(de=>({...de,[ee]:""}))},G=Z=>{const ee=Z.target.files[0];ee&&p(ee)},U=async Z=>{Z.preventDefault();const ee=WP(a);if(!ee.isValid){c(ee.errors);return}try{v(!0);let te=a.image;m&&(te=await Yw(m,"categories"));const de={...a,image:te};n?await S(n.id,de):await T(de),e()}catch(te){c({submit:te.message})}finally{v(!1)}};return R.jsx(Ff,{isOpen:r,onClose:e,title:n?"Edit Category":"Add Category",children:R.jsxs("form",{onSubmit:U,children:[R.jsx(Gr,{label:"Arabic Name",name:"name",value:a.name,onChange:k,error:u.name,required:!0}),R.jsx(Gr,{label:"English Name",name:"nameEn",value:a.nameEn,onChange:k,error:u.nameEn,required:!0}),R.jsx(Gr,{label:"Order",name:"order",type:"number",value:a.order,onChange:k,error:u.order,required:!0}),R.jsxs("div",{className:"form-group mb-3",children:[R.jsx("label",{className:"form-label",children:"Current Image URL"}),R.jsx(Gr,{name:"image",value:a.image,onChange:k,placeholder:"Or enter image URL"})]}),R.jsxs("div",{className:"form-group mb-3",children:[R.jsx("label",{className:"form-label",children:"Upload New Image"}),R.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:G}),m&&R.jsxs("small",{className:"text-success",children:["Selected: ",m.name]})]}),a.image&&R.jsx("div",{className:"mb-3",children:R.jsx("img",{src:a.image,alt:"Preview",style:{maxWidth:"100%",height:"150px",objectFit:"cover",borderRadius:"8px"}})}),u.submit&&R.jsx("div",{className:"alert alert-danger",children:u.submit}),R.jsxs("div",{className:"d-flex gap-2",children:[R.jsx(On,{type:"submit",variant:"primary",disabled:I||g,children:g?"Uploading...":I?"Saving...":"Save"}),R.jsx(On,{type:"button",variant:"secondary",onClick:e,disabled:I||g,children:"Cancel"})]})]})})},Ww=({isOpen:r,onClose:e,onConfirm:n,title:a="Confirm Action",message:o="Are you sure you want to proceed?",confirmText:u="Confirm",cancelText:c="Cancel",variant:m="danger"})=>R.jsxs(Ff,{isOpen:r,onClose:e,title:a,size:"sm",children:[R.jsx("p",{className:"mb-4",children:o}),R.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[R.jsx(On,{variant:"secondary",onClick:e,children:c}),R.jsx(On,{variant:m,onClick:n,children:u})]})]}),e4=()=>{const{categories:r,loading:e}=pl(),{deleteCategory:n}=Xw(),[a,o]=z.useState(!1),[u,c]=z.useState(null),[m,p]=z.useState(!1),[g,v]=z.useState(null);if(e)return R.jsx(Zg,{fullScreen:!0});const T=G=>{c(G),o(!0)},S=G=>{v(G),p(!0)},I=async()=>{await n(g),p(!1),v(null)},k=()=>{o(!1),c(null)};return R.jsxs("div",{className:"categories-page",children:[R.jsxs("div",{className:"page-header",children:[R.jsx("h2",{className:"page-title",children:"Categories Management"}),R.jsx(On,{variant:"primary",icon:"plus-circle",onClick:()=>o(!0),children:"Add Category"})]}),R.jsx("div",{className:"categories-grid",children:r.map((G,U)=>R.jsx($P,{category:G,onEdit:()=>T(G),onDelete:()=>S(G.id),delay:U*.1},G.id))}),r.length===0&&R.jsxs("div",{className:"empty-state",children:[R.jsx("i",{className:"bi bi-grid-3x3 empty-icon"}),R.jsx("p",{children:"No categories yet. Create your first category!"}),R.jsx(On,{variant:"primary",onClick:()=>o(!0),children:"Create Category"})]}),R.jsx(ZP,{isOpen:a,onClose:k,category:u}),R.jsx(Ww,{isOpen:m,onClose:()=>p(!1),onConfirm:I,title:"Delete Category",message:"Are you sure you want to delete this category? This will also delete all items in this category.",confirmText:"Delete",variant:"danger"})]})},Jw=()=>{const{refreshData:r}=pl(),[e,n]=z.useState(!1),[a,o]=z.useState(null);return{addItem:async p=>{n(!0),o(null);try{return await zP(p),await r(),{success:!0}}catch(g){return o(g.message),{success:!1,error:g.message}}finally{n(!1)}},updateItem:async(p,g)=>{n(!0),o(null);try{return await jP(p,g),await r(),{success:!0}}catch(v){return o(v.message),{success:!1,error:v.message}}finally{n(!1)}},deleteItem:async p=>{n(!0),o(null);try{return await BP(p),await r(),{success:!0}}catch(g){return o(g.message),{success:!1,error:g.message}}finally{n(!1)}},loading:e,error:a}},t4=r=>`${parseFloat(r).toFixed(2)} EGP`,n4=({items:r,categories:e,onEdit:n,onDelete:a})=>{const o=u=>{const c=e.find(m=>m.id===u);return c?c.name:"Unknown"};return R.jsx("div",{className:"table-responsive",children:R.jsxs("table",{className:"table table-hover",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Image"}),R.jsx("th",{children:"Arabic Name"}),R.jsx("th",{children:"English Name"}),R.jsx("th",{children:"Category"}),R.jsx("th",{children:"Price"}),R.jsx("th",{children:"Size"}),R.jsx("th",{children:"Actions"})]})}),R.jsx("tbody",{children:r.map((u,c)=>R.jsxs("tr",{style:{animationDelay:`${c*.05}s`},className:"table-row-animated",children:[R.jsx("td",{children:u.image?R.jsx("img",{src:u.image,alt:u.nameAr,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"8px"}}):R.jsx("div",{style:{width:"50px",height:"50px",background:"#f0f0f0",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:R.jsx("i",{className:"bi bi-image"})})}),R.jsx("td",{children:R.jsx("strong",{children:u.nameAr})}),R.jsx("td",{children:u.nameEn}),R.jsx("td",{children:R.jsx("span",{className:"badge bg-info",children:o(u.categoryId)})}),R.jsx("td",{children:R.jsx("strong",{children:t4(u.price)})}),R.jsx("td",{children:u.size&&R.jsx("span",{className:"badge bg-secondary",children:u.size})}),R.jsx("td",{children:R.jsxs("div",{className:"d-flex gap-2",children:[R.jsx(On,{size:"sm",variant:"warning",icon:"pencil",onClick:()=>n(u)}),R.jsx(On,{size:"sm",variant:"danger",icon:"trash",onClick:()=>a(u.id)})]})})]},u.id))})]})})},r4=({isOpen:r,onClose:e,item:n})=>{const[a,o]=z.useState(M0),[u,c]=z.useState({}),[m,p]=z.useState(null),[g,v]=z.useState(!1),{addItem:T,updateItem:S,loading:I}=Jw(),{categories:k}=pl();z.useEffect(()=>{o(n||M0),c({}),p(null)},[n,r]);const G=ee=>{const{name:te,value:de}=ee.target;o(me=>({...me,[te]:de})),u[te]&&c(me=>({...me,[te]:""}))},U=ee=>{const te=ee.target.files[0];te&&p(te)},Z=async ee=>{ee.preventDefault();const te=JP(a);if(!te.isValid){c(te.errors);return}try{v(!0);let de=a.image;m&&(de=await Yw(m,"items"));const me={...a,image:de};n?await S(n.id,me):await T(me),e()}catch(de){c({submit:de.message})}finally{v(!1)}};return R.jsx(Ff,{isOpen:r,onClose:e,title:n?"Edit Item":"Add Item",size:"lg",children:R.jsxs("form",{onSubmit:Z,children:[R.jsxs("div",{className:"row",children:[R.jsx("div",{className:"col-md-6",children:R.jsxs("div",{className:"form-group mb-3",children:[R.jsxs("label",{className:"form-label",children:["Category ",R.jsx("span",{className:"text-danger",children:"*"})]}),R.jsxs("select",{name:"categoryId",className:`form-control ${u.categoryId?"is-invalid":""}`,value:a.categoryId,onChange:G,required:!0,children:[R.jsx("option",{value:"",children:"Select Category"}),k.map(ee=>R.jsxs("option",{value:ee.id,children:[ee.name," - ",ee.nameEn]},ee.id))]}),u.categoryId&&R.jsx("div",{className:"invalid-feedback",children:u.categoryId})]})}),R.jsx("div",{className:"col-md-6",children:R.jsx(Gr,{label:"Size",name:"size",value:a.size,onChange:G,placeholder:"S, M, L, etc."})})]}),R.jsxs("div",{className:"row",children:[R.jsx("div",{className:"col-md-6",children:R.jsx(Gr,{label:"Arabic Name",name:"nameAr",value:a.nameAr,onChange:G,error:u.nameAr,required:!0})}),R.jsx("div",{className:"col-md-6",children:R.jsx(Gr,{label:"English Name",name:"nameEn",value:a.nameEn,onChange:G,error:u.nameEn,required:!0})})]}),R.jsx(Gr,{label:"Price (EGP)",name:"price",type:"number",step:"0.01",value:a.price,onChange:G,error:u.price,required:!0}),R.jsxs("div",{className:"form-group mb-3",children:[R.jsx("label",{className:"form-label",children:"Current Image URL"}),R.jsx(Gr,{name:"image",value:a.image,onChange:G,placeholder:"Or enter image URL"})]}),R.jsxs("div",{className:"form-group mb-3",children:[R.jsx("label",{className:"form-label",children:"Upload New Image"}),R.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:U}),m&&R.jsxs("small",{className:"text-success",children:["Selected: ",m.name]})]}),a.image&&R.jsx("div",{className:"mb-3",children:R.jsx("img",{src:a.image,alt:"Preview",style:{maxWidth:"100%",height:"150px",objectFit:"cover",borderRadius:"8px"}})}),u.submit&&R.jsx("div",{className:"alert alert-danger",children:u.submit}),R.jsxs("div",{className:"d-flex gap-2",children:[R.jsx(On,{type:"submit",variant:"primary",disabled:I||g,children:g?"Uploading...":I?"Saving...":"Save"}),R.jsx(On,{type:"button",variant:"secondary",onClick:e,disabled:I||g,children:"Cancel"})]})]})})},i4=()=>{const{items:r,categories:e,loading:n}=pl(),{deleteItem:a}=Jw(),[o,u]=z.useState(!1),[c,m]=z.useState(null),[p,g]=z.useState(!1),[v,T]=z.useState(null),[S,I]=z.useState("");if(n)return R.jsx(Zg,{fullScreen:!0});const k=S?r.filter(te=>te.categoryId===S):r,G=te=>{m(te),u(!0)},U=te=>{T(te),g(!0)},Z=async()=>{await a(v),g(!1),T(null)},ee=()=>{u(!1),m(null)};return R.jsxs("div",{className:"items-page",children:[R.jsxs("div",{className:"page-header",children:[R.jsx("h2",{className:"page-title",children:"Items Management"}),R.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[R.jsxs("select",{className:"form-select",style:{width:"200px"},value:S,onChange:te=>I(te.target.value),children:[R.jsx("option",{value:"",children:"All Categories"}),e.map(te=>R.jsx("option",{value:te.id,children:te.name},te.id))]}),R.jsx(On,{variant:"primary",icon:"plus-circle",onClick:()=>u(!0),children:"Add Item"})]})]}),R.jsx(n4,{items:k,categories:e,onEdit:G,onDelete:U}),k.length===0&&R.jsxs("div",{className:"empty-state",children:[R.jsx("i",{className:"bi bi-cup-hot empty-icon"}),R.jsx("p",{children:"No items yet. Create your first item!"}),R.jsx(On,{variant:"primary",onClick:()=>u(!0),children:"Create Item"})]}),R.jsx(r4,{isOpen:o,onClose:ee,item:c}),R.jsx(Ww,{isOpen:p,onClose:()=>g(!1),onConfirm:Z,title:"Delete Item",message:"Are you sure you want to delete this item?",confirmText:"Delete",variant:"danger"})]})},a4=({children:r})=>{const{user:e,loading:n}=rc();return n?R.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:R.jsx("div",{className:"spinner-border text-primary",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):e?r:R.jsx(Wh,{to:"/login",replace:!0})},s4=({children:r})=>{const{user:e,loading:n}=rc();return n?R.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:R.jsx("div",{className:"spinner-border text-primary",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):e?R.jsx(Wh,{to:"/dashboard",replace:!0}):r},o4=zC([{path:"/login",element:R.jsx(s4,{children:R.jsx(KP,{})})},{path:"/",element:R.jsx(a4,{children:R.jsx(GP,{})}),children:[{index:!0,element:R.jsx(Wh,{to:"/dashboard",replace:!0})},{path:"dashboard",element:R.jsx(YP,{})},{path:"categories",element:R.jsx(e4,{})},{path:"items",element:R.jsx(i4,{})}]},{path:"*",element:R.jsx(Wh,{to:"/login",replace:!0})}]);function l4(){return R.jsx(MP,{children:R.jsx(HP,{children:R.jsx(JC,{router:o4})})})}const u4=zR.createRoot(document.getElementById("root"));u4.render(R.jsx(xR.StrictMode,{children:R.jsx(l4,{})}));
